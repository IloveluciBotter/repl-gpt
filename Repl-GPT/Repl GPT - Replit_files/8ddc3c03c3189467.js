;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b91d06e2-9cca-f4ca-8ea9-2f359979d107")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,477655,504281,e=>{"use strict";var n,t=e.i(119468),r=function(){return Object.create(null)},i=Array.prototype,o=i.forEach,s=i.slice,u=function(){function e(e,n){void 0===e&&(e=!0),void 0===n&&(n=r),this.weakness=e,this.makeData=n}return e.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var n=this;return o.call(e,function(e){return n=n.getChildTrie(e)}),n.data||(n.data=this.makeData(s.call(e)))},e.prototype.getChildTrie=function(n){var r=this.weakness&&function(e){switch(void 0===e?"undefined":(0,t._)(e)){case"object":if(null===e)break;case"function":return!0}return!1}(n)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=r.get(n);return i||r.set(n,i=new e(this.weakness,this.makeData)),i},e}(),a=null,l={},c=1;function h(e){try{return e()}catch(e){}}var m="@wry/context:Slot",d=h(function(){return globalThis})||h(function(){return e.g})||Object.create(null),f=d[m]||Array[m]||function(e){try{Object.defineProperty(d,m,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(function(){function e(){this.id=["slot",c++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=a;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===l)break;return e!==a&&(a.slots[this.id]=n),!0}return a&&(a.slots[this.id]=l),!1},e.prototype.getValue=function(){if(this.hasValue())return a.slots[this.id]},e.prototype.withValue=function(e,n,t,r){var i,o=((i={__proto__:null})[this.id]=e,i),s=a;a={parent:s,slots:o};try{return n.apply(r,t)}finally{a=s}},e.bind=function(e){var n=a;return function(){var t=a;try{return a=n,e.apply(this,arguments)}finally{a=t}}},e.noContext=function(e,n,t){if(!a)return e.apply(t,n);var r=a;try{return a=null,e.apply(t,n)}finally{a=r}},e}());function p(){}f.bind,f.noContext;var g=function(){function e(e,n){void 0===e&&(e=1/0),void 0===n&&(n=p),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},e.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var t=n.older,r=n.newer;r&&(r.older=t),t&&(t.newer=r),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=r)}return n},e.prototype.set=function(e,n){var t=this.getNode(e);return t?t.value=n:(t={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=t),this.newest=t,this.oldest=this.oldest||t,this.map.set(e,t),t.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var n=this.map.get(e);return!!n&&(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0)},e}(),v=new f,T=Object.prototype.hasOwnProperty,y=void 0===(n=Array.from)?function(e){var n=[];return e.forEach(function(e){return n.push(e)}),n}:n;function D(e){var n=e.unsubscribe;"function"==typeof n&&(e.unsubscribe=void 0,n())}var S=[];function C(e,n){if(!e)throw Error(n||"assertion failure")}function b(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var w=function(){function e(n){this.fn=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!_(this))return k(this),this.value[0]},e.prototype.recompute=function(e){var n,t,r;return C(!this.recomputing,"already recomputing"),k(this),_(this)?(n=this,t=e,L(n),v.withValue(n,V,[n,t]),function(e,n){if("function"==typeof e.subscribe)try{D(e),e.unsubscribe=e.subscribe.apply(null,n)}catch(n){return e.setDirty(),!1}return!0}(n,t)&&((r=n).dirty=!1,_(r)||function(e){A(e,R)}(r)),b(n.value)):b(this.value)},e.prototype.setDirty=function(){var e;this.dirty||(this.dirty=!0,this.value.length=0,e=this,A(e,E),D(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),L(this),A(this,function(n,t){n.setDirty(),U(n,e)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=S.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(y(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),S.push(this.deps),this.deps=null)},e.count=0,e}();function k(e){var n=v.getValue();if(n)return e.parents.add(n),n.childValues.has(e)||n.childValues.set(e,[]),_(e)?E(n,e):R(n,e),n}function V(e,n){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,n)}catch(n){e.value[1]=n}e.recomputing=!1}function _(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function A(e,n){var t=e.parents.size;if(t)for(var r=y(e.parents),i=0;i<t;++i)n(r[i],e)}function E(e,n){C(e.childValues.has(n)),C(_(n));var t=!_(e);if(e.dirtyChildren){if(e.dirtyChildren.has(n))return}else e.dirtyChildren=S.pop()||new Set;e.dirtyChildren.add(n),t&&A(e,E)}function R(e,n){C(e.childValues.has(n)),C(!_(n));var t,r,i=e.childValues.get(n);0===i.length?e.childValues.set(n,n.value.slice(0)):(t=n.value,(r=i.length)>0&&r===t.length&&i[r-1]===t[r-1]||e.setDirty()),I(e,n),_(e)||A(e,R)}function I(e,n){var t=e.dirtyChildren;t&&(t.delete(n),0===t.size&&(S.length<100&&S.push(t),e.dirtyChildren=null))}function L(e){e.childValues.size>0&&e.childValues.forEach(function(n,t){U(e,t)}),e.forgetDeps(),C(null===e.dirtyChildren)}function U(e,n){n.parents.delete(e),e.childValues.delete(n),I(e,n)}var x={setDirty:!0,dispose:!0,forget:!0};function O(e){var n=new Map,t=e&&e.subscribe;function r(e){var r=v.getValue();if(r){var i=n.get(e);i||n.set(e,i=new Set),r.dependOn(i),"function"==typeof t&&(D(i),i.unsubscribe=t(e))}}return r.dirty=function(e,t){var r=n.get(e);if(r){var i=t&&T.call(x,t)?t:"setDirty";y(r).forEach(function(e){return e[i]()}),n.delete(e),D(r)}},r}function M(){var e=new u("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}M();var j=new Set;function P(e,n){void 0===n&&(n=Object.create(null));var t=new g(n.max||65536,function(e){return e.dispose()}),r=n.keyArgs,i=n.makeCacheKey||M(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var s=t.get(o);s||(t.set(o,s=new w(e)),s.subscribe=n.subscribe,s.forget=function(){return t.delete(o)});var u=s.recompute(Array.prototype.slice.call(arguments));return t.set(o,s),j.add(t),v.hasValue()||(j.forEach(function(e){return e.clean()}),j.clear()),u};function s(e){var n=t.get(e);n&&n.setDirty()}function u(e){var n=t.get(e);if(n)return n.peek()}function a(e){return t.delete(e)}return Object.defineProperty(o,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=u,o.peek=function(){return u(i.apply(null,arguments))},o.forgetKey=a,o.forget=function(){return a(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}e.s(["dep",()=>O,"wrap",()=>P],504281);var q=new f,F=new WeakMap;function G(e){var n=F.get(e);return n||F.set(e,n={vars:new Set,dep:O()}),n}function N(e){G(e).vars.forEach(function(n){return n.forgetCache(e)})}function W(e){G(e).vars.forEach(function(n){return n.attachCache(e)})}function K(e){var n=new Set,t=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,n.forEach(function(e){var n;G(e).dep.dirty(r),(n=e).broadcastWatches&&n.broadcastWatches()});var s=Array.from(t);t.clear(),s.forEach(function(n){return n(e)})}}else{var u=q.getValue();u&&(i(u),G(u).dep(r))}return e};r.onNextChange=function(e){return t.add(e),function(){t.delete(e)}};var i=r.attachCache=function(e){return n.add(e),G(e).vars.add(r),r};return r.forgetCache=function(e){return n.delete(e)},r}e.s(["cacheSlot",()=>q,"forgetCache",()=>N,"makeVar",()=>K,"recallCache",()=>W],477655)},921521,e=>{"use strict";var n=e.i(56493),t=e.i(332441);function r(){var e=(0,t.useUserAgent)();return!!e&&(0,n.default)(e)}e.s(["default",()=>r])},332441,e=>{"use strict";var n=e.i(530658),t=e.i(276385),r=e.i(389959),i=window.navigator.userAgent,o=(0,r.createContext)(i);function s(e){var i=e.value,s=e.children,u=(0,n._)((0,r.useState)(i),2),a=u[0],l=u[1];return(0,r.useEffect)(function(){i||l(window.navigator.userAgent)},[i]),(0,t.jsx)(o.Provider,{value:a,children:s})}function u(){return(0,r.useContext)(o)}function a(){var e=u();return!!e&&e.includes("Macintosh")}function l(){var e=u();return!!e&&e.includes("Windows")}var c=/iPhone|iPad|iPod/i;function h(){var e=u(),n=a();return!!e&&(!!e.match(c)||"ontouchstart"in window&&n)}function m(){var e=u();return!!e&&e.includes("Android")}e.s(["UserAgentProvider",()=>s,"useIsAndroid",()=>m,"useIsIOS",()=>h,"useIsMac",()=>a,"useIsWindows",()=>l,"useUserAgent",()=>u])},363201,e=>{"use strict";var n=e.i(878420),t=e.i(64386),r=e.i(276385),i=e.i(606867);function o(e){return(0,r.jsxs)(i.default,(0,t._)((0,n._)({},e),{children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 2.75a9.25 9.25 0 1 0 0 18.5 9.25 9.25 0 0 0 0-18.5ZM1.25 12C1.25 6.063 6.063 1.25 12 1.25S22.75 6.063 22.75 12 17.937 22.75 12 22.75 1.25 17.937 1.25 12ZM12 11.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}),(0,r.jsx)("path",{d:"M13 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})]}))}e.s(["default",()=>o])},703774,38840,475029,e=>{"use strict";var n,t,r=e.i(389959),i=e.i(297083),o=e.i(878420),s=e.i(64386),u=e.i(530658),a=e.i(817556),l=e.i(276385),c=e.i(931849),h=e.i(368964),m=e.i(569384),d=e.i(973245),f=e.i(304277);e.i(566901);var p=e.i(951262);function g(){var e=(0,m._)(["\n  fragment ThemeGlobalValues on ThemeValuesGlobal {\n    backgroundRoot\n    backgroundDefault\n    backgroundHigher\n    backgroundHighest\n    backgroundOverlay\n    foregroundDefault\n    foregroundDimmer\n    foregroundDimmest\n    outlineDimmest\n    outlineDimmer\n    outlineDefault\n    outlineStronger\n    outlineStrongest\n    accentPrimaryDimmest\n    accentPrimaryDimmer\n    accentPrimaryDefault\n    accentPrimaryStronger\n    accentPrimaryStrongest\n    accentPositiveDimmest\n    accentPositiveDimmer\n    accentPositiveDefault\n    accentPositiveStronger\n    accentPositiveStrongest\n    accentNegativeDimmest\n    accentNegativeDimmer\n    accentNegativeDefault\n    accentNegativeStronger\n    accentNegativeStrongest\n    brandAccentDefault\n    brandAccentDimmer\n    brandAccentDimmest\n    brandAccentStronger\n    brandAccentStrongest\n    redDimmest\n    redDimmer\n    redDefault\n    redStronger\n    redStrongest\n    orangeDimmest\n    orangeDimmer\n    orangeDefault\n    orangeStronger\n    orangeStrongest\n    yellowDimmest\n    yellowDimmer\n    yellowDefault\n    yellowStronger\n    yellowStrongest\n    limeDimmest\n    limeDimmer\n    limeDefault\n    limeStronger\n    limeStrongest\n    greenDimmest\n    greenDimmer\n    greenDefault\n    greenStronger\n    greenStrongest\n    tealDimmest\n    tealDimmer\n    tealDefault\n    tealStronger\n    tealStrongest\n    blueDimmest\n    blueDimmer\n    blueDefault\n    blueStronger\n    blueStrongest\n    blurpleDimmest\n    blurpleDimmer\n    blurpleDefault\n    blurpleStronger\n    blurpleStrongest\n    purpleDimmest\n    purpleDimmer\n    purpleDefault\n    purpleStronger\n    purpleStrongest\n    magentaDimmest\n    magentaDimmer\n    magentaDefault\n    magentaStronger\n    magentaStrongest\n    pinkDimmest\n    pinkDimmer\n    pinkDefault\n    pinkStronger\n    pinkStrongest\n    greyDimmest\n    greyDimmer\n    greyDefault\n    greyStronger\n    greyStrongest\n    brownDimmest\n    brownDimmer\n    brownDefault\n    brownStronger\n    brownStrongest\n    black\n    white\n  }\n"]);return g=function(){return e},e}function v(){var e=(0,m._)(["\n  fragment ThemesThemeValues on ThemeValues {\n    global {\n      ...ThemeGlobalValues\n    }\n    editor {\n      syntaxHighlighting {\n        tags {\n          name\n          modifiers\n        }\n        values\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function T(){var e=(0,m._)(["\n  fragment ThemesThemeVersion on ThemeVersion {\n    id\n    hue\n    saturation\n    lightness\n    description\n    timeUpdated\n    customTheme {\n      ... on CustomTheme {\n        id\n      }\n    }\n    values {\n      ...ThemesThemeValues\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function y(){var e=(0,m._)(["\n  fragment ThemesCustomThemeUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return y=function(){return e},e}function D(){var e=(0,m._)(["\n  fragment ThemesCustomTheme on CustomTheme {\n    id\n    slug\n    title\n    colorScheme\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    status\n    numInstalls\n    isCurrentUserThemeAuthor\n    isInstalledByCurrentUser\n    author {\n      ... on User {\n        id\n        ...ThemesCustomThemeUser\n      }\n    }\n    latestThemeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersion\n      }\n    }\n    draftThemeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersion\n      }\n    }\n  }\n  ","\n  ","\n"]);return D=function(){return e},e}function S(){var e=(0,m._)(["\n  fragment ThemesThemeVersionWithCustomTheme on ThemeVersion {\n    id\n    ... on ThemeVersion {\n      ...ThemesThemeVersion\n    }\n    customTheme {\n      ... on CustomTheme {\n        id\n        ...ThemesCustomTheme\n      }\n    }\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}function C(){var e=(0,m._)(["\n  fragment ThemesCurrentUser on CurrentUser {\n    activeThemeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersionWithCustomTheme\n      }\n    }\n    workspacePreferences\n  }\n  ","\n"]);return C=function(){return e},e}function b(){var e=(0,m._)(["\n  fragment ThemesCustomThemeWithVersionValues on CustomTheme {\n    id\n    slug\n    title\n    colorScheme\n    status\n    author {\n      ... on User {\n        id\n        ...ThemesCustomThemeUser\n      }\n    }\n    currentUserInstalledThemeVersion {\n      id\n      ...ThemesThemeVersionWithCustomTheme\n    }\n    latestThemeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersionWithCustomTheme\n      }\n    }\n    draftThemeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersionWithCustomTheme\n      }\n    }\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function w(){var e=(0,m._)(["\n  fragment ThemesInstalledTheme on InstalledTheme {\n    id\n    user {\n      ... on User {\n        id\n        ...ThemesCustomThemeUser\n      }\n    }\n    themeVersion {\n      ... on ThemeVersion {\n        id\n        ...ThemesThemeVersionWithCustomTheme\n      }\n    }\n    customTheme {\n      ... on CustomTheme {\n        id\n        ...ThemesCustomTheme\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}function k(){var e=(0,m._)(["\n  query ThemesGetCurrentUserThemes {\n    currentUser {\n      id\n      ...ThemesCurrentUser\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function V(){var e=(0,m._)(["\n  query ThemesGetThemeValues($themeId: Int!) {\n    customThemeById(input: { themeId: $themeId }) {\n      ... on CustomTheme {\n        id\n        ...ThemesCustomThemeWithVersionValues\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return V=function(){return e},e}function _(){var e=(0,m._)(["\n  query GetLatestTheme {\n    latestThemesRevisionId {\n      isoDateIds\n    }\n  }\n"]);return _=function(){return e},e}function A(){var e=(0,m._)(["\n  query ThemesGetThemesFromIds($isoDateIds: [String!]!) {\n    getThemesForRevisionIds(isoDateIds: $isoDateIds) {\n      id\n      schema\n    }\n  }\n"]);return A=function(){return e},e}function E(){var e=(0,m._)(["\n  mutation ThemesUpdateCustomTheme($input: UpdateThemeInput!) {\n    updateTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...ThemesCustomTheme\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function R(){var e=(0,m._)(["\n  mutation ThemesSetActiveTheme($input: SetActiveThemeInput!) {\n    setActiveTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...ThemesCustomThemeWithVersionValues\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}var I={},L=(0,d.gql)(g()),U=(0,d.gql)(v(),L),x=(0,d.gql)(T(),U),O=(0,d.gql)(y()),M=(0,d.gql)(D(),O,x),j=(0,d.gql)(S(),x,M),P=(0,d.gql)(C(),j),q=(0,d.gql)(b(),O,j);(0,d.gql)(w(),O,j,M);var F=(0,d.gql)(k(),P);function G(e){var n=(0,o._)({},I,e);return f.useQuery(F,n)}var N=(0,d.gql)(V(),q);function W(e){var n=(0,o._)({},I,e);return f.useQuery(N,n)}(0,d.gql)(_());var K=(0,d.gql)(A());function H(e){var n=(0,o._)({},I,e);return f.useQuery(K,n)}(0,d.gql)(E(),M);var B=(0,d.gql)(R(),q);function z(e){var n=(0,o._)({},I,e);return p.useMutation(B,n)}e.s(["ThemeGlobalValuesFragmentDoc",()=>L,"ThemesCustomThemeFragmentDoc",()=>M,"ThemesCustomThemeUserFragmentDoc",()=>O,"ThemesCustomThemeWithVersionValuesFragmentDoc",()=>q,"ThemesGetThemeValuesDocument",()=>N,"ThemesThemeValuesFragmentDoc",()=>U,"ThemesThemeVersionFragmentDoc",()=>x,"ThemesThemeVersionWithCustomThemeFragmentDoc",()=>j,"useThemesGetCurrentUserThemesQuery",()=>G,"useThemesGetThemeValuesQuery",()=>W,"useThemesGetThemesFromIdsQuery",()=>H,"useThemesSetActiveThemeMutation",()=>z],38840);var Q=e.i(142685),$=e.i(921521),Z=e.i(222342),J=e.i(126853),X=e.i(375581),Y=e.i(182256),ee=e.i(721281),en=e.i(546833),et=e.i(967629),er=e.i(169099),ei=e.i(584426),eo=en.lightSpectrumCss.replace(":root",".".concat(X.ROOT_THEME_CLASS)),es=en.darkSpectrumCss.replace(":root",".".concat(X.ROOT_THEME_CLASS)),eu=(0,en.generateLegacyPropertiesRemappingCSS)("light"),ea=(0,en.generateLegacyPropertiesRemappingCSS)("dark"),el="\n@media (prefers-color-scheme: light) {\n  ".concat(eo,"\n  ").concat(eu,"\n}\n@media (prefers-color-scheme: dark) {\n  ").concat(es,"\n  ").concat(ea,"\n}").trim(),ec=(t={},(0,ee._)(t,"@media (prefers-color-scheme: light)",(0,ee._)({},".".concat(X.ROOT_THEME_CLASS),(0,J.getThemeSettingsCss)(ei.replitLight.values,Y.ColorScheme.Light))),(0,ee._)(t,"@media (prefers-color-scheme: dark)",(0,ee._)({},".".concat(X.ROOT_THEME_CLASS),(0,J.getThemeSettingsCss)(er.replitDark.values,Y.ColorScheme.Dark))),t);function eh(e){var n=e.values,t=e.colorScheme,r=e.isLoggedIn,i=e.shadesEnabled,o=void 0!==i&&i,s=e.pageRequiredTheme,u=void 0===s?null:s,a=n,c=t;if(u&&("replitLight"===u?(a=ei.replitLight.values,c=Y.ColorScheme.Light):"replitDark"===u&&(a=er.replitDark.values,c=Y.ColorScheme.Dark)),!r&&!u)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et.Global,{styles:[ec]}),o&&(0,l.jsx)(et.Global,{styles:[(0,et.css)(el)]})]});var h=(0,J.getThemeSettingsCss)(a,c),m=(0,ee._)({},".".concat(X.ROOT_THEME_CLASS),h),d=c===Y.ColorScheme.Dark?es:eo,f=c===Y.ColorScheme.Dark?ea:eu;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et.Global,{styles:[m]}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(et.Global,{styles:[(0,et.css)(d)]}),(0,l.jsx)(et.Global,{styles:[(0,et.css)(f)]})]})]})}var em=e.i(781230),ed=e.i(441329),ef=["/","/cyclesRedirect","/language","/learn/course","/mobile","/desktop","/replEmbed","/teamError","/templateLanding","/patronLanding","/developerDay","/resources","/resources/article","/desktopApp/auth"],ep=["/auth","/authComplete","/replitAuth","/replitAuthConsent","/pricing","/t/join","/teams/join","/remix","/verify"];function eg(e){return e.startsWith("/site/")?"replitDark":ep.includes(e)?"replitLight":ef.includes(e)?"replitDark":null}e.i(173738),e.i(664152);var ev=e.i(108180),eT=function(e){var n=Number(e.forceTheme);return Number.isNaN(n)?null:n},ey=function(e){var n;return null!=(n=e.themeRevision)?n:null},eD=e.i(696770),eS=e.i(397009);function eC(e){return"customTheme"in e}function eb(e){return eC(e)?(0,J.gqlThemeToRuiTheme)(e):e}(n={}).GetThemes="GetThemes",n.SetActiveTheme="SetActiveTheme";var ew=(0,r.createContext)(null);function ek(e){var n,t,m,d,f,p=e.children,g=(0,c.useRouter)(),v=ey(g.query),T=(0,Z.default)().showError,y=(0,u._)((0,r.useState)(null),2),D=y[0],S=y[1],C=(0,$.default)(),b=(0,u._)((0,r.useState)(null),2),w=b[0],k=b[1],V=(j=(0,c.useRouter)(),P=G({ssr:!0}),N=(null==(L=(F=W({skip:null===(q=eT(j.query)),variables:{themeId:null!=q?q:1},ssr:!0})).data)?void 0:L.customThemeById.__typename)==="CustomTheme"?null==(U=F.data)?void 0:U.customThemeById.currentUserInstalledThemeVersion:null,B=null!=(M=null==(K=(null==(O=P.data)||null==(x=O.currentUser)?void 0:x.__typename)==="CurrentUser"?P.data.currentUser:null)?void 0:K.activeThemeVersion)?M:null,ee=null==K?void 0:K.workspacePreferences.theme,et=(en=(0,u._)((0,r.useState)(Y.ReplitTheme.replitDark),2))[0],eo=en[1],(0,r.useEffect)(function(){var e,n=function(e){eo(e.matches?Y.ReplitTheme.replitDark:Y.ReplitTheme.replitLight)};if(eo((0,J.isOSDarkMode)()?Y.ReplitTheme.replitDark:Y.ReplitTheme.replitLight),"not all"!==window.matchMedia("(prefers-color-scheme)").media){e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",n)}catch(t){try{e.addListener(n)}catch(e){return}}}return function(){try{e&&e.removeEventListener("change",n)}catch(t){try{e.removeListener(n)}catch(e){return}}}},[]),es=et,eu=(0,X.getOfficialReplitTheme)(null!=ee?ee:es),{getThemeQuery:P,overrideTheme:null!=(ea=function(e){var n=e.pathname,t=e.query,r=eg(n);if("true"===t.embed&&t.theme)switch(t.theme){case"light":case"replitLight":return ei.replitLight;case"dark":case"replitDark":return er.replitDark;case"replitSpooky":return ev.replitSpooky}if("replitDark"===r)return er.replitDark;if("replitLight"===r)return ei.replitLight;switch(t.forceTheme){case"light":case"replitLight":return ei.replitLight;case"dark":case"replitDark":return er.replitDark;case"replitSpooky":return ev.replitSpooky}return null}(j))?ea:N,activeTheme:null!=B?B:eu}),_=V.getThemeQuery,A=V.overrideTheme,E=V.activeTheme,R=(0,eD.useShadesFlag)(),I=eb(null!=(ef=null!=(ec=null!=A?A:w)?ec:E)?ef:X.fallbackTheme);if(R&&(!I.isOfficial||"replitSpooky"===I.id)){var L,U,x,O,M,j,P,q,F,N,K,B,ee,en,et,eo,es,eu,ea,el,ec,ef,ep,ek=I.colorScheme===Y.ColorScheme.Light?"replitLight":"replitDark";I=null!=(ep=(0,X.getOfficialReplitTheme)(ek))?ep:I}var eV=(n=I,t=(0,em.useIsSSR)(),m=(0,ed.useIsInBonsaiWebview)(),d=(0,ed.useIsInMobileWorkspace)(),f=(0,ed.useDoesBonsaiSupportFeature)("darkerDarkMode"),(0,r.useMemo)(function(){return t||"replitDark"!==n.id||!m||!d||f?n:(0,s._)((0,o._)({},n),{values:(0,s._)((0,o._)({},n.values),{global:(0,s._)((0,o._)({},n.values.global),{backgroundRoot:"#0E1525",backgroundDefault:"#1C2333",backgroundHigher:"#2B3245",backgroundHighest:"#3C445C",backgroundOverlay:"#0e1525A0",foregroundDefault:"#F5F9FC",foregroundDimmer:"#C2C8CC",foregroundDimmest:"#9DA2A6",outlineDimmest:"#2B3245",outlineDimmer:"#3C445C",outlineDefault:"#4E5569",outlineStronger:"#5F677A",outlineStrongest:"#70788C"})})})},[n,t,m,d,f])),e_=(0,u._)(z(),2),eA=e_[0],eE=e_[1].loading,eR=!!(null==(el=_.data)?void 0:el.currentUser),eI=H({variables:{isoDateIds:v?[v]:[]},skip:!v,ssr:!0}).data,eL=(0,r.useMemo)(function(){var e,n,t;return null!=(t=null==eI||null==(n=eI.getThemesForRevisionIds)||null==(e=n.find(function(e){return e.schema}))?void 0:e.schema)?t:{}},[null==eI?void 0:eI.getThemesForRevisionIds]);(0,r.useEffect)(function(){_.error&&(S({context:"GetThemes",message:_.error.message}),T("Something went wrong loading your theme - try again later."))},[_.error,T]),(0,r.useEffect)(function(){document.body.classList.remove(J.AUTO_DARK_CLASSNAME),document.body.classList.remove(J.AUTO_LIGHT_CLASSNAME)},[]),(0,r.useEffect)(function(){if(C){var e=eV.values.global,n=e.backgroundRoot,t=e.foregroundDefault;Q.desktopAppApi.updateThemeValues({backgroundRoot:n,foregroundDefault:t})}},[eV.values.global,C]);var eU=(0,s._)((0,o._)({},eV),{values:(0,s._)((0,o._)({},eV.values),{global:(0,o._)({},eV.values.global,eL)})}),ex=eg(g.pathname);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eh,{values:eU.values,colorScheme:eU.colorScheme,isLoggedIn:eR,shadesEnabled:R,pageRequiredTheme:ex}),(0,l.jsx)(eS.ThemeContext.Provider,{value:eC(eU)?(0,J.gqlThemeToRuiTheme)(eU):eU,children:(0,l.jsx)(ew.Provider,{value:{isSaving:eE,error:D,setActiveTheme:function(e){return(0,i._)(function(){var n,t,r,i,o;return(0,a._)(this,function(s){switch(s.label){case 0:if(e===eV.id||!eR)return[2,null];if((0,X.isOfficialThemeKey)(e)){if(!(t=(0,X.getOfficialReplitTheme)(e)))throw Error("Expected official theme");k(t)}return[4,eA({variables:{input:"number"==typeof e?{themeId:e}:{themeId:null,officialThemeKey:function(e){switch(e){case"replitLight":return h.OfficialReplitThemeKey.ReplitLight;case"replitDark":return h.OfficialReplitThemeKey.ReplitDark;case"replitSpooky":return h.OfficialReplitThemeKey.ReplitSpooky;default:throw Error("Unexpected key")}}(e)}},onError:function(e){return S({context:"SetActiveTheme",message:"Something went wrong setting the active theme - please try again."})},onCompleted:function(n){var t;if((null==(t=n.setActiveTheme)?void 0:t.__typename)==="CustomTheme"){var r=n.setActiveTheme.currentUserInstalledThemeVersion;if(r){k((0,J.gqlThemeToRuiTheme)(r)),S(null);return}S({context:"SetActiveTheme",message:"Could not find valid theme version for ".concat(e)})}}})];case 1:if(i=(r=s.sent()).errors,o=r.data,!i&&!(null==o?void 0:o.setActiveTheme))return[2,null];switch(null==o||null==(n=o.setActiveTheme)?void 0:n.__typename){case"UserError":case"NotFoundError":return S({context:"SetActiveTheme",message:o.setActiveTheme.message}),[2,null];case"CustomTheme":return[2,o.setActiveTheme];case void 0:return[2,null]}return[2]}})})()},applyThemeLocally:function(e){k(eb(e))}},children:p})})]})}function eV(){var e=(0,eS.useTheme)(),n=(0,r.useContext)(ew);if(null===n)throw Error("AppThemeProvider missing!");return{theme:e,values:e.values,isSaving:n.isSaving,isDarkColorScheme:e.colorScheme===Y.ColorScheme.Dark,colorScheme:e.colorScheme,error:n.error,setActiveTheme:n.setActiveTheme,applyThemeLocally:n.applyThemeLocally}}e.s(["AppThemeContext",()=>ew,"AppThemeProvider",()=>ek],475029),e.s(["useTheme",()=>eV],703774)}]);

//# debugId=b91d06e2-9cca-f4ca-8ea9-2f359979d107
//# sourceMappingURL=1350a873ca275b92.js.map