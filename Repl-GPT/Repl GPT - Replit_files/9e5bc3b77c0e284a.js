;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="813f5df2-ff25-ef85-6b23-2722322284ec")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,180703,e=>{"use strict";var t=e.i(530658),n=e.i(389959),i=e.i(282453);function o(e,o){var a=(0,t._)((0,n.useState)(o),2),s=a[0],l=a[1],r=(0,t._)((0,n.useState)(!1),2),d=r[0],u=r[1];return(0,n.useEffect)(function(){var t=i.default.get(e);null!=t&&l(t),u(!0)},[e]),(0,n.useEffect)(function(){d&&i.default.set(e,s)},[e,s,d]),[s,l,d]}e.s(["default",()=>o])},443394,e=>{"use strict";var t=e.i(530658);function n(e){var n=window.location.pathname,i=new URLSearchParams(window.location.search);e&&Object.entries(e).forEach(function(e){var n=(0,t._)(e,2),o=n[0],a=n[1];i.set(o,a)});var o=i.toString();return o?"".concat(n,"?").concat(o):n}e.s(["getCurrentUrl",()=>n])},509908,597103,e=>{"use strict";var t,n=e.i(721281),i=e.i(878420),o=e.i(931849),a=e.i(368964),s=e.i(569384),l=e.i(973245),r=e.i(304277);function d(){var e=(0,s._)(["\n  query ReplConfigAgentStackPlatformType($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        config {\n          agentStackPlatformType\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}e.i(566901);var u={},c=(0,l.gql)(d());function g(e){var t=(0,i._)({},u,e);return r.useQuery(c,t)}function p(){var e=(0,s._)(["\n  query TrackAgentAnalyticsEvent($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          ... on Repl {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}e.s(["ReplConfigAgentStackPlatformTypeDocument",()=>c,"useReplConfigAgentStackPlatformTypeQuery",()=>g],597103);var m=(0,l.gql)(p()),f=e.i(188507),h=e.i(629536),v=e.i(173738),E=e.i(441329),_=e.i(858248),x=e.i(709485);function A(){var e,t,n,i,a=(0,E.isInMobileWorkspace)(o.default),s=(0,E.isInBonsaiWebview)(o.default);switch(o.default.pathname){case"/replEnvironmentDesktop":case"/replEnvironmentMobile":(e=o.default.query.replId?o.default.query.replId.toString():void 0)&&(t=(i=function(e){var t,n,i=null,o=null;try{i=null===v.apolloClient||void 0===v.apolloClient?void 0:v.apolloClient.readQuery({query:m,variables:{replId:e}}),o=null===v.apolloClient||void 0===v.apolloClient?void 0:v.apolloClient.readQuery({query:c,variables:{replId:e}})}catch(e){}var a=(null==i?void 0:i.getRepl.__typename)==="Repl"?i.getRepl:void 0,s=(null==o?void 0:o.getRepl.__typename)==="Repl"&&null!=(n=o.getRepl.config.agentStackPlatformType)?n:void 0;return{replId:null==a?void 0:a.id,originReplId:null==a||null==(t=a.origin)?void 0:t.id,agentStackPlatformType:s}}(e)).originReplId,n=i.agentStackPlatformType)}return{isMobile:a,isBonsai:s,replId:e,originReplId:t,agentStackPlatformType:n}}function M(e){var t=e.action,n=e.fileType,o=e.fileSize,a=e.messageText,s=e.feedbackText,l=e.sessionId,r=e.eventId,d=e.secretsRequested,u=e.freeCheckpoint,c=e.replOwnerPlanName,g=e.planApprovalState,p=e.blueprints,m=e.toolDataKind,f=e.hasUbbV2,h=e.checkpointPrice,v=e.isEnterprise,E=e.ctaLabel,M=e.agentMode,b=e.initialBuildMode,w=e.hasFigmaLinks,T=e.figmaLinksCount,S=e.figmaLinksCountUnique,y=e.autonomyLevel,C=e.integrationSearchQuery,j=e.integrationSearchNumResults,L=A(),D=L.isMobile,k=L.isBonsai,I=L.replId,N=L.originReplId,P=L.agentStackPlatformType;return(0,_.track)(x.events.AGENT_USED,(0,i._)({action:t,file_type:n,is_mobile:D,is_bonsai:k,repl_id:I,file_size:o,message_text:a,feedback_text:s,session_id:l,event_id:r,secrets_requested:d,free_checkpoint:u,origin_repl_id:N,repl_owner_plan_name:c,plan_approval_state:g,blueprints:p,tool_data_kind:m,hasUbbV2:f,checkpointPrice:h,is_enterprise:v,cta_label:E,agent_chat_mode:M,agent_stack_platform_type:P,initial_build_mode:b,autonomy_level:y,integration_search_query:C,integration_search_num_results:j},w?{has_figma_links:w,figma_links_count:T,figma_links_count_unique:S}:{}))}function b(e){var t,n,i=e.action,o=e.sessionId,a=e.messageText,s=e.planText,l=e.planId,r=e.isLatestPlanProposal,d=e.skipRapidBuild,u=e.planSupportsVisualPreview,c=e.didVisualPreviewComplete,g=e.numPlansProposed,p=e.stepsApproved,m=e.planBlueprints,v=e.stepBlueprints,E=e.stepId,M=e.stepName,b=e.initialBuildMode,T=e.isEnterprise,S=e.agentStackTriggerType,y=e.stackBlueprint,C=A(),j=C.isMobile,L=C.isBonsai,D=C.replId,k=C.originReplId,I=C.agentStackPlatformType;return(0,_.track)(x.events.AGENT_USED,{action:i,session_id:o,is_mobile:j,is_bonsai:L,repl_id:D,message_text:a,plan_text:s,plan_id:l,is_latest_plan_proposal:r,skip_rapid_build:d,plan_supports_visual_preview:u,did_visual_preview_complete:c,num_plans_proposed:g,origin_repl_id:k,steps_approved:p,plan_blueprints:m,step_blueprints:v,step_id:E,step_name:M,initial_build_mode:function(e){switch(e){case f.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_SYNC:return"design";case f.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_ASYNC:return"full_build";default:return"unknown"}}(b),is_enterprise:T,agent_stack_platform_type:null!=I?I:S?w[S]:void 0,stack_name:null==(t=y)||t===f.StackBlueprint.STACK_BLUEPRINT_NONE||t===f.StackBlueprint.STACK_BLUEPRINT_BEST_EFFORT_FALLBACK?"Unknown":null!=(n=h.stackBlueprintDetails[t].name)?n:"Unknown"})}var w=(t={},(0,n._)(t,f.AgentStackTriggerType.UNKNOWN_TRIGGER_TYPE,a.AgentStackPlatformType.TimeBased),(0,n._)(t,f.AgentStackTriggerType.SLACK_MESSAGE,a.AgentStackPlatformType.Slack),(0,n._)(t,f.AgentStackTriggerType.TELEGRAM_MESSAGE,a.AgentStackPlatformType.Telegram),(0,n._)(t,f.AgentStackTriggerType.TIME_BASED,a.AgentStackPlatformType.TimeBased),(0,n._)(t,f.AgentStackTriggerType.CONNECTOR_TRIGGER,a.AgentStackPlatformType.TimeBased),t);function T(e){var t=e.action,n=e.sessionId,i=e.messageText,o=e.isEnterprise,a=A(),s=a.isMobile,l=a.isBonsai,r=a.replId,d=a.originReplId,u=a.agentStackPlatformType;return(0,_.track)(x.events.AGENT_USED,{action:t,session_id:n,is_mobile:s,is_bonsai:l,repl_id:r,message_text:i,origin_repl_id:d,is_enterprise:o,agent_stack_platform_type:u})}e.s(["getAnalyticsMetadata",()=>A,"trackAgentAnalyticsEvent",()=>M,"trackAgentPlanningAnalyticsEvent",()=>b,"trackAgentQueueAnalyticsEvent",()=>T],509908)},796674,e=>{"use strict";var t=e.i(993796),n=e.i(817516);function i(){var e=(0,t.useFlag)({controlName:"flag-manager-who"});return(0,n.useIsMockHomeRoute)()||e}e.s(["useManagerWhoFlag",()=>i])},112942,e=>{"use strict";var t,n,i,o,a,s,l,r,d,u,c,g,p=e.i(721281),m=e.i(878420),f=e.i(64386),h=e.i(530658),v=e.i(368964),E=e.i(188507);e.i(660670);var _=e.i(806240),x={maxSteps:0,initialBuildMode:E.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_UNSPECIFIED,samplingRate:0,agentInitialBuildTier:E.AgentInitialBuildTier.AGENT_INITIAL_BUILD_TIER_UNSPECIFIED,headlessMode:!1,workspaceLessMode:!1},A=(t={},(0,p._)(t,v.ModelProfile.ModelProfileUnspecified,E.ModelProfile.MODEL_PROFILE_UNSPECIFIED),(0,p._)(t,v.ModelProfile.ModelProfileStandard,E.ModelProfile.MODEL_PROFILE_STANDARD),(0,p._)(t,v.ModelProfile.ModelProfileAdvanced,E.ModelProfile.MODEL_PROFILE_ADVANCED),t),M=(n={},(0,p._)(n,v.AgentChatMode.Unspecified,E.AgentMode.AGENT_MODE_UNSPECIFIED),(0,p._)(n,v.AgentChatMode.General,E.AgentMode.AGENT_MODE_GENERAL),(0,p._)(n,v.AgentChatMode.Discussion,E.AgentMode.AGENT_MODE_DISCUSSION),(0,p._)(n,v.AgentChatMode.InitialPlanning,E.AgentMode.AGENT_MODE_INITIAL_PLANNING),(0,p._)(n,v.AgentChatMode.QuickEdit,E.AgentMode.AGENT_MODE_QUICK_EDIT),n),b=(i={},(0,p._)(i,v.AutonomyLevel.Unspecified,E.AutonomyLevel.AUTONOMY_LEVEL_UNSPECIFIED),(0,p._)(i,v.AutonomyLevel.Low,E.AutonomyLevel.AUTONOMY_LEVEL_LOW),(0,p._)(i,v.AutonomyLevel.Medium,E.AutonomyLevel.AUTONOMY_LEVEL_MEDIUM),(0,p._)(i,v.AutonomyLevel.High,E.AutonomyLevel.AUTONOMY_LEVEL_HIGH),(0,p._)(i,v.AutonomyLevel.Max,E.AutonomyLevel.AUTONOMY_LEVEL_MAX),i),w=(o={},(0,p._)(o,E.AutonomyLevel.AUTONOMY_LEVEL_UNSPECIFIED,v.AutonomyLevel.Unspecified),(0,p._)(o,E.AutonomyLevel.AUTONOMY_LEVEL_LOW,v.AutonomyLevel.Low),(0,p._)(o,E.AutonomyLevel.AUTONOMY_LEVEL_MEDIUM,v.AutonomyLevel.Medium),(0,p._)(o,E.AutonomyLevel.AUTONOMY_LEVEL_HIGH,v.AutonomyLevel.High),(0,p._)(o,E.AutonomyLevel.AUTONOMY_LEVEL_MAX,v.AutonomyLevel.Max),o),T=(a={},(0,p._)(a,E.AgentMode.AGENT_MODE_UNSPECIFIED,v.AgentChatMode.Unspecified),(0,p._)(a,E.AgentMode.AGENT_MODE_GENERAL,v.AgentChatMode.General),(0,p._)(a,E.AgentMode.AGENT_MODE_DISCUSSION,v.AgentChatMode.Discussion),(0,p._)(a,E.AgentMode.AGENT_MODE_INITIAL_PLANNING,v.AgentChatMode.InitialPlanning),(0,p._)(a,E.AgentMode.AGENT_MODE_QUICK_EDIT,v.AgentChatMode.QuickEdit),a),S=(s={},(0,p._)(s,E.ModelProfile.MODEL_PROFILE_UNSPECIFIED,v.ModelProfile.ModelProfileUnspecified),(0,p._)(s,E.ModelProfile.MODEL_PROFILE_STANDARD,v.ModelProfile.ModelProfileStandard),(0,p._)(s,E.ModelProfile.MODEL_PROFILE_ADVANCED,v.ModelProfile.ModelProfileAdvanced),s);function y(e){var t=e.modelProfile,n=e.chatMode,i=e.autonomyLevel,o=e.enableAutomatedTesting,a=e.imageGenerationEnabled,s=e.webSearchEnabled,l=e.thinkingEnabled,r=e.maxAutonomyEnabled,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=Object.fromEntries(Object.entries(d).filter(function(e){var t=(0,h._)(e,2);return void 0!==(t[0],t[1])}));return(0,m._)((0,f._)((0,m._)({},x),{enableAutomatedTesting:o,imageGenerationEnabled:a,webSearchEnabled:s,thinkingEnabled:l,maxAutonomyEnabled:r,modelProfile:A[t],agentMode:M[n],autonomyLevel:b[i]}),u)}function C(e){var t=e.agentMode,n=e.modelProfile,i=e.autonomyLevel,o=e.enableAutomatedTesting,a=e.imageGenerationEnabled,s=e.webSearchEnabled,l=e.thinkingEnabled,r=e.maxAutonomyEnabled;return{samplingRate:0,modelProfile:S[null!=n?n:E.ModelProfile.MODEL_PROFILE_UNSPECIFIED],chatMode:T[null!=t?t:E.AgentMode.AGENT_MODE_GENERAL],autonomyLevel:w[null!=i?i:E.AutonomyLevel.AUTONOMY_LEVEL_UNSPECIFIED],enableAutomatedTesting:null!=o&&o,imageGenerationEnabled:null!=a&&a,webSearchEnabled:null!=s&&s,thinkingEnabled:null!=l&&l,maxAutonomyEnabled:null!=r&&r}}var j=(l={},(0,p._)(l,_.ModelProfile.UNSPECIFIED,v.ModelProfile.ModelProfileUnspecified),(0,p._)(l,_.ModelProfile.STANDARD,v.ModelProfile.ModelProfileStandard),(0,p._)(l,_.ModelProfile.ADVANCED,v.ModelProfile.ModelProfileAdvanced),l),L=(r={},(0,p._)(r,_.AutonomyLevel.UNSPECIFIED,v.AutonomyLevel.Unspecified),(0,p._)(r,_.AutonomyLevel.LOW,v.AutonomyLevel.Low),(0,p._)(r,_.AutonomyLevel.MEDIUM,v.AutonomyLevel.Medium),(0,p._)(r,_.AutonomyLevel.HIGH,v.AutonomyLevel.High),(0,p._)(r,_.AutonomyLevel.MAX,v.AutonomyLevel.Max),r),D=(d={},(0,p._)(d,_.AgentMode.UNSPECIFIED,v.AgentChatMode.Unspecified),(0,p._)(d,_.AgentMode.GENERAL,v.AgentChatMode.General),(0,p._)(d,_.AgentMode.DISCUSSION,v.AgentChatMode.Discussion),(0,p._)(d,_.AgentMode.INITIAL_PLANNING,v.AgentChatMode.InitialPlanning),(0,p._)(d,_.AgentMode.QUICK_EDIT,v.AgentChatMode.QuickEdit),d),k=(u={},(0,p._)(u,v.ModelProfile.ModelProfileUnspecified,_.ModelProfile.UNSPECIFIED),(0,p._)(u,v.ModelProfile.ModelProfileStandard,_.ModelProfile.STANDARD),(0,p._)(u,v.ModelProfile.ModelProfileAdvanced,_.ModelProfile.ADVANCED),u),I=(c={},(0,p._)(c,v.AutonomyLevel.Unspecified,_.AutonomyLevel.UNSPECIFIED),(0,p._)(c,v.AutonomyLevel.Low,_.AutonomyLevel.LOW),(0,p._)(c,v.AutonomyLevel.Medium,_.AutonomyLevel.MEDIUM),(0,p._)(c,v.AutonomyLevel.High,_.AutonomyLevel.HIGH),(0,p._)(c,v.AutonomyLevel.Max,_.AutonomyLevel.MAX),c),N=(g={},(0,p._)(g,v.AgentChatMode.General,_.AgentMode.GENERAL),(0,p._)(g,v.AgentChatMode.Discussion,_.AgentMode.DISCUSSION),(0,p._)(g,v.AgentChatMode.InitialPlanning,_.AgentMode.INITIAL_PLANNING),(0,p._)(g,v.AgentChatMode.QuickEdit,_.AgentMode.QUICK_EDIT),(0,p._)(g,v.AgentChatMode.Unspecified,_.AgentMode.UNSPECIFIED),g);function P(e){var t=e.modelProfile,n=e.autonomyLevel,i=e.enableAutomatedTesting,o=e.imageGenerationEnabled,a=e.webSearchEnabled,s=e.thinkingEnabled,l=e.agentMode;return{modelProfile:j[t],autonomyLevel:L[n],chatMode:void 0!==l?D[l]:v.AgentChatMode.General,enableAutomatedTesting:i,imageGenerationEnabled:o,webSearchEnabled:a,thinkingEnabled:s}}function O(e){var t=e.modelProfile,n=e.autonomyLevel,i=e.enableAutomatedTesting,o=e.imageGenerationEnabled,a=e.webSearchEnabled,s=e.thinkingEnabled,l=e.chatMode;return{modelProfile:k[t],autonomyLevel:I[n],enableAutomatedTesting:i,imageGenerationEnabled:o,webSearchEnabled:a,thinkingEnabled:s,agentMode:N[l]}}e.s(["autonomyLevelMapFromAiChatEnum",()=>w,"autonomyLevelMapFromGQLEnum",()=>b,"convertAgentConfigFromChortToGQL",()=>P,"convertAgentConfigFromGQLToChort",()=>O,"convertAgentSettingsFromAiChatToGQL",()=>C,"convertAgentSettingsFromGQLToAiChat",()=>y])},576255,e=>{"use strict";var t,n,i=e.i(721281),o=e.i(188507),a=e.i(629536),s=((t={}).DISABLED="disabled",t.DEFAULT_ON="defaultOn",t.DEFAULT_OFF="defaultOff",t),l=(n={},(0,i._)(n,o.StackBlueprint.STACK_BLUEPRINT_FULLSTACK_JS,"defaultOn"),(0,i._)(n,o.StackBlueprint.STACK_BLUEPRINT_STREAMLIT,"defaultOn"),(0,i._)(n,o.StackBlueprint.STACK_BLUEPRINT_EXPO,"defaultOn"),(0,i._)(n,o.StackBlueprint.STACK_BLUEPRINT_GAMESTACK_JS,"disabled"),(0,i._)(n,o.StackBlueprint.STACK_BLUEPRINT_AGENT,"disabled"),n);function r(e){var t;return e&&null!=(t=l[e])?t:"defaultOff"}function d(e){return{automatedTesting:r(e?(0,a.getStackBlueprintFromStackOption)(e):void 0)}}function u(e,t,n){var i=n.automatedTesting;if("disabled"!==i){if(!t){switch(i){case"disabled":break;case"defaultOn":return!0;case"defaultOff":return!1}return}return e}}e.s(["AutomatedTestingConfig",()=>s,"applyAutomatedTestingCapability",()=>u,"getAutomatedTestingConfig",()=>r,"getStackCapabilities",()=>d])},354093,e=>{"use strict";var t=e.i(276385),n=e.i(368964),i=e.i(993796),o=e.i(611432),a=e.i(453919),s=e.i(199661),l=e.i(861594),r=[{value:n.AutonomyLevel.Low,label:"Low",icon:(0,t.jsx)(a.default,{size:16})},{value:n.AutonomyLevel.Medium,label:"Medium",icon:(0,t.jsx)(s.default,{size:16})},{value:n.AutonomyLevel.High,label:"High",icon:(0,t.jsx)(o.default,{size:16})},{value:n.AutonomyLevel.Max,label:"Max",icon:(0,t.jsx)(l.default,{size:16}),colorway:"orange"}];function d(e){return e===n.AutonomyLevel.Low}function u(){var e=(0,i.useFlag)({controlName:"flag-slider-be-gone",default:!1}),t=(0,i.useFlag)({controlName:"flag-axe-medium-autonomy",default:!1});return e?"switches":t?"slider-without-medium":"slider-full"}e.s(["AUTONOMY_LEVEL_OPTIONS",()=>r,"isLevelCompatibleWithDesignMockup",()=>d,"useAutonomyControlVariant",()=>u])},117807,374106,76961,e=>{"use strict";var t=e.i(346715),n=e.i(188507),i=e.i(986194),o=new Date("2025-03-13"),a=new Date("2025-03-08");function s(e,t){var n,i;return(null==(i=e.contents)||null==(n=i.contents)?void 0:n.$kind)===t}function l(e,t){var n,i,o,a,s,l;return(null==(i=e.contents)||null==(n=i.contents)?void 0:n.$kind)==="agentTimelineEventContents"&&(null==(l=e.contents)||null==(s=l.contents)||null==(a=s.agentTimelineEventContents)||null==(o=a.toolData)?void 0:o.$kind)===t}function r(e,t){var n,i,o,a,s;return(null==(i=e.contents)||null==(n=i.contents)?void 0:n.$kind)==="agentTimelineEventContents"&&(null==(s=e.contents)||null==(a=s.contents)||null==(o=a.agentTimelineEventContents)?void 0:o.toolName)===t}function d(e,t){return s(e,t)?(0,i.unkind)(e.contents.contents):null}function u(e,t){return l(e,t)?(0,i.unkind)(e.contents.contents.agentTimelineEventContents.toolData):null}function c(e){if(s(e,"iterativeAgentEventContents")){var t=(0,i.unkind)(e.contents.contents).contents;if((0,i.isKind)(t,"appliedFileChanges"))return t.appliedFileChanges.eventWhichProposedChanges;if((0,i.isKind)(t,"revertedFileChanges"))return(0,i.unkind)(t).eventWhichProposedChanges;if((0,i.isKind)(t,"installingPackages")||(0,i.isKind)(t,"installedPackages"))return(0,i.unkind)(t).eventWhichProposedPackageInstall;if((0,i.isKind)(t,"startedShellExecution")||(0,i.isKind)(t,"finishedShellExecution"))return(0,i.unkind)(t).eventWhichProposedShellExecution;if((0,i.isKind)(t,"appliedRunConfiguration"))return(0,i.unkind)(t).eventWhichProposedRunConfiguration;if((0,i.isKind)(t,"appliedDeploymentConfiguration"))return(0,i.unkind)(t).eventWhichProposedDeploymentConfiguration;if((0,i.isKind)(t,"appliedWorkflowConfiguration"))return(0,i.unkind)(t).eventWhichProposedWorkflowConfiguration}}function g(e){var t=null==e?void 0:e.contents.contents;if(!e||!(0,i.isKind)(t,"messageEventContents"))return!1;var n=t.messageEventContents,o=n.extraActions,a=n.assistantProposedActions;if(e.created<new Date("2025-01-22")){if((0,i.isKind)(o,"proposedFileChanges")&&o.proposedFileChanges.changes.length)return!0;else if(a.fileChanges.length>0||a.shellCommands.length>0)return!0}else if(a.didCountEditRequest)return!0;return!1}e.s(["RAPID_BUILD_CONCLUDED_EVENT_CREATED_AT",()=>a,"RAPID_BUILD_STARTED_EVENT_CREATED_AT",()=>o,"getEventAgentToolDataFor",()=>u,"getEventContentsFor",()=>d,"getEventIdWhichProposedAction",()=>c,"isEventAgentToolDataKind",()=>l,"isEventAgentToolNamed",()=>r,"isEventAssistantEditRequest",()=>g,"isEventContentsKind",()=>s],374106),e.i(877212);var p=e.i(924908);e.i(925218);var m=e.i(641555);function f(){var e=(0,p.useChatter)().sessions.agent.all.list,n=(0,m.useObservableMemo)(function(){return e.map(function(e){return(0,t._)(e).reverse()[0]})},[e],{default:void 0}),i=(0,m.useObservableMemo)(function(){return n?n.reduce(h,5):void 0},[n],{default:void 0}),o=(0,m.useObservableMemo)(function(){return n?n.reduce(v,"global"):void 0},[n],{default:void 0});return(null==i?void 0:i.didUseInitialPlanning)?null==o?void 0:o.stackBlueprint:null==i?void 0:i.stackBlueprint}var h={direction:"forward",state:{stackBlueprint:void 0,didUseInitialPlanning:void 0},reducer:function(e,t){if(s(e,"messageEventContents")&&e.sender.type===n.UserType.USER){var o=e.contents.contents,a=(0,i.unkind)(o),l=a.agentConfig;return t.stackBlueprint=a.requestedStackBlueprint,t.didUseInitialPlanning=(null==l?void 0:l.agentMode)===n.AgentMode.AGENT_MODE_INITIAL_PLANNING,!1}}},v={direction:"reverse",state:{stackBlueprint:void 0,approvedPlanEventId:void 0},reducer:function(e,t){if(s(e,"agentPlanEventContents")){var n=e.contents,o=(0,i.unkind)(n.contents),a=o.requiresApproval,l=o.stackBlueprint;if(!a||e.id===t.approvedPlanEventId)return t.stackBlueprint=l,!1}if(s(e,"approvePlanEventContents")){var r=e.contents;t.approvedPlanEventId=(0,i.unkind)(r.contents).planEventId}}};e.s(["useAgentStackBlueprint",()=>f],117807);var E=e.i(878420),_=e.i(569384),x=e.i(973245),A=e.i(304277);function M(){var e=(0,_._)(["\n  query getWebDesignMockup($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        config {\n          isWebDesignMockup\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}e.i(566901);var b={},w=(0,x.gql)(M()),T=e.i(207237),S=e.i(423111);function y(){var e,t,n,i,o,a=(i={variables:{replId:(0,T.default)()}},o=(0,E._)({},b,i),A.useQuery(w,o)),s=a.data,l=a.loading,r=(null==s||null==(e=s.getRepl)?void 0:e.__typename)==="Repl"&&null!=(n=null==(t=s.getRepl.config)?void 0:t.isWebDesignMockup)&&n;return(0,S.useInProgressMockupToAppGraduation)()?{isWebDesignMockup:!0,loading:!0}:{isWebDesignMockup:r,loading:l}}e.s(["useIsAgentWebDesignMockup",()=>y],76961)},815900,e=>{"use strict";var t=/\{\{[^}]*"replit-type"\s*:\s*"connector"[^}]*\}\}/g,n=/"name"\s*:\s*"([^"]*)"/,i=/"id"\s*:\s*"([^"]*)"/,o=/\{\{[^}]*"replit-type"\s*:\s*"blueprint"[^}]*\}\}/g,a=/"name"\s*:\s*"([^"]*)"/;function s(e){var i=e;return(i=i.replace(t,function(e){try{var t=e.match(n),i=null==t?void 0:t[1];if(i)return"**".concat(i,"**");return"**@Connector**"}catch(e){return"**@Connector**"}})).replace(o,function(e){try{var t=e.match(a),n=null==t?void 0:t[1];if(n)return"**".concat(n,"**");return"**@Blueprint**"}catch(e){return"**@Blueprint**"}})}e.s(["blueprintNameJsonRegex",()=>a,"blueprintRegex",()=>o,"connectorIdJsonRegex",()=>i,"connectorRegex",()=>t,"replaceJsonMarkers",()=>s])},266645,200260,64256,e=>{"use strict";var t=e.i(276385),n=e.i(480028),i=e.i(446530),o=e.i(613355),a=e.i(764848),s=e.i(625484),l=(0,i.cssRecord)({container:[o.rcss.overflowX("auto"),o.rcss.flex.row,o.rcss.gap(8)],divider:{backgroundColor:n.tokens.outlineDimmest}});function r(e){var n=e.detectedUrls,i=void 0===n?[]:n,o=e.fileAttachments,r=void 0===o?[]:o,d=e.className;if(0===i.length&&0===r.length)return null;var u=i.length>0&&r.length>0;return(0,t.jsxs)(s.View,{css:l.container,className:d,children:[i,u?(0,t.jsx)(a.DividerV,{css:l.divider}):null,r]})}e.s(["default",()=>r],266645);var d=e.i(530658),u=e.i(389959),c=e.i(205104),g=e.i(296223),p=e.i(721281),m=e.i(878420),f=e.i(64386),h=e.i(907371),v=e.i(136540),E=e.i(929872),_=e.i(283110),x=e.i(940745),A=(0,i.cssRecord)({button:[o.rcss.position.absolute,o.rcss.top(-4),o.rcss.right(-4)]}),M=(0,i.cssRecord)({button:[A.button,(0,p._)({borderRadius:"50%"},o.media.canHover,{opacity:0})],uploadingButton:[A.button,{borderRadius:"50%"}]});function b(e){var n=e.onRemoveClick,i=e.isLoading,o=e.alt,a=(0,h.useCreateInteractive)({colorway:i?"grey":"negative"});return n?(0,t.jsx)(E.Surface,{elevated:!0,children:(0,t.jsx)(v.IconButton,(0,f._)((0,m._)({alt:i?"Uploading...":void 0===o?"Remove attachment":o,size:18,onClick:n,css:i?M.uploadingButton:M.button,disabled:i,"data-attachment-status":i?"uploading":"remove"},a),{children:i?(0,t.jsx)(x.default,{}):(0,t.jsx)(_.default,{})}))}):null}var w=e.i(754873),T=e.i(140487),S=e.i(630818),y=e.i(739521),C=e.i(396776),j=e.i(960178),L=e.i(751273),D=e.i(211397),k=e.i(916271),I=e.i(761922),N=e.i(658975),P=e.i(363201),O=e.i(1289),R=e.i(42458),F=(0,i.cssRecord)({defaultButton:[o.rcss.reset.button,w.interactive.outlined,o.rcss.height(77),o.rcss.width(130),o.rcss.position.relative,o.rcss.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],smallButton:[o.rcss.reset.button,w.interactive.outlined,o.rcss.height(52),o.rcss.width(104),o.rcss.position.relative,o.rcss.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],tooltipContents:[o.rcss.maxWidth("100%"),o.rcss.textAlign.center],viewerModal:[o.rcss.maxHeight("80vh"),o.rcss.height("100%")],viewerModalContents:[o.rcss.overflow("auto")]});function U(e){var n,i,a,l,r,g,p=e.attachment,m=e.removeAttachment,f=e.readFile,h=e.getAttachmentTypeDisclaimer,v=e.imagesDisabledMessage,E=e.size,_=void 0===E?"default":E,x=h(p.mimeType),A=(0,d._)((0,u.useState)(!1),2),M=A[0],w=A[1];i=(null==(n=p.mimeType)?void 0:n.startsWith("image/"))?(0,t.jsx)(H,{attachment:p,readFile:f,imagesDisabledMessage:v}):"text/markdown"===p.mimeType?(0,t.jsx)($,{attachment:p,readFile:f,size:_}):(0,t.jsx)(G,{attachment:p,getAttachmentTypeDisclaimer:h}),(0,c.isMedia)(p.path)?(a=(0,t.jsx)(K,{attachment:p,readFile:f}),l="Attached image",r=(0,t.jsx)(N.default,{size:16})):"text/markdown"===p.mimeType?(l="Markdown file",r=(0,t.jsx)(O.default,{size:16}),a=(0,t.jsx)(X,{attachment:p,readFile:f})):(a=(0,t.jsx)(q,{attachment:p,readFile:f}),l="Attached file",r=(0,t.jsx)(I.default,{size:16}));var S=null!=(g=null==x?void 0:x.text)?g:v;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.BaseButton,{onPress:function(){w(!0)},css:"default"===_?F.defaultButton:F.smallButton,children:(0,t.jsxs)(L.Tooltip,{tooltip:(0,t.jsxs)(s.View,{css:F.tooltipContents,children:[(0,t.jsx)(j.Text,{children:(0,c.getFileName)(p.path)}),S?(0,t.jsx)(j.Text,{css:(null==x?void 0:x.type)==="warning"?o.rcss.color.orangeStrongest:o.rcss.color.foregroundDimmer,children:S}):null]}),maxWidth:300,placement:"bottom",css:V.tooltip,children:[i,m?(0,t.jsx)(b,{onRemoveClick:function(){return m(p.path)},isLoading:p.isLoading}):null]})}),(0,t.jsx)(y.Modal,{isOpen:M,maxWidth:800,onRequestClose:function(){return w(!1)},centered:!0,noPadding:!0,children:(0,t.jsxs)(s.View,{css:F.viewerModal,children:[(0,t.jsx)(B,{viewerIcon:r,viewerTitle:l,fileName:(0,c.getFileName)(p.path)}),(0,t.jsx)(s.View,{css:F.viewerModalContents,grow:1,shrink:1,children:a}),x?(0,t.jsx)(s.View,{p:16,children:(0,t.jsx)(C.StatusBanner,{text:x.text,colorway:"warning"===x.type?"orange":"primary",icon:"warning"===x.type?(0,t.jsx)(R.default,{size:16}):(0,t.jsx)(P.default,{size:16})})}):null]})})]})}function B(e){var n=e.viewerIcon,i=e.viewerTitle,o=e.fileName;return(0,t.jsxs)(s.View,{p:16,gap:8,children:[(0,t.jsxs)(s.View,{row:!0,align:"center",gap:8,children:[n,(0,t.jsx)(j.Text,{variant:"subheadDefault",children:i})]}),(0,t.jsx)(j.Text,{variant:"small",color:"dimmer",children:o})]})}var V=(0,i.cssRecord)({tooltip:[o.rcss.flex.grow(1)],container:[o.rcss.center,o.rcss.flex.grow(1)],image:[o.rcss.borderRadius(4)],disabledImage:[o.rcss.borderRadius(4),{opacity:.3}],fileName:[o.rcss.align.center,o.rcss.rowWithGap(2)]});function G(e){var i=e.attachment,o=(0,e.getAttachmentTypeDisclaimer)(i.mimeType);return(0,t.jsxs)(s.View,{css:V.container,px:8,gap:4,children:[(0,t.jsx)(S.default,{path:i.path,size:20}),(0,t.jsxs)(j.Text,{color:"dimmer",multiline:!1,css:V.fileName,children:[o?(0,t.jsxs)(t.Fragment,{children:["warning"===o.type?(0,t.jsx)(R.default,{size:16,color:n.tokens.orangeStrongest}):(0,t.jsx)(P.default,{size:16,color:n.tokens.foregroundDimmer})," "]}):null,(0,c.getFileName)(i.path)]})]})}function W(e){var t=e.file,n=e.setSrc;if(["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))n(URL.createObjectURL(t));else{var i=new FileReader;i.onload=function(e){var t;(null==(t=e.target)?void 0:t.result)&&n(e.target.result)},i.readAsDataURL(t)}}function H(e){var i=e.attachment,o=e.readFile,a=e.imagesDisabledMessage,l=(0,d._)((0,u.useState)(i.path),2),r=l[0],c=l[1];return(0,u.useEffect)(function(){i.dataUrl?c(i.dataUrl):i.file?W({file:i.file,setSrc:c}):o&&o(i.path).then(function(e){if("content"in e){var t=e.content.toString("base64");c("data:".concat(i.mimeType,";base64,").concat(t))}})},[i,o]),(0,t.jsxs)(s.View,{grow:!0,align:"center",justify:"center",children:[(0,t.jsx)(D.default,{src:r,layout:"fill",alt:"Attached Image","aria-label":"Image",objectFit:"cover",css:a?V.disabledImage:V.image}),a?(0,t.jsx)(R.default,{size:24,color:n.tokens.orangeStrongest}):null]})}function q(e){var n=e.attachment,i=e.readFile,o=(0,d._)((0,u.useState)(null),2),a=o[0],s=o[1];return(0,u.useEffect)(function(){n.dataUrl?fetch(n.dataUrl).then(function(e){return e.text()}).then(function(e){return s(e)}):n.file?n.file.text().then(s):i&&i(n.path).then(function(e){"content"in e&&s(e.content.toString("utf8").slice(0,5e3)+(e.content.length>5e3?"...":""))})},[n.file,i,n]),(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(j.Text,{css:{whiteSpace:"pre-wrap"},children:a}):(0,t.jsx)(x.default,{})})}var z=(0,i.cssRecord)({container:[o.rcss.center,o.rcss.px(8),o.rcss.flex.grow(1),o.rcss.flex.column],imageWrapper:[o.rcss.center,o.rcss.width("auto"),o.rcss.height("auto"),o.rcss.minWidth(200),o.rcss.minHeight(200),o.rcss.p(16)]});function K(e){var n=e.attachment,i=e.readFile,o=(0,d._)((0,u.useState)(n.path),2),a=o[0],l=o[1];return(0,u.useEffect)(function(){n.dataUrl?l(n.dataUrl):n.file?W({file:n.file,setSrc:l}):i&&i(n.path).then(function(e){if("content"in e){var t=e.content.toString("base64");l((0,g.getMediaSrc)(t,n.mimeType))}})},[n,i]),(0,t.jsx)(s.View,{css:z.container,gap:4,children:(0,t.jsx)(s.View,{css:z.imageWrapper,children:(0,t.jsx)(g.Viewer,{src:a,fileName:(0,c.getFileName)(n.path),mime:n.mimeType})})})}var Q=(0,i.cssRecord)({container:[o.rcss.textAlign.left,o.rcss.justify.center,o.rcss.align.start,o.rcss.flex.grow(1),o.rcss.flex.column,o.rcss.gap(4),o.rcss.backgroundColor.backgroundHigher,o.rcss.borderRadius(2)],previewContainer:[o.rcss.flex.column,o.rcss.flex.grow(1),o.rcss.borderRadius(4),o.rcss.maxHeight(61),{position:"relative",overflow:"hidden"}],previewContainerSmall:[o.rcss.flex.column,o.rcss.flex.grow(1),o.rcss.borderRadius(4),o.rcss.maxHeight(36),{position:"relative",overflow:"hidden"}],previewContent:[{pointerEvents:"none",width:"100%",height:"100%",overflow:"hidden","& *":{fontSize:"5px !important",lineHeight:"1.2 !important"},"& p, & h1, & h2, & h3, & h4, & h5, & h6":{margin:"2px 0 !important"},"& code":{padding:"0 2px !important"}}]}),Y={a:function(e){return(0,t.jsxs)(j.Text,{children:["[",e.children,"](",e.href,")"]})},img:function(e){return(0,t.jsxs)(j.Text,{children:["![",e.alt,"](",e.src,")"]})}};function $(e){var n=e.attachment,i=e.readFile,o=e.size,a=(0,d._)((0,u.useState)(null),2),l=a[0],r=a[1],c=function(e){return e.trim().split("\n").slice(0,50).join(" ").replace(/\s+/g," ").trim()};return(0,u.useEffect)(function(){n.file?n.file.text().then(function(e){r(c(e))}):i&&i(n.path).then(function(e){"content"in e&&r(c(e.content.toString("utf8")))})},[n,i]),(0,t.jsx)(s.View,{css:Q.container,px:8,children:(0,t.jsx)(s.View,{css:"default"===(void 0===o?"default":o)?Q.previewContainer:Q.previewContainerSmall,children:l?(0,t.jsx)(s.View,{css:Q.previewContent,children:(0,t.jsx)(k.default,{components:Y,children:l})}):(0,t.jsx)(x.default,{})})})}function X(e){var n=e.attachment,i=e.readFile,o=(0,d._)((0,u.useState)(null),2),a=o[0],l=o[1];return(0,u.useEffect)(function(){n.file?n.file.text().then(l):i&&i(n.path).then(function(e){"content"in e&&l(e.content.toString("utf8"))})},[n,i]),(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(s.View,{p:8,children:(0,t.jsx)(k.default,{components:Y,children:a})}):(0,t.jsx)(x.default,{})})}function Z(e){var t=e.aiName;return function(e){return e.startsWith("video/")||e.startsWith("audio/")?{text:"".concat(t," can't read this file type, but it can use the file in your project."),type:"warning"}:e.startsWith("application/pdf")?{text:"".concat(t," will convert this file to text automatically. If this file contains images, upload them separately."),type:"info"}:null}}e.s(["FileAttachment",()=>U,"FileAttachmentModalHeader",()=>B,"SMALL_ATTACHMENT_HEIGHT",()=>52,"SMALL_FILE_ATTACHMENT_WIDTH",()=>104],200260),e.s(["getAttachmentTypeDisclaimer",()=>Z],64256)},351981,745383,861644,e=>{"use strict";e.i(439725);var t=e.i(898740),n=e.i(438059),i=e.i(389959),o=e.i(971131);let a=i.default.createContext(null);e.s(["default",0,a],745383);var s=function(e){return e.scrollTop};e.s(["forceReflow",()=>s],861644);var l="unmounted",r="exited",d="entering",u="entered",c="exiting",g=function(e){function g(t,n){var i,o=e.call(this,t,n)||this,a=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?a?(i=r,o.appearStatus=d):i=u:i=t.unmountOnExit||t.mountOnEnter?l:r,o.state={status:i},o.nextCallback=null,o}(0,n.default)(g,e),g.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:r}:null};var p=g.prototype;return p.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},p.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):(n===d||n===u)&&(t=c)}this.updateStatus(!1,t)},p.componentWillUnmount=function(){this.cancelNextCallback()},p.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},p.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this);n&&s(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===r&&this.setState({status:l})},p.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[o.default.findDOMNode(this),i],s=a[0],l=a[1],r=this.getTimeouts(),c=i?r.appear:r.enter;(e||n)&&1?(this.props.onEnter(s,l),this.safeSetState({status:d},function(){t.props.onEntering(s,l),t.onTransitionEnd(c,function(){t.safeSetState({status:u},function(){t.props.onEntered(s,l)})})})):this.safeSetState({status:u},function(){t.props.onEntered(s)})},p.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:o.default.findDOMNode(this);t?(this.props.onExit(i),this.safeSetState({status:c},function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:r},function(){e.props.onExited(i)})})})):this.safeSetState({status:r},function(){e.props.onExited(i)})},p.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},p.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},p.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},p.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(!n||i)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=a[0],l=a[1];this.props.addEndListener(s,l)}null!=e&&setTimeout(this.nextCallback,e)},p.render=function(){var e=this.state.status;if(e===l)return null;var n=this.props,o=n.children,s=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,t.default)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.default.createElement(a.Provider,{value:null},"function"==typeof o?o(e,s):i.default.cloneElement(i.default.Children.only(o),s))},g}(i.default.Component);function p(){}g.contextType=a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},g.UNMOUNTED=l,g.EXITED=r,g.ENTERING=d,g.ENTERED=u,g.EXITING=c,e.s(["ENTERED",()=>u,"ENTERING",()=>d,"EXITING",()=>c,"default",0,g],351981)},253876,13736,e=>{"use strict";function t(e,t){if(e.classList)e.classList.add(t);else(e.classList?t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function n(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}e.s(["default",()=>t],253876),e.s(["default",()=>i],13736)},401262,977268,e=>{"use strict";e.i(439725);var t,n,i=e.i(25195),o=e.i(898740),a=e.i(438059),s=e.i(253876),l=e.i(13736),r=e.i(389959),d=e.i(351981),u=e.i(861644),c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.default)(e,t)})},g=function(e){function t(){for(var t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),o=i[0],a=i[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),o=i[0],a=i[1];t.addClass(o,a?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),o=i[0],a=i[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,o=i&&n?n+"-":"",a=i?""+o+e:n[e],s=i?a+"-active":n[e+"Active"],l=i?a+"-done":n[e+"Done"];return{baseClassName:a,activeClassName:s,doneClassName:l}},t}(0,a.default)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i,o=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(o+=" "+a),"active"===n&&e&&(0,u.forceReflow)(e),o&&(this.appliedClasses[t][n]=o,i=o,e&&i&&i.split(" ").forEach(function(t){return(0,s.default)(e,t)}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},i&&c(e,i),o&&c(e,o),a&&c(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.default)(e,["classNames"]));return r.default.createElement(d.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.default.Component);g.defaultProps={classNames:""},g.propTypes={},e.s(["CSSTransition",0,g],401262);var p=e.i(745383),m="out-in",f="in-out",h=function(e,t,n){return function(){var i;e.props[t]&&(i=e.props)[t].apply(i,arguments),n()}},v=((t={})[m]=function(e){var t=e.current,n=e.changeState;return r.default.cloneElement(t,{in:!1,onExited:h(t,"onExited",function(){n(d.ENTERING,null)})})},t[f]=function(e){var t=e.current,n=e.changeState,i=e.children;return[t,r.default.cloneElement(i,{in:!0,onEntered:h(i,"onEntered",function(){n(d.ENTERING)})})]},t),E=((n={})[m]=function(e){var t=e.children,n=e.changeState;return r.default.cloneElement(t,{in:!0,onEntered:h(t,"onEntered",function(){n(d.ENTERED,r.default.cloneElement(t,{in:!0}))})})},n[f]=function(e){var t=e.current,n=e.children,i=e.changeState;return[r.default.cloneElement(t,{in:!1,onExited:h(t,"onExited",function(){i(d.ENTERED,r.default.cloneElement(n,{in:!0}))})}),r.default.cloneElement(n,{in:!0})]},n),_=function(e){function t(){for(var t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={status:d.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){var n,i;return null==e.children?{current:null}:t.status===d.ENTERING&&e.mode===f?{status:d.ENTERING}:t.current&&!((n=t.current)===(i=e.children)||r.default.isValidElement(n)&&r.default.isValidElement(i)&&null!=n.key&&n.key===i.key)&&1?{status:d.EXITING}:{current:r.default.cloneElement(e.children,{in:!0})}},n.render=function(){var e,t=this.props,n=t.children,i=t.mode,o=this.state,a=o.status,s=o.current,l={children:n,current:s,changeState:this.changeState,status:a};switch(a){case d.ENTERING:e=E[i](l);break;case d.EXITING:e=v[i](l);break;case d.ENTERED:e=s}return r.default.createElement(p.default.Provider,{value:{isMounting:!this.appeared}},e)},t}(r.default.Component);_.propTypes={},_.defaultProps={mode:m},e.s(["SwitchTransition",0,_],977268)},741871,e=>{e.v({active:"AgentSettingsDropdown-module__OrojEq__active",agentSettingsButton:"AgentSettingsDropdown-module__OrojEq__agentSettingsButton",autonomyLevelButton:"AgentSettingsDropdown-module__OrojEq__autonomyLevelButton",autonomyLevelButtonGroup:"AgentSettingsDropdown-module__OrojEq__autonomyLevelButtonGroup",autonomyLevelDescriptionText:"AgentSettingsDropdown-module__OrojEq__autonomyLevelDescriptionText",buildModeBadge:"AgentSettingsDropdown-module__OrojEq__buildModeBadge",buttonContainer:"AgentSettingsDropdown-module__OrojEq__buttonContainer",disabled:"AgentSettingsDropdown-module__OrojEq__disabled",fastBadge:"AgentSettingsDropdown-module__OrojEq__fastBadge",highPowerModelInfoCard:"AgentSettingsDropdown-module__OrojEq__highPowerModelInfoCard",highPowerModelInfoDismiss:"AgentSettingsDropdown-module__OrojEq__highPowerModelInfoDismiss",learnMoreLink:"AgentSettingsDropdown-module__OrojEq__learnMoreLink",maxAutonomy:"AgentSettingsDropdown-module__OrojEq__maxAutonomy",maxAutonomyLevelIndicator:"AgentSettingsDropdown-module__OrojEq__maxAutonomyLevelIndicator",maxOption:"AgentSettingsDropdown-module__OrojEq__maxOption",modeCard:"AgentSettingsDropdown-module__OrojEq__modeCard",modeCardItemContainer:"AgentSettingsDropdown-module__OrojEq__modeCardItemContainer",modeCards:"AgentSettingsDropdown-module__OrojEq__modeCards",noShades:"AgentSettingsDropdown-module__OrojEq__noShades",option:"AgentSettingsDropdown-module__OrojEq__option",optionText:"AgentSettingsDropdown-module__OrojEq__optionText",otherViewButton:"AgentSettingsDropdown-module__OrojEq__otherViewButton",radioButton:"AgentSettingsDropdown-module__OrojEq__radioButton",root:"AgentSettingsDropdown-module__OrojEq__root",selected:"AgentSettingsDropdown-module__OrojEq__selected",upsellIcon:"AgentSettingsDropdown-module__OrojEq__upsellIcon",viewContent:"AgentSettingsDropdown-module__OrojEq__viewContent",viewEnter:"AgentSettingsDropdown-module__OrojEq__viewEnter",viewEnterActive:"AgentSettingsDropdown-module__OrojEq__viewEnterActive",viewExit:"AgentSettingsDropdown-module__OrojEq__viewExit",viewExitActive:"AgentSettingsDropdown-module__OrojEq__viewExitActive"})},131614,e=>{"use strict";var t=e.i(297083),n=e.i(721281),i=e.i(878420),o=e.i(64386),a=e.i(530658),s=e.i(817556),l=e.i(276385),r=e.i(389959),d=e.i(654647),u=e.i(401262),c=e.i(977268),g=e.i(368964),p=e.i(629536),m=e.i(546833),f=e.i(596139),h=e.i(576255),v=e.i(993796),E=e.i(187505),_=e.i(858248),x=e.i(709485);e.i(653863);var A=e.i(973519),M=e.i(952521),b=e.i(117807),w=e.i(76961),T=e.i(354093),S=e.i(480028),y=e.i(907371),C=e.i(173703),j=e.i(696770),L=e.i(140487),D=e.i(721321),k=e.i(136540),I=e.i(604963),N=e.i(929872),P=e.i(112767),O=e.i(960178),R=e.i(751273),F=e.i(625484),U=e.i(947108),B=e.i(65704),V=e.i(33914),G=e.i(713081),W=e.i(616278),H=e.i(549762),q=e.i(782096),z=e.i(283660),K=e.i(283110),Q=e.i(744895),Y=e.i(906204),$=e.i(709263),X=e.i(987154),Z=e.i(658975),J=e.i(861594),ee=e.i(530310),et=e.i(741871),en=(0,S.cvarsFrom)("AgentSettingsDropdown.module.css",["--transition-duration"]);function ei(e){var t,n,a,s,d,u=e.disabled,c=e.agentSettings,m=e.isOpen,f=e.onOpenChange,E=e.buttonText,y=e.isFastModeUnavailable,C=e.isFreemiumUserV1RestrictedToFastMode,D=(0,j.useShadesFlag)(),N=(0,r.useRef)(null),P=(n=(t=(0,M.useMemoedDismissibleElement)("max-autonomy-warning-acknowledged")).isLoading,a=t.isDone,s=t.setAsDone,d=(0,A.useGlobalModal)(),{handleAutonomyLevelChange:(0,r.useCallback)(function(e){e!==g.AutonomyLevel.Max||a?c.updateSettings({autonomyLevel:e,chatMode:g.AgentChatMode.General}):d.show("MaxAutonomyWarningModal",{onConfirm:function(){s(),c.updateSettings({autonomyLevel:e})}})},[a,d,s,c]),isLoading:n||c.loading}),O=P.handleAutonomyLevelChange,R=P.isLoading,U=c.settings,B=U.autonomyLevel,V=U.chatMode,G=U.modelProfile,W=V===g.AgentChatMode.QuickEdit,H=(0,w.useIsAgentWebDesignMockup)().isWebDesignMockup,q=(0,v.useFlag)({controlName:"flag-quick-edit-use-experimental-anthropic-client",default:!1}),K=(0,T.useAutonomyControlVariant)(),Q=(0,v.useFlag)({controlName:"flag-killswitch-highpower"}),Y=(0,v.useFlag)({controlName:"flag-high-power-model-rollout",default:!1}),X=(0,b.useAgentStackBlueprint)(),Z=(0,h.getAutomatedTestingConfig)(X)===h.AutomatedTestingConfig.DISABLED||H;return(0,r.useEffect)(function(){G===g.ModelProfile.ModelProfileAdvanced&&Q&&c.updateSettings({modelProfile:g.ModelProfile.ModelProfileStandard})},[G,c.updateSettings,Q,c]),(0,l.jsxs)(I.PopoverTrigger,{isOpen:m,onOpenChange:function(e){f(e),e&&(0,_.track)(x.events.AGENT_MODEL_SELECTOR_SETTINGS_OPENED)},label:"".concat(p.AGENT_NAME," Tools"),placement:"top start",buttonRef:N,children:[function(e){return(0,l.jsxs)(F.View,{clsx:et.default.buttonContainer,children:[E?(0,l.jsx)(L.Button,(0,o._)((0,i._)({},e),{text:E,disabled:u,size:"small",clsx:et.default.agentSettingsButton,variant:"nofill",iconLeft:(0,l.jsx)($.default,{})})):(0,l.jsx)(k.IconButton,(0,o._)((0,i._)({},e),{alt:"Agent Tools",disabled:u,tooltipContents:"Agent Tools",tooltipPlacement:"top",size:24,clsx:et.default.agentSettingsButton,children:(0,l.jsx)($.default,{})})),W||B!==g.AutonomyLevel.Max?null:(0,l.jsx)(z.default,{size:8,color:S.tokens.orangeDefault,clsx:et.default.maxAutonomyLevelIndicator})]})},(0,l.jsx)(ea,{settings:c.settings,updateSetting:function(e,t,n){var i=null!=n?n:Object.values(t)[0];return(0,_.track)(x.events.AGENT_MODEL_SELECTOR_SETTING_TOGGLED,{setting:e,enabled:i}),c.updateSettings(t)},autonomyControlVariant:K,autonomousModeDescription:"slider-full"===K?"Control ".concat(p.AGENT_NAME,"'s level of autonomy"):"Use ".concat(p.AGENT_NAME,"'s full capabilities"),hasShadesFlag:D,hasFlagFreeQuickEdits:q,isFastModeUnavailable:void 0!==y&&y,isFreemiumUserRestrictedToFastMode:void 0!==C&&C,isAppTestingUnavailable:Z,isHighPowerModelUnavailable:Q||W,isHighPowerModelToggleHidden:Y,isFastModeEnabled:W,isWebDesignMockup:H,isLoading:R,onAutonomyLevelChange:O})]})}function eo(e){var t=e.hasShadesFlag,i=e.children;return t?(0,l.jsx)(C.ShadesSurface,{colorShade:"popup",elevate:"1x",p:8,gap:8,clsx:et.default.root,style:(0,n._)({},en.transitionDuration,"".concat(180,"ms")),children:i}):(0,l.jsx)(N.Surface,{elevated:!0,p:8,gap:8,clsx:et.default.root,style:(0,n._)({},en.transitionDuration,"".concat(180,"ms")),children:i})}function ea(e){var t,n,i,o=e.settings,s=e.updateSetting,d=e.autonomyControlVariant,g=e.hasShadesFlag,m=void 0===g||g,f=e.hasFlagFreeQuickEdits,h=e.isFastModeUnavailable,E=e.isFreemiumUserRestrictedToFastMode,_=e.isAppTestingUnavailable,x=e.isHighPowerModelUnavailable,A=e.isHighPowerModelToggleHidden,M=e.isFastModeEnabled,b=e.fastModeDescription,w=e.autonomousModeDescription,T=e.isWebDesignMockup,y=e.isLoading,C=e.onAutonomyLevelChange,j=(0,a._)((0,r.useState)("main"),2),L=j[0],D=j[1],k=(0,r.useRef)(null),I=(0,v.useFlag)({controlName:"flag-james-cameron"}),N=(t=o,n=I,i=[],t.webSearchEnabled&&i.push("Web search"),t.imageGenerationEnabled&&i.push(n?"Media generation":"Image generation"),i.join(", ")),P=!E,R=(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,p:4,clsx:et.default.otherViewButton,justify:"space-between",onClick:function(){return D("other")},children:[(0,l.jsx)(O.Text,{color:"default",children:"Other"}),(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,shrink:!0,children:[N?(0,l.jsx)(O.Text,{color:"dimmer",showTooltipOnTruncate:!0,multiline:!1,style:{flexShrink:1},children:N}):null,(0,l.jsx)(q.default,{color:S.tokens.foregroundDimmer,size:16})]})]});return(0,l.jsxs)(eo,{hasShadesFlag:m,children:[(0,l.jsx)(F.View,{row:!0,align:"center",gap:8,justify:"start",children:(0,l.jsxs)(O.Text,{variant:"small",color:"dimmer",children:[p.AGENT_NAME," Tools"]})}),(0,l.jsx)(c.SwitchTransition,{children:(0,l.jsx)(u.CSSTransition,{timeout:180,nodeRef:k,classNames:{enter:et.default.viewEnter,enterActive:et.default.viewEnterActive,exit:et.default.viewExit,exitActive:et.default.viewExitActive},children:(0,l.jsxs)(F.View,{innerRef:k,clsx:et.default.viewContent,grow:!0,shrink:!0,"data-view":L,children:["main"===L?(0,l.jsxs)(F.View,{grow:!0,gap:8*!!P,children:[(0,l.jsx)(es,{settings:o,updateSetting:s,autonomyControlVariant:d,hasShadesFlag:m,hasFlagFreeQuickEdits:f,isFastModeUnavailable:h,isAppTestingUnavailable:_,isFreemiumUserRestrictedToFastMode:E,isFastModeEnabled:M,fastModeDescription:b,autonomousModeDescription:w,isWebDesignMockup:T,isLoading:y,onAutonomyLevelChange:C,isHighPowerModelUnavailable:x,isHighPowerModelToggleHidden:A}),P?R:null]}):null,"other"===L?(0,l.jsx)(em,{settings:o,updateSetting:s,hasVideoTool:I,handleBack:function(){return D("main")}}):null]})},L)})]})}function es(e){var n=e.settings,i=e.updateSetting,o=e.autonomyControlVariant,u=e.hasShadesFlag,c=e.hasFlagFreeQuickEdits,m=e.isFastModeEnabled,h=e.fastModeDescription,v=e.autonomousModeDescription,_=void 0===v?"Control ".concat(p.AGENT_NAME,"'s level of autonomy"):v,x=e.isFastModeUnavailable,M=e.isAppTestingUnavailable,b=e.isFreemiumUserRestrictedToFastMode,w=e.isWebDesignMockup,T=e.isLoading,y=e.onAutonomyLevelChange,C=e.isHighPowerModelUnavailable,j=e.isHighPowerModelToggleHidden,L=(0,E.useTrackClick)().trackClick,D=(0,A.useGlobalModal)().show,k=!m,I=(0,r.useCallback)(function(e){return(0,t._)(function(){return(0,s._)(this,function(t){switch(t.label){case 0:if(T)return[2];if(!(e===g.AgentChatMode.General&&b))return[3,2];return[4,D("UpgradeEducationModal",{context:"agent_workspace_autonomous_mode_upsell",surface:"agent_chat",highlightedFeature:"autonomousBuildMode"})];case 1:return t.sent(),[2];case 2:return i("agent_chat_mode",{chatMode:e}),L({target:e===g.AgentChatMode.QuickEdit?"build_mode_fast_option":"build_mode_autonomous_option",productArea:"agent"}),[2]}})})()},[T,b,D,i,L]),P=(0,r.useMemo)(function(){var e=new Set;return T&&(e.add(g.AgentChatMode.QuickEdit),e.add(g.AgentChatMode.General)),x&&e.add(g.AgentChatMode.QuickEdit),e},[T,x]),R=(0,r.useCallback)(function(e){return(0,t._)(function(){return(0,s._)(this,function(t){switch(t.label){case 0:if(!b)return[3,2];return[4,D("UpgradeEducationModal",{context:"agent_workspace_autonomous_mode_upsell",surface:"agent_chat",highlightedFeature:"autonomousBuildMode"})];case 1:return t.sent(),[2];case 2:return y(e),[2]}})})()},[b,D,y]);return(0,l.jsx)(F.View,{gap:8,children:(0,l.jsxs)(d.ListBox,{"aria-label":"Agent mode",selectionMode:"single",selectedKeys:new Set([m?g.AgentChatMode.QuickEdit:g.AgentChatMode.General]),clsx:et.default.modeCards,disabledKeys:P,onSelectionChange:function(e){var t=(0,a._)(Array.from(e),1)[0];t&&I(t)},children:[(0,l.jsx)(ec,{mode:g.AgentChatMode.QuickEdit,isSelected:m,isDisabled:T||x,hasShadesFlag:u,children:(0,l.jsx)(F.View,{px:8,py:10,gap:4,children:(0,l.jsxs)(F.View,{row:!0,align:"start",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"start",gap:8,children:[(0,l.jsx)(F.View,{clsx:et.default.radioButton,"data-selected":m,style:{color:S.tokens.accentPrimaryDefault}}),(0,l.jsxs)(F.View,{gap:4,children:[(0,l.jsx)(O.Text,{color:"default",children:"Fast"}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmer",children:void 0===h?"Make lightweight changes, quickly":h}),c&&!x?(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"(Free for a limited time)"}):null]})]}),(0,l.jsx)(el,{enabled:m})]})})}),(0,l.jsx)(ec,{mode:g.AgentChatMode.General,isSelected:k,isDisabled:T,hasShadesFlag:u,children:(0,l.jsxs)(F.View,{px:8,py:10,gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"start",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"start",gap:8,children:[(0,l.jsx)(F.View,{clsx:et.default.radioButton,"data-selected":k,style:{color:S.tokens.accentPrimaryDefault}}),(0,l.jsxs)(F.View,{gap:4,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[(0,l.jsx)(O.Text,{color:"default",children:"Autonomous"}),b?(0,l.jsx)(U.default,{plan:f.corePlanName,size:"small",variant:"icon-text"}):null]}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmer",children:_})]})]}),(0,l.jsx)(N.Surface,{p:4,clsx:et.default.buildModeBadge,style:{backgroundColor:k?S.tokens.backgroundHighest:"transparent"},children:(0,l.jsx)(J.default,{size:16,color:S.tokens.foregroundDimmest})})]}),"slider-full"===o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(F.View,{gap:4,children:[(0,l.jsx)(eh,{autonomyLevel:n.autonomyLevel,hasShadesFlag:u,isDisabled:T,isActive:k,isWebDesignMockup:!!w,onChange:R}),w?(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Convert your Design to an App to unlock more autonomy."}):(0,l.jsx)(ev,{autonomyLevel:n.autonomyLevel,hasMediumOption:!0})]}),(0,l.jsx)(ed,{isEnabled:n.enableAutomatedTesting,isUnavailable:M,isFastModeEnabled:m,isWebDesignMockup:w,handleChange:function(e){return i("agent_automated_testing_enabled",{enableAutomatedTesting:e})}})]}):null,"switches"===o?(0,l.jsxs)(F.View,{gap:4,pl:24,children:[(0,l.jsx)(er,{isEnabled:!m&&(n.autonomyLevel===g.AutonomyLevel.High||n.autonomyLevel===g.AutonomyLevel.Max),isFastModeEnabled:m,handleChange:function(e){return i("agent_autonomy_level",{autonomyLevel:e?g.AutonomyLevel.High:g.AutonomyLevel.Low})}}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Review code changes and fixes issues found"}),(0,l.jsx)(ed,{isEnabled:n.enableAutomatedTesting,isUnavailable:M,isFastModeEnabled:m,isWebDesignMockup:w,handleChange:function(e){return i("agent_automated_testing_enabled",{enableAutomatedTesting:e})}}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Simulate user interactions to validate functionality"}),(0,l.jsx)(eu,{isEnabled:!m&&n.autonomyLevel===g.AutonomyLevel.Max,isFastModeEnabled:m,handleChange:function(e){return y(e?g.AutonomyLevel.Max:g.AutonomyLevel.High)}}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Plans and completes new work independently"})]}):null,"slider-without-medium"===o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(F.View,{gap:4,children:[(0,l.jsx)(eh,{autonomyLevel:n.autonomyLevel,hasShadesFlag:u,hasMediumOption:!1,isDisabled:T||b,isActive:k,isWebDesignMockup:!!w,onChange:y}),w?(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Convert your Design to an App to unlock more autonomy."}):(0,l.jsx)(ev,{autonomyLevel:n.autonomyLevel,hasMediumOption:!1})]}),(0,l.jsx)(ed,{isEnabled:n.enableAutomatedTesting,isUnavailable:M,isFastModeEnabled:m,isWebDesignMockup:w,handleChange:function(e){return i("agent_automated_testing_enabled",{enableAutomatedTesting:e})}})]}):null,j?null:(0,l.jsx)(eg,{settings:n,updateSetting:i,isFastModeEnabled:m,isWebDesignMockup:w,isHighPowerModelUnavailable:C})]})})]})})}function el(e){var t=e.enabled;return(0,j.useShadesFlag)()?(0,l.jsx)(C.ShadesSurface,{p:4,elevate:!!t&&"1x",colorShade:t?"warning":void 0,clsx:et.default.buildModeBadge,children:t?(0,l.jsx)(G.default,{size:16}):(0,l.jsx)(V.default,{size:16})}):(0,l.jsx)(N.Surface,{p:4,clsx:[et.default.buildModeBadge,et.default.fastBadge,(0,n._)({},et.default.selected,t)],children:t?(0,l.jsx)(G.default,{size:16}):(0,l.jsx)(V.default,{size:16})})}function er(e){var t=e.isEnabled,n=e.isFastModeEnabled,i=e.handleChange,o=void 0;return n&&(o="Unavailable in Fast"),(0,l.jsxs)(F.View,{row:!0,align:"center",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,grow:!0,children:[(0,l.jsx)(B.default,{size:16,color:S.tokens.foregroundDimmer}),(0,l.jsx)(O.Text,{children:"Code review"})]}),(0,l.jsx)(R.Tooltip,{tooltip:(0,l.jsx)(O.Text,{variant:"small",children:o}),isDisabled:!o,children:(0,l.jsx)(P.Switch,{isSelected:t,isDisabled:n,"aria-label":"Code review",onChange:i})})]})}function ed(e){var t=e.isEnabled,n=e.isUnavailable,i=e.isFastModeEnabled,o=e.handleChange,a=e.isWebDesignMockup,s=void 0;return a&&(s="Unavailable in Design"),(0,l.jsxs)(F.View,{row:!0,align:"center",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,grow:!0,children:[(0,l.jsx)(Y.default,{size:16,color:S.tokens.foregroundDimmer}),(0,l.jsx)(O.Text,{children:"App testing"})]}),(0,l.jsx)(R.Tooltip,{tooltip:(0,l.jsx)(O.Text,{variant:"small",children:s}),isDisabled:!s,children:(0,l.jsx)(P.Switch,{isSelected:!n&&t,isDisabled:n||null!=i&&i,"aria-label":"App testing",onChange:o})})]})}function eu(e){var t=e.isEnabled,n=e.isFastModeEnabled,i=e.handleChange,o=void 0;n&&(o="Unavailable in Fast");var a=n?S.tokens.foregroundDimmer:S.tokens.orangeStronger;return(0,l.jsxs)(F.View,{row:!0,align:"center",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,grow:!0,children:[(0,l.jsx)(J.default,{size:16,color:a}),(0,l.jsx)(O.Text,{style:{color:a},children:"Max autonomy"})]}),(0,l.jsx)(R.Tooltip,{tooltip:(0,l.jsx)(O.Text,{variant:"small",children:o}),isDisabled:!o,children:(0,l.jsx)(P.Switch,{isSelected:t,isDisabled:n,"aria-label":"Max autonomy",onChange:i,colorway:"orange"})})]})}function ec(e){var t,i=e.hasShadesFlag,o=e.mode,a=e.isSelected,s=e.isDisabled,r=e.children,u=o===g.AgentChatMode.QuickEdit,c=(0,y.useCreateInteractive)({variant:"filledAndOutlined"});return(0,l.jsx)(d.ListBoxItem,{clsx:et.default.modeCardItemContainer,id:o,textValue:u?"Fast":"Autonomous",isDisabled:s,children:i?(0,l.jsx)(C.ShadesSurface,{clsx:[m.shades.button("halfElevated")],"aria-disabled":s,colorShade:"default",elevate:"1x",br:8,border:s?"subtle":"regular",children:r}):(0,l.jsx)(N.Surface,{clsx:[c.clsx,et.default.modeCard,(t={},(0,n._)(t,et.default.selected,a),(0,n._)(t,et.default.disabled,s),t)],style:c.style,elevated:a,children:r})},o)}function eg(e){var t=e.settings,n=e.updateSetting,i=e.isFastModeEnabled,o=e.isWebDesignMockup,a=e.isHighPowerModelUnavailable,s=t.modelProfile===g.ModelProfile.ModelProfileAdvanced,r=o||a||i,d=function(){return o?"Unavailable in Design":i?"Unavailable in Fast":a?"Temporarily unavailable, please try again later":void 0};return(0,l.jsxs)(F.View,{row:!0,align:"center",justify:"space-between",gap:8,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,grow:!0,shrink:!0,children:[(0,l.jsx)(Q.default,{size:16,color:S.tokens.foregroundDimmer}),(0,l.jsxs)(F.View,{grow:!0,shrink:!0,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[(0,l.jsx)(O.Text,{color:"default",children:"High power model"}),(0,l.jsx)(eE,{disabledTooltipContent:d()})]}),(0,l.jsxs)(O.Text,{variant:"small",color:"dimmest",children:["Claude Opus 4.5 (",(0,l.jsx)("a",{href:"https://docs.replit.com/replitai/dynamic-intelligence#high-power-mode",target:"_blank",rel:"noreferrer noopener",clsx:et.default.learnMoreLink,children:"Learn more"}),")"]})]})]}),(0,l.jsx)(R.Tooltip,{tooltip:(0,l.jsx)(O.Text,{variant:"small",children:d()}),isDisabled:!r,children:(0,l.jsx)(P.Switch,{isSelected:s,isDisabled:r,"aria-label":"High power model",onChange:function(e){a||n("agent_high_power_models",{modelProfile:e?g.ModelProfile.ModelProfileAdvanced:g.ModelProfile.ModelProfileStandard},e)}})})]})}function ep(){var e=(0,v.useFlag)({controlName:"flag-high-power-toggle-sunset-notice",default:!1}),t=(0,M.useMemoedDismissibleElement)("agent-high-power-model-toggle-info"),n=t.isLoading,i=t.isDone,o=t.setAsDone;return!e||n||i?null:(0,l.jsx)(F.View,{clsx:et.default.highPowerModelInfoCard,children:(0,l.jsxs)(F.View,{row:!0,align:"start",gap:4,children:[(0,l.jsx)(Q.default,{size:16,color:S.tokens.foregroundDimmer}),(0,l.jsxs)(F.View,{grow:!0,shrink:!0,gap:4,children:[(0,l.jsx)(O.Text,{variant:"small",color:"dimmer",children:"Looking for High Power Model?"}),(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",children:"Agent now automatically leverages high power models wherever relevant, no longer requiring a manual toggle"})]}),(0,l.jsx)(k.IconButton,{alt:"Dismiss",size:24,onClick:o,clsx:et.default.highPowerModelInfoDismiss,children:(0,l.jsx)(K.default,{size:16,color:S.tokens.foregroundDimmest})})]})})}function em(e){var t=e.settings,n=e.updateSetting,i=e.hasVideoTool,o=e.handleBack,a=(0,l.jsx)(ef,{icon:(0,l.jsx)(X.default,{}),title:"Web search",description:"Searches across the internet",control:(0,l.jsx)(P.Switch,{isSelected:t.webSearchEnabled,onChange:function(e){return n("agent_web_search_enabled",{webSearchEnabled:e})},"aria-label":"Web search"})}),s=(0,l.jsx)(ef,{icon:(0,l.jsx)(Z.default,{}),title:i?"Media generation":"Image generation",description:i?"Generates images and video with AI":"Generates images with AI",control:(0,l.jsx)(P.Switch,{isSelected:t.imageGenerationEnabled,onChange:function(e){return n("agent_image_generation_enabled",{imageGenerationEnabled:e})},"aria-label":i?"Media generation":"Image generation"})});return(0,l.jsxs)(F.View,{grow:!0,gap:8,children:[(0,l.jsxs)(F.View,{gap:8,children:[a,s]}),(0,l.jsx)(ep,{}),(0,l.jsx)(F.View,{row:!0,align:"center",justify:"start",children:(0,l.jsx)(L.Button,{text:"Back",size:"small",onClick:o,iconLeft:(0,l.jsx)(H.default,{size:16})})})]})}function ef(e){var t=e.icon,i=e.title,o=e.titleJustify,a=e.description,s=e.control,d=e.disabled,u=e.tag,c=e.row,g=void 0===c||c;return(0,l.jsxs)(F.View,{row:!0,gap:8,clsx:[et.default.option,(0,n._)({},et.default.disabled,d)],children:[(0,l.jsx)(F.View,{pt:3,children:(0,r.cloneElement)(t,{color:S.tokens.foregroundDimmest})}),(0,l.jsxs)(F.View,{row:g,align:g?"start":void 0,justify:"space-between",gap:8,grow:!0,shrink:!0,children:[(0,l.jsxs)(F.View,{grow:!0,shrink:!0,children:[(0,l.jsxs)(F.View,{row:!0,align:"center",gap:8,justify:o,children:[(0,l.jsx)(O.Text,{color:"default",children:i}),u||null]}),a?(0,l.jsx)(O.Text,{variant:"small",color:"dimmest",clsx:et.default.optionText,textWrap:"pretty",children:a}):null]}),s]})]})}function eh(e){var t,i=e.autonomyLevel,o=e.hasShadesFlag,a=e.hasMediumOption,s=e.isDisabled,r=e.isActive,d=void 0===r||r,u=e.isWebDesignMockup,c=e.onChange,p=void 0===a||a?T.AUTONOMY_LEVEL_OPTIONS:T.AUTONOMY_LEVEL_OPTIONS.filter(function(e){return e.value!==g.AutonomyLevel.Medium});return(0,l.jsx)(D.ButtonGroup,{name:"agent-autonomy-level",value:i,onChange:c,disabled:s,row:!0,stretch:!0,clsx:[et.default.autonomyLevelButtonGroup,(t={},(0,n._)(t,et.default.disabled,s),(0,n._)(t,et.default.active,d),(0,n._)(t,et.default.noShades,!o),t)],children:p.map(function(e){var t,a=s||u&&!(0,T.isLevelCompatibleWithDesignMockup)(e.value),r=i===e.value,c=e.value===g.AutonomyLevel.Max;return(0,l.jsx)(D.ButtonGroupItem,{id:"agent-autonomy-level-".concat(e.value),value:e.value,text:(0,l.jsx)(O.Text,{color:a?"dimmest":r?"default":"dimmer",children:e.label}),colorway:d?c?"orange":"blue":void 0,checked:r,disabled:a,clsx:[et.default.autonomyLevelButton,(t={},(0,n._)(t,et.default.noShades,!o),(0,n._)(t,et.default.selected,r),(0,n._)(t,et.default.maxOption,c),(0,n._)(t,et.default.active,d),t)]},e.value)})})}function ev(e){var t=e.autonomyLevel,i=e.hasMediumOption,o=void 0===i||i,a=t===g.AutonomyLevel.Max,s=a||t===g.AutonomyLevel.High,r=s||t===g.AutonomyLevel.Medium,d=r||t===g.AutonomyLevel.Low;return(0,l.jsxs)(F.View,{gap:4,children:[(0,l.jsxs)(O.Text,{clsx:[et.default.autonomyLevelDescriptionText,(0,n._)({},et.default.maxAutonomy,a)],variant:"small",color:"dimmest",children:[t===g.AutonomyLevel.Low?"Iterative, human-in-the-loop building experience":null,t===g.AutonomyLevel.Medium?"Scoped, semi-autonomous building experience":null,t===g.AutonomyLevel.High?"Recommended building experience":null,t===g.AutonomyLevel.Max?"Long-running, hands-off building experience":null]}),(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[d?(0,l.jsx)(W.default,{size:16}):(0,l.jsx)(K.default,{color:S.tokens.foregroundDimmest,size:16}),(0,l.jsx)(O.Text,{variant:"small",color:d?"default":"dimmest",children:"Generates and executes on task lists"})]}),o?(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[r?(0,l.jsx)(W.default,{size:16}):(0,l.jsx)(K.default,{color:S.tokens.foregroundDimmest,size:16}),(0,l.jsx)(O.Text,{variant:"small",color:r?"default":"dimmest",children:"Reviews latest code changes and fixes issues found"})]}):null,(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[s?(0,l.jsx)(W.default,{size:16}):(0,l.jsx)(K.default,{color:S.tokens.foregroundDimmest,size:16}),(0,l.jsx)(O.Text,{variant:"small",color:s?"default":"dimmest",children:o?"Expands review scope to entire app":"Reviews code changes and fixes issues found"})]}),(0,l.jsxs)(F.View,{row:!0,align:"center",gap:4,children:[a?(0,l.jsx)(W.default,{size:16}):(0,l.jsx)(K.default,{color:S.tokens.foregroundDimmest,size:16}),(0,l.jsx)(O.Text,{variant:"small",color:a?"default":"dimmest",children:"Plans and completes new work independently"})]})]})}function eE(e){var t=e.disabledTooltipContent;return t?(0,l.jsx)(R.Tooltip,{tooltip:(0,l.jsx)(O.Text,{variant:"small",children:t}),children:(0,l.jsx)(N.Surface,{elevated:!0,p:4,clsx:et.default.upsellIcon,children:(0,l.jsx)(ee.default,{color:S.tokens.foregroundDimmer,size:12})})}):null}e.s(["AgentSettingsDropdown",()=>ei,"AgentSettingsDropdownContent",()=>ea],131614)},77601,e=>{"use strict";var t=e.i(878420),n=e.i(64386),i=e.i(276385),o=e.i(853763);function a(e){return(0,i.jsxs)(o.default,(0,n._)((0,t._)({},e),{children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_7378_478)",children:[(0,i.jsx)("path",{fill:"#E01E5A",d:"M5.14 15.118a2.492 2.492 0 0 1-2.494 2.495A2.492 2.492 0 0 1 .15 15.118a2.492 2.492 0 0 1 2.495-2.494H5.14v2.494Zm1.247 0a2.492 2.492 0 0 1 2.495-2.494 2.492 2.492 0 0 1 2.494 2.494v6.236a2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495v-6.236Z"}),(0,i.jsx)("path",{fill:"#36C5F0",d:"M8.882 5.102a2.492 2.492 0 0 1-2.495-2.494A2.492 2.492 0 0 1 8.882.113a2.492 2.492 0 0 1 2.494 2.495v2.494H8.882Zm0 1.267a2.492 2.492 0 0 1 2.494 2.494 2.492 2.492 0 0 1-2.494 2.495H2.627A2.492 2.492 0 0 1 .132 8.863a2.492 2.492 0 0 1 2.495-2.494h6.255Z"}),(0,i.jsx)("path",{fill:"#2EB67D",d:"M18.879 8.863a2.492 2.492 0 0 1 2.494-2.494 2.492 2.492 0 0 1 2.495 2.494 2.492 2.492 0 0 1-2.495 2.495H18.88V8.863Zm-1.248 0a2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495V2.608A2.492 2.492 0 0 1 15.138.113a2.492 2.492 0 0 1 2.494 2.495v6.255Z"}),(0,i.jsx)("path",{fill:"#ECB22E",d:"M15.137 18.86a2.492 2.492 0 0 1 2.494 2.494 2.492 2.492 0 0 1-2.494 2.495 2.492 2.492 0 0 1-2.495-2.495V18.86h2.495Zm0-1.247a2.492 2.492 0 0 1-2.495-2.495 2.492 2.492 0 0 1 2.495-2.494h6.255a2.492 2.492 0 0 1 2.495 2.494 2.492 2.492 0 0 1-2.495 2.495h-6.255Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_7378_478",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}))}e.s(["default",()=>a])}]);

//# debugId=813f5df2-ff25-ef85-6b23-2722322284ec
//# sourceMappingURL=300e3798bdff955b.js.map