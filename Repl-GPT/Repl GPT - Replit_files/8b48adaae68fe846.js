;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9f2a7729-d9ac-bba3-71cf-77c4cac39512")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,306694,915598,e=>{"use strict";var n=e.i(878420),r=e.i(64386),t=e.i(530658),i=e.i(346715),a=e.i(276385),s=e.i(389959),o=e.i(888136),l=e.i(368964),u=e.i(569384),c=e.i(973245),d=e.i(304277);e.i(566901);var p=e.i(732947);function g(){var e=(0,u._)(["\n  fragment OrgGroupsOrg on Org {\n    ...OrgMetadata\n    authorizations {\n      createOrgGroup {\n        isAuthorized\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function f(){var e=(0,u._)(["\n  fragment OrgGroupsOrgGroup on OrgGroup {\n    id\n    slug\n    type\n    name\n    color\n    isMember\n    memberCount\n    individualMember {\n      user {\n        id\n        displayName\n        image\n      }\n      email\n    }\n    permissions {\n      editPermissions\n      viewPermissions\n    }\n  }\n"]);return f=function(){return e},e}function m(){var e=(0,u._)(["\n  query OrgGroups($orgId: String, $input: OrgGroupsInput) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          groups(input: $input) {\n            __typename\n            ... on OrgGroupConnection {\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n              items {\n                ...OrgGroupsOrgGroup\n              }\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var h={},x=(0,c.gql)(g(),p.OrgMetadataFragmentDoc),v=(0,c.gql)(f()),_=(0,c.gql)(m(),v);function y(e){var r=(0,n._)({},h,e);return d.useQuery(_,r)}function j(){var e=(0,u._)(["\n  query OrgGroupSearch($orgId: String, $input: OrgGroupsInput) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          groups(input: $input) {\n            __typename\n            ... on OrgGroupConnection {\n              pageInfo {\n                hasNextPage\n                nextCursor\n              }\n              items {\n                ...OrgGroupsOrgGroup\n              }\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return j=function(){return e},e}e.s(["OrgGroupsOrgFragmentDoc",()=>x,"OrgGroupsOrgGroupFragmentDoc",()=>v,"useOrgGroupsQuery",()=>y],915598);var R={},w=(0,c.gql)(j(),v),C=e.i(162914),T=e.i(480028),b=e.i(446530),k=e.i(613355),S=e.i(714165),I=e.i(136540),A=e.i(607278),O=e.i(396776),U=e.i(960178),D=e.i(625484),E=e.i(283110),P=e.i(940745),F=e.i(793579),B=e.i(652219),V=[k.rcss.p(8),k.rcss.cursor.pointer],M=(0,b.cssRecord)({container:[k.rcss.position.relative],rightIcon:[k.rcss.position.absolute,k.rcss.right(8),k.rcss.top("50%"),{transform:"translateY(-50%)"}],dropdownMenu:[k.rcss.width("100%"),k.rcss.position.absolute,k.rcss.zIndex(1),k.rcss.top("100%"),k.rcss.left(0),k.rcss.backgroundColor.backgroundDefault,k.rcss.maxHeight(300),k.rcss.overflow("auto"),k.rcss.borderRadius(4),k.rcss.border({color:T.tokens.foregroundDimmest}),{borderTop:"0 none"}],result:(0,i._)(V),activeResult:(0,i._)(V).concat([k.rcss.backgroundColor.accentPrimaryDimmer]),closeIconButton:[{"&:hover":{backgroundColor:"".concat(T.tokens.backgroundHighest," !important")}}],userMultiplayerIcon:[k.rcss.backgroundColor.outlineDimmest,k.rcss.borderRadius(4)],userDisplayName:[k.rcss.fontWeight.medium]}),L=function(e){var n,r=e.individualMember,t=null==r?void 0:r.user;return t?(0,a.jsxs)(D.View,{row:!0,gap:8,align:"center",children:[(0,a.jsx)(S.Avatar,{size:24,src:null==t?void 0:t.image,username:"".concat(null==t?void 0:t.displayName),fullName:"".concat(null==t?void 0:t.displayName)}),(0,a.jsxs)(U.Text,{children:[(0,a.jsx)(U.Text,{css:M.userDisplayName,children:null==r||null==(n=r.user)?void 0:n.displayName})," ","(",null==r?void 0:r.email,")"]})]}):null},N=function(e){if(!e)return"";if(e.type===l.OrgGroupType.SystemIndividual){var n;return(null==(n=e.individualMember)?void 0:n.email)||e.name}return e.name||""};e.s(["default",0,function(e){var i,u,c,p=e.inputId,g=e.orgId,f=e.types,m=e.selectedGroups,h=e.value,x=e.setValue,v=e.onSelect,_=e.onClear,y=e.placeholder,j=void 0===y?"Find an existing group...":y,T=(0,t._)((0,s.useState)([]),2),b=T[0],k=T[1],S=(0,C.default)(h.trim(),250),V=(i={variables:{orgId:g,input:{count:10,types:f,filters:{name:{search:S}}}},ssr:!1,skip:!S,fetchPolicy:"cache-and-network",onCompleted:function(e){if((null==e||null==(r=e.currentUser)||null==(n=r.org)?void 0:n.__typename)==="Org"&&(null==e||null==(a=e.currentUser)||null==(i=a.org)||null==(t=i.groups)?void 0:t.__typename)==="OrgGroupConnection"){var n,r,t,i,a;k(e.currentUser.org.groups.items.filter(function(e){return!m.some(function(n){return e.id===n.id})}))}}},u=(0,n._)({},R,i),d.useQuery(w,u)),z=V.data,q=V.loading,G=V.error,H=z&&z.currentUser&&"Org"!==z.currentUser.org.__typename?z.currentUser.org.message:void 0,W=z&&z.currentUser&&"Org"===z.currentUser.org.__typename&&"OrgGroupConnection"!==z.currentUser.org.groups.__typename?z.currentUser.org.groups.message:void 0,$=null==G?void 0:G.message,Y=null!=(c=null!=H?H:W)?c:$;return(0,s.useEffect)(function(){0===h.length&&0!==b.length&&k([])},[h.length,b.length]),(0,a.jsx)(D.View,{css:M.container,children:(0,a.jsx)(o.default,{onSelect:function(e){e&&(v(e),x(N(e)))},itemToString:function(e){return N(e)},initialHighlightedIndex:0,defaultHighlightedIndex:0,children:function(e){var t=e.getInputProps,i=e.getItemProps,s=e.getMenuProps,o=e.isOpen,u=e.highlightedIndex,c=e.getRootProps;return(0,a.jsxs)(D.View,(0,r._)((0,n._)({},c({refKey:"innerRef"})),{children:[(0,a.jsx)(A.Input,(0,n._)({},t({id:p,ref:null,value:h,onChange:function(e){x(e.currentTarget.value)},placeholder:j,autoComplete:"off"}))),q||0!==h.length?null:(0,a.jsx)(F.default,{css:M.rightIcon}),q?(0,a.jsx)(D.View,{css:M.rightIcon,children:(0,a.jsx)(P.default,{})}):null,!q&&h.length>0?(0,a.jsx)(D.View,{css:M.rightIcon,children:(0,a.jsx)(I.IconButton,{css:M.closeIconButton,alt:"Clear",tooltipBehavior:"hidden",onClick:function(){x(""),_&&_()},children:(0,a.jsx)(E.default,{})})}):null,(0,a.jsxs)(D.View,(0,r._)((0,n._)({tag:"ul"},s({refKey:"innerRef"})),{children:[Y?(0,a.jsx)(D.View,{tag:"ul",css:M.dropdownMenu,children:(0,a.jsx)(D.View,{tag:"li",css:M.result,children:(0,a.jsx)(O.StatusBanner,{colorway:"negative",text:Y})})}):null,o&&b&&b.length?(0,a.jsx)(D.View,{css:M.dropdownMenu,p:4,children:b.map(function(e,t){return(0,a.jsx)(D.View,(0,r._)((0,n._)({tag:"li"},i({item:e,index:t})),{css:t===u?M.activeResult:M.result,children:e.type===l.OrgGroupType.SystemIndividual?(0,a.jsx)(L,{individualMember:e.individualMember}):(0,a.jsxs)(D.View,{row:!0,gap:8,align:"center",children:[(0,a.jsx)(D.View,{css:M.userMultiplayerIcon,p:6,children:(0,a.jsx)(B.default,{size:12})}),(0,a.jsx)(U.Text,{height:"singleLine",multiline:!1,css:M.userDisplayName,children:e.name})]})}),e.id)})}):null,o&&!q&&S.length>0&&0===b.length?(0,a.jsx)(D.View,{tag:"ul",css:M.dropdownMenu,children:(0,a.jsx)(D.View,{tag:"li",css:M.result,children:(0,a.jsxs)(U.Text,{height:"singleLine",color:"dimmer",multiline:!1,children:['No results found for "',h,'"']})})}):null]}))]}))}})})}],306694)},26124,e=>{"use strict";var n=e.i(530658),r=e.i(276385),t=e.i(651739),i=e.i(222342),a=e.i(557862);function s(e){var s=e.repl,o=e.onDeleteRequested,l=e.onDone,u=(0,i.default)(),c=u.showConfirm,d=u.showError,p=(0,n._)((0,t.useDeleteReplDialogReplDeleteMutation)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(c("App scheduled for deletion"),null==o||o(),null==l||l()):d("Something went wrong")},onError:function(e){return d(e.message)},variables:{id:s.id},update:function(e,n){var r;(null==(r=n.data)?void 0:r.deleteRepl.id)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),2),g=p[0],f=p[1];return(0,r.jsx)(a.default,{name:s.title,entityType:"App",isDeleting:f.loading,delete:function(){f.loading||g()},hideModal:function(){return null==l?void 0:l()}})}e.s(["DeleteReplDialog",()=>s])},972777,e=>{"use strict";var n=e.i(297083),r=e.i(530658),t=e.i(817556),i=e.i(276385),a=e.i(389959),s=e.i(532049),o=e.i(222342),l=e.i(664152),u=e.i(714165),c=e.i(140487),d=e.i(85742),p=e.i(12034),g=e.i(960178),f=e.i(625484),m=e.i(940745),h=e.i(14868);function x(e){var x=e.repl,v=e.onDone,_="org-select-".concat((0,a.useId)()),y=(0,r._)((0,a.useState)(""),2),j=y[0],R=y[1],w=(0,o.default)(),C=w.showError,T=w.showConfirm,b=(0,s.useTransferReplToOrgDialogOrgsQuery)(),k=b.data,S=b.loading,I=b.error,A=(0,r._)((0,s.useTransferReplToOrgDialogTransferMutation)(),2),O=A[0],U=A[1].loading,D=(null==k||null==(B=k.currentUser)||null==(F=B.orgs)?void 0:F.__typename)==="CurrentUserOrganizationConnection"?k.currentUser.orgs.items.map(function(e){var n;return{id:e.org.id,name:e.org.name,slug:e.org.slug,image:null!=(n=e.org.image)?n:null}}):[],E=D.find(function(e){return e.id===j}),P=function(){v()};if(S)return(0,i.jsxs)(f.View,{gap:24,align:"center",children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(m.default,{})]});if(I||(null==k||null==(M=k.currentUser)||null==(V=M.orgs)?void 0:V.__typename)!=="CurrentUserOrganizationConnection"&&(null==k||null==(N=k.currentUser)||null==(L=N.orgs)?void 0:L.__typename)){var F,B,V,M,L,N,z,q,G,H,W=(null==I?void 0:I.message)||((null==k||null==(q=k.currentUser)||null==(z=q.orgs)?void 0:z.__typename)==="NotFoundError"||(null==k||null==(H=k.currentUser)||null==(G=H.orgs)?void 0:G.__typename)==="UserError"?k.currentUser.orgs.message:"Failed to load organizations");return(0,i.jsxs)(f.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(g.Text,{children:W}),(0,i.jsx)(f.View,{row:!0,gap:12,justify:"end",children:(0,i.jsx)(c.Button,{text:"Close",onClick:P})})]})}return 0===D.length?(0,i.jsxs)(f.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsx)(g.Text,{children:"You don't belong to any organizations. You need to be a member of an organization to transfer repls to it."}),(0,i.jsx)(f.View,{row:!0,gap:12,justify:"end",children:(0,i.jsx)(c.Button,{text:"Close",onClick:P})})]}):(0,i.jsxs)(f.View,{gap:24,children:[(0,i.jsxs)(g.Header,{variant:"subheadDefault",level:2,children:["Transfer ",x.title," to Organization"]}),(0,i.jsxs)(f.View,{gap:8,children:[(0,i.jsxs)(g.Text,{children:['Select an organization to transfer "',x.title,'" to. This action is irreversible and the app will no longer belong to you.']}),(0,i.jsxs)(f.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:_,children:(0,i.jsx)(g.Text,{color:"dimmer",variant:"small",children:"Destination Organization"})}),(0,i.jsx)(p.Select,{id:_,"aria-label":"Select organization",placeholder:"Choose an organization...",selectedKey:j,onSelectionChange:function(e){return R(e)},isDisabled:U,children:D.map(function(e){return(0,i.jsx)(d.ListBoxItem,{id:e.id,label:"".concat(e.name," (@").concat(e.slug,")"),icon:(0,i.jsx)(u.Avatar,{src:e.image,size:16,username:e.name,isOrg:!0})},e.id)})})]}),(0,i.jsx)(g.Text,{color:"dimmer",variant:"small",children:"The transfer occurs in the background and may take some time to complete."})]}),(0,i.jsxs)(f.View,{row:!0,gap:12,justify:"end",children:[(0,i.jsx)(c.Button,{text:"Cancel",onClick:P,disabled:U}),(0,i.jsx)(c.Button,{dataCy:"transfer-repl-to-org-dialog-confirm-button",disabled:U||!j,iconLeft:U?(0,i.jsx)(m.default,{}):(0,i.jsx)(h.default,{}),onClick:function(){return(0,n._)(function(){var e,n,r;return(0,t._)(this,function(t){switch(t.label){case 0:if(!E)return C("Please select an organization"),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,O({variables:{orgId:E.id,replIds:[x.id]}})];case 2:return(null==(n=null==(e=t.sent().data)?void 0:e.transferReplToOrganization)?void 0:n.__typename)==="TransferReplToOrganizationSuccess"?(T('Successfully started transfer of "'.concat(x.title,'" to ').concat(E.name,".")),v()):(null==n?void 0:n.__typename)==="UserError"||(null==n?void 0:n.__typename)==="TooManyRequestsError"?C(n.message||"Failed to transfer repl"):C("Unexpected response from server"),[3,4];case 3:return r=t.sent(),C("Failed to transfer repl. Please try again."),l.logger.error("Replit TransferReplToOrgDialog error:",r),[3,4];case 4:return[2]}})})()},text:"Transfer to Organization",colorway:"primary"})]})]})}e.s(["TransferReplToOrgDialog",()=>x])},732955,e=>{"use strict";var n,r,t=e.i(878420),i=e.i(530658),a=e.i(346715),s=e.i(276385),o=e.i(389959),l=e.i(997931),u=e.i(368964),c=e.i(47503),d=e.i(968783),p=e.i(222342),g=e.i(187505),f=e.i(773240),m=e.i(26124),h=e.i(236379),x=e.i(297083),v=e.i(817556),_=e.i(569384),y=e.i(973245),j=e.i(951262);function R(){var e=(0,_._)(["\n  fragment TransferReplWithinOrgDialogRepl on Repl {\n    id\n    title\n    org {\n      id\n    }\n  }\n"]);return R=function(){return e},e}function w(){var e=(0,_._)(["\n  mutation TransferReplWithinOrgDialogTransfer(\n    $input: TransferReplWithinOrgInput!\n  ) {\n    transferReplWithinOrg(input: $input) {\n      ... on Repl {\n        id\n        user {\n          id\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return w=function(){return e},e}var C={};(0,y.gql)(R());var T=(0,y.gql)(w()),b=e.i(306694),k=e.i(140487),S=e.i(960178),I=e.i(625484),A=e.i(940745),O=e.i(652219);function U(e){var n,r=e.repl,a=e.orgId,l=e.hideModal,c="group-search-".concat((0,o.useId)()),d=(0,i._)((0,o.useState)(),2),g=d[0],f=d[1],m=(0,i._)((0,o.useState)(""),2),h=m[0],_=m[1],y=(0,p.default)(),R=y.showError,w=y.showConfirm,U=(0,i._)((n=(0,t._)({},C,void 0),j.useMutation(T,n)),2),D=U[0],E=U[1].loading;return(0,s.jsxs)(I.View,{gap:24,children:[(0,s.jsxs)(S.Header,{variant:"subheadDefault",level:2,children:["Transfer ownership of ",r.title]}),(0,s.jsxs)(I.View,{gap:8,children:[(0,s.jsxs)(S.Text,{children:["Select another member of your organization to transfer to. The selected user will become the primary owner of ",r.title," and will be displayed as the app creator in your organization's app directory."]}),(0,s.jsx)(I.View,{grow:!0,shrink:!0,children:(0,s.jsx)(b.default,{inputId:c,orgId:a,types:[u.OrgGroupType.SystemIndividual],selectedGroups:g?[g]:[],value:h,setValue:_,onSelect:function(e){f(e),_(e.name)},onClear:function(){return f(void 0)},placeholder:"Select a user"})})]}),(0,s.jsxs)(I.View,{row:!0,gap:12,justify:"end",children:[(0,s.jsx)(k.Button,{text:"Cancel",onClick:l}),(0,s.jsx)(k.Button,{dataCy:"transfer-repl-dialog-confirm-button",disabled:E||!g,iconLeft:E?(0,s.jsx)(A.default,{}):(0,s.jsx)(O.default,{}),onClick:function(){return(0,x._)(function(){var e,n,t;return(0,v._)(this,function(i){switch(i.label){case 0:if(!g)return[2];return[4,D({variables:{input:{replId:r.id,newOwnerOrgGroupId:g.id}}})];case 1:return(null==(e=(n=i.sent()).data)?void 0:e.transferReplWithinOrg.__typename)==="Repl"?(w("Repl transferred successfully"),l()):R(null==(t=n.data)?void 0:t.transferReplWithinOrg.message),[2]}})})()},text:"Transfer app",colorway:"primary"})]})]})}var D=e.i(136540),E=e.i(119274),P=e.i(739521),F=e.i(464092),B=e.i(185591),V=e.i(972777),M=e.i(283023),L=e.i(841691),N=e.i(406345),z=e.i(196353),q=e.i(592877),G=e.i(545124),H=e.i(703505),W=e.i(14868),$=((n=$||{}).CoverPage="CoverPage",n.Delete="Delete",n.Edit="Edit",n.TransferWithinOrg="TransferWithinOrg",n.TransferPersonalToOrg="TransferPersonalToOrg",n.Fork="Fork",n.Feature="Feature",n.MarkAsStack="MarkAsStack",n.UnmarkAsStack="UnmarkAsStack",n),Y=((r=Y||{}).Delete="Delete",r.Edit="Edit",r.Fork="Fork",r.Feature="Feature",r.TransferWithinOrg="TransferWithinOrg",r.TransferPersonalToOrg="TransferPersonalToOrg",r.MarkAsStack="MarkAsStack",r.UnmarkAsStack="UnmarkAsStack",r);function Q(e){var n,r,x,v,_,y=e.repl,j=e.onDeleteRequested,R=(0,g.useTrackClick)().trackClick,w=(0,i._)((0,o.useState)(null),2),C=w[0],T=w[1],b=(0,c.useCurrentUserId)(),k=(0,F.useForkContext)(),S=k.fork,I=k.isForking,A=(0,d.useCurrentUserStoredOrgContext)().orgRole,$=(0,p.default)(),Y=$.showNotice,Q=$.showError,X=(0,d.useIsCurrentOrgEnterprise)(),K=(0,i._)((0,l.useAddOrgStackTemplateMutation)({onCompleted:function(e){var n,r;(null==(n=e.addOrgStackTemplate)?void 0:n.success)?Y(e.addOrgStackTemplate.message||"Successfully pinned template"):Q((null==(r=e.addOrgStackTemplate)?void 0:r.message)||"Failed to pin template")},onError:function(e){Q("Error pinning template: ".concat(e.message))}}),2),Z=K[0],J=K[1].loading,ee=(0,i._)((0,l.useRemoveOrgStackTemplateMutation)({onCompleted:function(e){var n,r,t;(null==(n=e.removeOrgStackTemplate)?void 0:n.success)?Y((null==(r=e.removeOrgStackTemplate)?void 0:r.message)||"Successfully removed pinned template"):Q((null==(t=e.removeOrgStackTemplate)?void 0:t.message)||"Failed to remove pinned template")},onError:function(e){Q("Error removing pinned template: ".concat(e.message))}}),2),en=ee[0],er=ee[1].loading,et=y.authorizations,ei=(null==(n=y.org)?void 0:n.__typename)==="Org",ea=(null==(r=y.owner)?void 0:r.id)===b,es=A===u.SystemOrgGroupType.SystemAdmins,eo=ei&&X&&es,el=[{label:"Cover page",value:"CoverPage",link:(0,B.replViewLinkProps)(y),icon:(0,s.jsx)(L.default,{})},{label:"Edit details",value:"Edit",icon:(0,s.jsx)(M.default,{})}].concat((0,a._)(ei&&(ea||es)?[{label:"Transfer Owner",value:"TransferWithinOrg",icon:(0,s.jsx)(O.default,{})}]:[]),(0,a._)(ea&&!ei?[{label:"Transfer To Organization",value:"TransferPersonalToOrg",icon:(0,s.jsx)(W.default,{})}]:[]),(0,a._)(et.fork.isAuthorized?[{label:"Remix",value:"Fork",icon:(0,s.jsx)(q.default,{})}]:[]),(0,a._)(ei&&!y.isPrivate?[{label:y.isFeaturedRepl?"Remove from Featured Apps":"Feature on Profile",value:"Feature",icon:(0,s.jsx)(G.default,{})}]:[]),(0,a._)(eo&&!y.isStackTemplate?[{label:"Pin to Agent input box",value:"MarkAsStack",icon:(0,s.jsx)(N.default,{})}]:[]),(0,a._)(eo&&y.isStackTemplate?[{label:"Unpin from Agent input box",value:"UnmarkAsStack",icon:(0,s.jsx)(N.default,{})}]:[]),(0,a._)(et.deleteRepl.isAuthorized?[{label:"Delete",value:"Delete",isDestructive:!0,icon:(0,s.jsx)(H.default,{})}]:[]));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.PopupMenu,{trigger:(0,s.jsx)(D.IconButton,{tooltipBehavior:"hidden",size:24,alt:"App Actions",children:(0,s.jsx)(z.default,{size:16})}),onAction:function(e){var n,r;switch(e){case"CoverPage":break;case"Edit":T("Edit");break;case"TransferWithinOrg":T("TransferWithinOrg");break;case"TransferPersonalToOrg":T("TransferPersonalToOrg");break;case"Delete":T("Delete");break;case"Fork":I||S();break;case"Feature":T("Feature");break;case"MarkAsStack":(null==(n=y.org)?void 0:n.id)&&!J&&(R({productArea:"design_systems",target:"pin_app_to_agent_input_menu_item"}),Z({variables:{orgId:y.org.id,replId:y.id}}));break;case"UnmarkAsStack":(null==(r=y.org)?void 0:r.id)&&!er&&(R({productArea:"design_systems",target:"unpin_app_from_agent_input_menu_item"}),en({variables:{orgId:y.org.id,replId:y.id}}))}},children:el.map(function(e){return(0,s.jsx)(E.MenuItem,(0,t._)({id:e.value,label:e.label,icon:e.icon,isDestructive:e.isDestructive},e.link?{href:e.link.href,as:e.link.as}:{}),e.value)})}),(0,s.jsx)(P.Modal,{isOpen:"Delete"===C,onRequestClose:function(){return T(null)},children:(0,s.jsx)(m.DeleteReplDialog,{repl:y,onDone:function(){return T(null)},onDeleteRequested:j})}),(0,s.jsx)(P.Modal,{isOpen:"Edit"===C,onRequestClose:function(){return T(null)},children:(0,s.jsx)(h.EditReplForm,{repl:y,onDone:function(){return T(null)}})}),(null==(x=y.org)?void 0:x.id)?(0,s.jsx)(P.Modal,{isOpen:"TransferWithinOrg"===C,onRequestClose:function(){return T(null)},children:(0,s.jsx)(U,{repl:y,orgId:null==(v=y.org)?void 0:v.id,hideModal:function(){return T(null)}})}):null,(0,s.jsx)(P.Modal,{isOpen:"TransferPersonalToOrg"===C,onRequestClose:function(){return T(null)},children:(0,s.jsx)(V.TransferReplToOrgDialog,{repl:y,onDone:function(){return T(null)}})}),(0,s.jsx)(P.Modal,{isOpen:"Feature"===C,onRequestClose:function(){return T(null)},centered:!0,maxWidth:650,children:(0,s.jsx)(f.default,{isFeatured:y.isFeaturedRepl,repl:y,orgId:null==(_=y.org)?void 0:_.id,onCompleted:function(){return T(null)}})})]})}function X(e){var n=e.repl,r=e.trackingContext,t=e.onDeleteRequested;return(0,s.jsx)(F.ForkContextProvider,{forkParams:{trackingData:{forkSource:r}},repl:n,children:(0,s.jsx)(Q,{repl:n,onDeleteRequested:t})})}e.s(["ReplActions",()=>X],732955)},414761,392079,e=>{"use strict";var n=e.i(781230),r=e.i(368964),t=e.i(379334),i=e.i(569910);function a(e){var n=e.provider,a=e.flaggedInternalDomain,s=e.isStaging;switch(n){case r.HostingBuildProvider.Gce:case r.HostingBuildProvider.CloudRun:case r.HostingBuildProvider.Static:return"".concat(s?".staging":"",".").concat(a);case r.HostingBuildProvider.AzureVm:case r.HostingBuildProvider.AzureContainerApp:return"".concat(s?".".concat(t.AZURE_DEPLOYMENTS_DEFAULT_STAGING_DOMAIN):".".concat(t.AZURE_DEPLOYMENTS_DEFAULT_DOMAIN));case r.HostingBuildProvider.Extension:case r.HostingBuildProvider.Cron:case void 0:return"";default:(0,i.default)(n)}}function s(e){var i,s,o,l=(0,n.useIsSSR)(),u=null==e||null==(i=e.currentBuild)?void 0:i.provider;if(!e||!u)return{href:"",displayUrl:""};var c=!l&&"replit.com"!==window.location.hostname,d="".concat(e.replitAppSubdomain).concat(a({provider:u,flaggedInternalDomain:t.DEPLOYMENTS_DEFAULT_DOMAIN,isStaging:c})),p=null!=(o=null==(s=e.domains2)?void 0:s.find(function(e){return e.state===r.HostingDeploymentDomainState.Verified}))?o:null;return p?{href:"https://".concat(p.domain),displayUrl:p.domain}:{href:"https://".concat(d),displayUrl:d}}e.s(["getProviderInternalDomain",()=>a],392079),e.s(["useDeploymentLink",()=>s],414761)},545816,e=>{e.v({button:"ModalPleaseRefresh-module__Xw30la__button",closeButton:"ModalPleaseRefresh-module__Xw30la__closeButton",header:"ModalPleaseRefresh-module__Xw30la__header",root:"ModalPleaseRefresh-module__Xw30la__root"})},376847,e=>{"use strict";var n=e.i(276385),r=e.i(931849),t=e.i(921521),i=e.i(441329),a=e.i(173703),s=e.i(140487),o=e.i(136540),l=e.i(739521),u=e.i(960178),c=e.i(625484),d=e.i(283110),p=e.i(121817),g=e.i(545816);e.s(["default",0,function(e){var f=e.isOpen,m=e.text,h=e.disableHomeButton,x=e.onDismiss,v=(0,r.useRouter)(),_=(0,i.isInBonsaiWebview)(v),y=(0,t.default)();return(0,n.jsx)(l.Modal,{preventClose:!0,isOpen:f,centered:!0,onRequestClose:function(){},maxWidth:600,children:(0,n.jsxs)(a.ShadesSurface,{gap:16,clsx:g.default.root,br:"container",children:[x?(0,n.jsx)(o.IconButton,{onClick:x,alt:"Close",clsx:g.default.closeButton,children:(0,n.jsx)(d.default,{size:16})}):null,(0,n.jsxs)(c.View,{row:!0,gap:16,align:"center",children:[(0,n.jsx)(p.default,{size:24}),(0,n.jsx)(u.Header,{clsx:g.default.header,level:2,variant:"subheadBig",children:"Please Refresh"})]}),(0,n.jsxs)(c.View,{pr:32,gap:16,children:[(0,n.jsx)(u.Text,{textWrap:"pretty",children:null!=m?m:"Your connection to this App has been temporarily interrupted.\n            Usually this is because of a network issue."}),_?(0,n.jsx)(u.Text,{children:"If the issue continues please logout and re-login."}):null]}),(0,n.jsxs)(c.View,{row:!0,gap:16,children:[h||_||y?null:(0,n.jsx)(s.Button,{clsx:g.default.button,text:"Back to Home",onClick:function(){v.push("/home","~/")}}),(0,n.jsx)(s.Button,{text:"Refresh",colorway:"primary",clsx:g.default.button,onClick:function(){window.location.reload()}})]})]})})}])},899323,e=>{"use strict";var n=e.i(878420),r=e.i(64386),t=e.i(276385),i=e.i(606867);function a(e){return(0,t.jsx)(i.default,(0,r._)((0,n._)({},e),{children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M19 2a.75.75 0 0 1 .75.75V6H23a.75.75 0 0 1 0 1.5h-3.25v3.25a.75.75 0 0 1-1.5 0V7.5H15A.75.75 0 0 1 15 6h3.25V2.75A.75.75 0 0 1 19 2ZM3 7.5c-.69 0-1.25.56-1.25 1.25V10H15.5a.75.75 0 0 1 0 1.5H1.75v7.25c0 .69.56 1.25 1.25 1.25h14c.69 0 1.25-.56 1.25-1.25v-4.5a.75.75 0 0 1 1.5 0v4.5A2.75 2.75 0 0 1 17 21.5H3a2.75 2.75 0 0 1-2.75-2.75v-10A2.75 2.75 0 0 1 3 6h8.5a.75.75 0 0 1 0 1.5H3Z",clipRule:"evenodd"})}))}e.s(["default",()=>a])},123111,e=>{"use strict";var n=e.i(441329),r=/iPad|iPhone|iPod/,t=/MacIntel/;function i(){var e=(0,n.useIsInBonsaiWebview)(),i=!!r.test(navigator.platform)||!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&t.test(navigator.platform));return e||i}e.s(["default",()=>i])},773240,429190,e=>{"use strict";var n=e.i(530658),r=e.i(276385),t=e.i(878420),i=e.i(569384),a=e.i(973245);e.i(304277);var s=e.i(566901);function o(){var e=(0,i._)(["\n  fragment FeaturedReplCardRepl on Repl {\n    id\n    title\n    description\n    iconUrl\n    timeUpdated\n    imageUrl\n    url\n    templateInfo {\n      imageUrl\n    }\n    publicForkCount\n  }\n"]);return o=function(){return e},e}var l=(0,a.gql)(o());function u(){var e=(0,i._)(["\n  fragment FeaturedReplPreviewRepl on Repl {\n    id\n    ...FeaturedReplCardRepl\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,i._)(["\n  query FeaturedReplPreviewReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isFeaturedRepl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,a.gql)(u(),l),g=(0,a.gql)(c());function f(e){var n=(0,t._)({},d,e);return s.useLazyQuery(g,n)}e.s(["FeaturedReplPreviewReplFragmentDoc",()=>p,"useFeaturedReplPreviewReplInfoLazyQuery",()=>f],429190);var m=e.i(140959),h=e.i(222342),x=e.i(220897),v=e.i(140487),_=e.i(960178),y=e.i(625484);e.s(["default",0,function(e){var t=e.isFeatured,i=e.repl,a=e.orgId,s=e.onCompleted,o=(0,h.default)(),l=o.showError,u=o.showConfirm,c=(0,n._)((0,m.useOrgFeaturedReplsUpdateMutation)({onError:function(){l("Something unexpected happened")},onCompleted:function(e){"Org"===e.updateOrgFeaturedRepl.__typename?(u("Profile updated successfully"),w()):l(e.updateOrgFeaturedRepl.message)}}),2),d=c[0],p=c[1].loading,g=(0,n._)((0,m.useOrgFeaturedReplsDeleteMutation)({onError:function(){l("Something unexpected happened")},onCompleted:function(e){"Org"===e.removeOrgFeaturedRepl.__typename?(u("Removed featured App"),w()):l(e.removeOrgFeaturedRepl.message)}}),2),j=g[0],R=g[1].loading,w=(0,n._)(f({variables:{replId:i.id},fetchPolicy:"network-only",ssr:!1}),1)[0];return a?(0,r.jsxs)(y.View,{justify:"center",gap:16,children:[(0,r.jsx)(_.Text,{variant:"headerDefault",children:t?"Remove from featured repls":"Feature App on your profile"}),(0,r.jsx)(_.Text,{variant:"text",children:t?"Do you want to remove this App from the Featured section?":"Display this App at the top of your organization's profile. Only public Apps can be featured."}),(0,r.jsx)(x.FeaturedReplCard,{repl:i,index:0,hideForkButton:!0}),(0,r.jsxs)(y.View,{row:!0,justify:"space-between",align:"center",children:[(0,r.jsx)(v.Button,{text:"Cancel",onClick:s}),(0,r.jsx)(v.Button,{colorway:"primary",text:t?"Remove":"Feature on profile",onClick:function(){t?j({variables:{input:{orgId:a,replId:i.id}}}):d({variables:{input:{orgId:a,replId:i.id}}}),s()},loading:p||R})]})]}):null}],773240)},220897,e=>{"use strict";var n=e.i(721281),r=e.i(276385),t=e.i(366492),i=e.i(46654),a=e.i(473497),s=e.i(967629),o=e.i(480028),l=e.i(446530),u=e.i(754873),c=e.i(613355),d=e.i(140487),p=e.i(929872),g=e.i(960178),f=e.i(625484),m=e.i(464092),h=e.i(418944),x=e.i(592877),v=function(e){var n,s,o=e.repl,l=e.hideForkButton,u=(0,m.useForkContext)(),c=o.title,v=o.description,y=o.iconUrl,w=o.timeUpdated,C=o.publicForkCount,T=o.url;return(0,r.jsxs)(p.Surface,{css:j.featureCardWrapper,tabIndex:-1,children:[(0,r.jsx)(f.View,{css:j.imageWrapper,children:(0,r.jsx)(a.default,{alt:o.title,imageUrl:null!=(s=o.imageUrl)?s:null==(n=o.templateInfo)?void 0:n.imageUrl,width:135,height:135,style:{borderRadius:"4px 0px 0px 4px"}})}),(0,r.jsxs)(f.View,{css:j.detailsColumn,grow:!0,shrink:!0,children:[(0,r.jsxs)(f.View,{grow:!0,pt:8,row:!0,align:"start",justify:"space-between",children:[(0,r.jsx)(t.default,{href:"".concat(T,"/view"),css:R.link,target:"_blank",children:(0,r.jsxs)(f.View,{css:j.titleWithIcon,grow:!0,shrink:!0,row:!0,gap:12,align:"center",children:[(0,r.jsx)(h.default,{surface:!0,alt:c,size:32,iconUrl:y}),(0,r.jsxs)(f.View,{css:_.titleTimeWrapper,children:[(0,r.jsx)(g.Text,{variant:"headerDefault",color:"default",multiline:!1,children:c}),(0,r.jsxs)(g.Text,{variant:"small",color:"dimmest",multiline:!1,children:["Updated ",(0,i.ago)(w)]})]})]})}),l?null:(0,r.jsxs)(f.View,{css:j.forkCount,pt:8,row:!0,gap:8,align:"center",children:[(0,r.jsx)(f.View,{children:C}),(0,r.jsx)(d.Button,{className:"forkButton",variant:"nofill",css:j.forkButton,text:u.isForking?"Remixing...":"Remix",isDisabled:u.isForking,onClick:function(){u.isForking||u.fork()},disabled:u.isForking,iconLeft:(0,r.jsx)(x.default,{})})]})]}),(0,r.jsx)(f.View,{grow:2,children:(0,r.jsx)(g.Text,{color:"dimmer",maxLines:2,children:v})})]})]})},_=(0,l.cssRecord)({titleTimeWrapper:[c.rcss.color.foregroundDefault,c.rcss.flex.column,c.rcss.flex.shrink(1),c.rcss.minWidth(0)]}),y=(0,s.css)({"::after":{borderRadius:o.tokens.space8,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}}),j=(0,l.cssRecord)({featureCardWrapper:[c.rcss.position.relative,c.rcss.rowWithGap(16),c.rcss.height(135),c.rcss.overflow("hidden"),u.interactive.filledAndOutlined,c.rcss.pr(16),{width:"100%"}],detailsColumn:[{width:"100%"}],titleWithIcon:[c.rcss.minWidth(0),c.rcss.mr(8)],forkCount:[c.rcss.color.foregroundDimmer],forkButton:[c.rcss.zIndex(2),c.rcss.hover({backgroundColor:o.tokens.interactiveBackgroundActive})],imageWrapper:[c.rcss.width(135),(0,n._)({},c.media.max(550),[c.rcss.width(110)])]}),R=(0,l.cssRecord)({link:[y,c.rcss.focusRingOnAfter,c.rcss.flex.growAndShrink(1),c.rcss.minWidth(0)]});e.s(["FeaturedReplCard",()=>v,"default",0,function(e){var n=e.featuredRepls;return n?(0,r.jsxs)(f.View,{gap:8,children:[(0,r.jsx)(g.Text,{variant:"subheadBig",color:"default",children:"Featured Apps"}),(0,r.jsx)(f.View,{gap:16,children:n.items.map(function(e,n){return(0,r.jsx)(m.ForkContextProvider,{forkParams:{trackingData:{forkSource:"orgFeaturedRepl"}},repl:e.repl,children:(0,r.jsx)(v,{repl:e.repl,index:n})},e.repl.id)})})]}):null}])},140959,e=>{"use strict";var n=e.i(878420),r=e.i(569384),t=e.i(973245),i=e.i(951262),a=e.i(304277);e.i(566901);var s=e.i(957353);function o(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchReplItem on Repl {\n    __typename\n    id\n    ...ReplListBoxItemRepl\n    org {\n      id\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function l(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchInputRepls on ReplConnection {\n    items {\n      ...OrgFeaturedReplsSearchReplItem\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function u(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsUpdate($input: UpdateOrgFeaturedReplInput!) {\n    updateOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsDelete($input: RemoveOrgFeaturedReplInput!) {\n    removeOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,r._)(["\n  query OrgFeaturedReplsSearchInputList(\n    $searchTerm: String!\n    $orgId: String!\n    $cursor: String\n  ) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          repls(\n            input: {\n              filters: { title: { search: $searchTerm }, visibility: public }\n              cursor: $cursor\n            }\n          ) {\n            __typename\n            ... on ReplConnection {\n              ...OrgFeaturedReplsSearchInputRepls\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},g=(0,t.gql)(o(),s.ReplListBoxItemReplFragmentDoc),f=(0,t.gql)(l(),g),m=(0,t.gql)(u(),g);function h(e){var r=(0,n._)({},p,e);return i.useMutation(m,r)}var x=(0,t.gql)(c(),g);function v(e){var r=(0,n._)({},p,e);return i.useMutation(x,r)}var _=(0,t.gql)(d(),f);function y(e){var r=(0,n._)({},p,e);return a.useQuery(_,r)}e.s(["useOrgFeaturedReplsDeleteMutation",()=>v,"useOrgFeaturedReplsSearchInputListQuery",()=>y,"useOrgFeaturedReplsUpdateMutation",()=>h])},557862,e=>{"use strict";var n=e.i(276385),r=e.i(140487),t=e.i(960178),i=e.i(625484),a=e.i(940745),s=e.i(703505);e.s(["default",0,function(e){return(0,n.jsxs)(i.View,{gap:24,children:[(0,n.jsxs)(t.Header,{variant:"headerDefault",level:2,children:["Delete ",e.name||e.entityType,"?"]}),(0,n.jsxs)(i.View,{gap:8,children:[(0,n.jsxs)(t.Text,{children:["Are you sure you want to delete"," ",e.description?e.description:"this ".concat(e.entityType),"? This cannot be undone."]}),"App"===e.entityType?(0,n.jsx)(t.Text,{children:"Some Apps may take a few minutes to finish deleting."}):null,"extension"===e.entityType?(0,n.jsx)(t.Text,{children:"The extension will be deleted from the store and uninstalled for everyone."}):null]}),(0,n.jsxs)(i.View,{row:!0,gap:12,justify:"end",children:[(0,n.jsx)(r.Button,{text:"Cancel",onClick:e.hideModal}),(0,n.jsx)(r.Button,{dataCy:"delete-modal-confirm-button",disabled:e.isDeleting,iconLeft:e.isDeleting?(0,n.jsx)(a.default,{}):(0,n.jsx)(s.default,{}),onClick:function(){e.delete(),e.hideModal()},text:"Yes, delete ".concat(e.confirmDescription?e.confirmDescription:"this ".concat(e.entityType)),colorway:"negative"})]})]})}])},349597,e=>{"use strict";var n,r=((n={}).AdminTutorialUpdate="admin-tutorial-update",n.CommunityPost="community-post",n.ProfileImage="profile-image",n.ProfileCoverImage="profile-cover-image",n.OrgProfileImage="org-profile-image",n.TemplateIcon="template-icon",n.ReplIcon="repl-icon",n.ReplCoverImage="repl-cover-image",n.TrainingProfileImage="training-profile-image",n);e.s(["DEFAULT_REPL_ICON",()=>"https://icons-util.replit.app/bash.svg","DEFAULT_REPL_IMAGE",()=>"https://icons-util.replit.app/bash.svg","ImageUploadContexts",()=>r])},971072,386594,e=>{"use strict";var n,r=e.i(297083),t=e.i(817556),i=e.i(344188),a=e.i(167626);(n={}).ArrayBuffer="ARRAY_BUFFER",n.BinaryString="BINARY_STRING",n.DataURL="DATA_URL",n.Text="TEXT";var s=function(e,n){return(0,a._)(e,window.File)?new Promise(function(r,t){var i=new window.FileReader;switch(i.onload=function(n){var i;(null==(i=n.target)?void 0:i.result)?r(n.target.result):t(Error('Failed to read file "'.concat(e.name,'"')))},i.onerror=t,n){case"ARRAY_BUFFER":i.readAsArrayBuffer(e);break;case"BINARY_STRING":i.readAsBinaryString(e);break;case"DATA_URL":i.readAsDataURL(e);break;case"TEXT":i.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return s(e,n)}))},o=function(e){return s(e,"ARRAY_BUFFER")},l=function(e){return s(e,"DATA_URL")};function u(e){return(0,r._)(function(){var n;return(0,t._)(this,function(r){switch(r.label){case 0:return[4,l(e)];case 1:if(n=r.sent(),e.size>1e7)throw Error("This image is over the ".concat(10,"MB maximum"));if(!n)throw Error("Expected file");return[2,n]}})})()}function c(e,n){return(0,r._)(function(){return(0,t._)(this,function(r){switch(r.label){case 0:return[4,(0,i.postJson)("/data/images/upload",{image:e,context:n})];case 1:return[2,r.sent()]}})})()}e.s(["readFileAsArrayBuffer",()=>o,"readFileAsDataURL",()=>l],386594);var d=["image/png","image/jpeg","image/gif","image/webp"];e.s(["ACCEPTABLE_IMAGE_UPLOAD_TYPES",()=>d,"UPLOAD_LIMIT_BYTES",()=>1e7,"postImage",()=>c,"readImageAsDataURL",()=>u],971072)},422025,e=>{"use strict";var n=e.i(297083),r=e.i(530658),t=e.i(817556),i=e.i(389959),a=e.i(971072);function s(e){var s=e.onUploadPreview,o=e.onUpload,l=e.onError,u=(0,r._)((0,i.useState)(!1),2),c=u[0],d=u[1];return{isLoading:c,uploadImage:(0,i.useCallback)(function(e,r){return(0,n._)(function(){var n,i,u,c,p,g;return(0,t._)(this,function(t){switch(t.label){case 0:if(d(!0),"image/svg+xml"===e.type)return l(Error("SVG images are not allowed")),[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,a.readImageAsDataURL)(e)];case 2:return n=t.sent(),[3,4];case 3:return t.sent(),l(Error("This image is over the ".concat(a.UPLOAD_LIMIT_BYTES/1e6,"MB maximum"))),[2,!1];case 4:s({dataUrl:n}),i=null,t.label=5;case 5:return t.trys.push([5,7,,8]),[4,(0,a.postImage)(n,r)];case 6:return i=t.sent(),[3,8];case 7:return u=t.sent(),c="Something went wrong",c=u.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":u.message,s({dataUrl:""}),d(!1),l(Error(c)),[2,!1];case 8:if(p=i.id,g=i.url,"number"!=typeof p)throw Error("Expected id");if("string"!=typeof g)throw Error("Expected url");d(!1),t.label=9;case 9:return t.trys.push([9,11,,12]),[4,o({id:p,url:g})];case 10:return t.sent(),[3,12];case 11:return l(t.sent()),[2,!1];case 12:return[2,!0]}})})()},[l,o,s])}}e.s(["default",()=>s])},957353,e=>{"use strict";var n=e.i(569384);function r(){var e=(0,n._)(["\n  fragment ReplListBoxItemRepl on Repl {\n    id\n    title\n    iconUrl\n    isFeaturedRepl\n    description(plainText: true)\n  }\n"]);return r=function(){return e},e}var t=(0,e.i(973245).gql)(r());e.s(["ReplListBoxItemReplFragmentDoc",()=>t])},845411,927196,e=>{"use strict";var n=e.i(389959),r=e.i(992785),t=e.i(276385),i=e.i(878420),a=e.i(569384),s=e.i(973245),o=e.i(613141);function l(){var e=(0,a._)(["\n  subscription CurrentUserReplAgentStatuses {\n    currentUserReplAgentStatuses {\n      replId\n      statusV2\n      label\n      updatedAt\n      appImageUrl\n    }\n  }\n"]);return l=function(){return e},e}var u={},c=(0,s.gql)(l());e.i(242933);var d=e.i(279606);e.i(925218);var p=e.i(112077),g=(0,n.createContext)(null);function f(e){var r,a=e.children,s=(0,p.useCreateObservable)(new Map),l=function(e){if(null==e?void 0:e.currentUserReplAgentStatuses){var n=new Map(e.currentUserReplAgentStatuses.map(function(e){return[e.replId,{statusV2:e.statusV2,label:e.label,updatedAt:e.updatedAt,appImageUrl:e.appImageUrl}]}));s.set(n)}};r=(0,i._)({},u,{onData:function(e){l(e.data.data)}}),o.useSubscription(c,r);var f=(0,n.useMemo)(function(){return d.Observable.from(s)},[s]);return(0,t.jsx)(g.Provider,{value:f,children:a})}function m(){var e=(0,n.useContext)(g);if(null===e)throw Error("useCurrentUserAgentStatus must be used within an AgentStatusProvider");return e}function h(e){var t=m();return(0,n.useMemo)(function(){return t.select(function(n){var r=n.get(e.id);return r?{status:r.statusV2,label:r.label,appImageUrl:r.appImageUrl}:e.latestAgentStatus?{status:e.latestAgentStatus.statusV2,label:e.latestAgentStatus.label,appImageUrl:e.latestAgentStatus.appImageUrl}:null},r.default)},[t,e.id,e.latestAgentStatus])}e.s(["AgentStatusProvider",()=>f,"default",()=>m],927196),e.s(["useReplAgentStatus",()=>h],845411)},273929,e=>{"use strict";var n=e.i(495764).RECENT_REPLS_SIDEBAR_MENU_COUNT;e.s(["RECENT_REPLS_DISPLAY_COUNT",()=>3,"RECENT_REPLS_FETCH_COUNT",()=>n])},286700,e=>{e.v({agentInput:"index-module__p2_exq__agentInput","enter-fade-in-up":"index-module__p2_exq__enter-fade-in-up",label:"index-module__p2_exq__label"})},883426,e=>{e.v({"enter-fade-in-up":"index-module__oPk4ZG__enter-fade-in-up",owner:"index-module__oPk4ZG__owner"})},194234,e=>{"use strict";var n=e.i(276385),r=e.i(813190);e.i(877212);var t=e.i(204203),i=e.i(297083),a=e.i(721281),s=e.i(878420),o=e.i(886513),l=e.i(530658),u=e.i(817556),c=e.i(931849),d=e.i(389959),p=e.i(188507),g=e.i(596139),f=e.i(527587),m=e.i(3931),h=e.i(233758),x=e.i(849165),v=e.i(565835),_=e.i(908320),y=e.i(747930),j=e.i(135958),R=e.i(175195),w=e.i(2e3),C=e.i(262522),T=e.i(298435),b=e.i(968783),k=e.i(673920),S=e.i(993796),I=e.i(650587),A=e.i(123111),O=e.i(858248),U=e.i(709485),D=e.i(66830),E=e.i(376847),P=e.i(446530),F=e.i(613355),B=e.i(960178),V=e.i(625484),M=e.i(788124),L=e.i(286700),N=(0,P.cssRecord)({centeredTitle:[F.rcss.center,F.rcss.py(12),(0,a._)({},F.media.max("tabletMin"),[F.rcss.py(0)])],label:[F.rcss.flex.column,F.rcss.gap(6)],title:[(0,a._)({},F.media.max("tabletMin"),[F.rcss.fontSize(18)])]});function z(e){var r,t,a,P=e.initialPrompt,F=e.animateInitialPrompt,z=e.currentUser,q=e.onUpsell,G=(0,l._)((0,d.useState)(!1),2),H=G[0],W=G[1],$=(0,c.useRouter)(),Y=(0,b.useCurrentUserStoredOrgContext)().orgId,Q=(0,l._)((0,C.useOwner)(z,Y,{includeLegacyTeams:!1}),1)[0],X=(0,T.usePrivate)(Q,void 0).isPrivate,K=(0,R.useBillingBudgetStatus)(),Z=(0,j.useAgentReplCreationAccess)(Q,K),J=(0,w.useCreateAgentRepl)({currentUser:z}),ee=J.createAgentRepl,en=J.status,er=J.agentPromptRiverConnectionStatus,et="/new"===$.pathname,ei=(0,v.useSelectedStack)(),ea=ei.selectedStack,es=ei.onSelectedStackChanged,eo=(0,I.useIsMobile)(),el=(0,h.default)({createReplStatus:en,isDesignMode:(0,y.isDesignMode)(ea.key),isMobile:eo,hasStoredOrgId:!!Y}),eu=el.submitButtonText,ec=el.placeholderText,ed=(0,l._)((0,d.useState)(null),2),ep=ed[0],eg=ed[1];(0,d.useEffect)(function(){var e=function(){$.query.create&&(null==ep||ep.animatePlaceholder(),null==ep||ep.animateBorder())};return $.events.on("routeChangeComplete",e),function(){$.events.off("routeChangeComplete",e)}},[ep,$]);var ef=(0,A.default)();(0,d.useEffect)(function(){!ef&&ep&&ep.focus()},[ep,ef]),(0,d.useEffect)(function(){P&&ep&&(F?ep.setValue(P,{animate:!0,onStart:function(){return W(!0)},onComplete:function(){return W(!1)}}):ep.setValue(P))},[P,ep,F]);var em=!Z.loading&&!Z.hasAccess,eh=(0,S.useFlag)({controlName:"flag-spice-melange",type:"string",default:g.DEFAULT_SPICE_MELANGE_TIER});(0,k.useEffectOnce)(function(){(0,O.track)(U.events.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:"flag-spice-melange",variant:eh})});var ex=(0,S.useFlag)({controlName:"flag-top-portkey"});(0,k.useEffectOnce)(function(){(0,O.track)(U.events.EXPERIMENT_VARIANT_ASSIGNED,{experimentName:"flag-top-portkey",variant:ex})});var ev=(0,x.useClassifier)();return t="Org"===Q.__typename?"org":z.isSubscribed?"paid":"free",(0,n.jsxs)(V.View,{gap:12,children:[(0,n.jsx)(E.default,{isOpen:"error"===er||"closed"===er,text:"Unable to establish a connection to the AI service. Please refresh the page to continue.",disableHomeButton:!0}),et?null:(0,n.jsx)(V.View,{css:N.centeredTitle,row:!0,align:"center",gap:12,children:(0,n.jsx)("label",{htmlFor:"ai-prompt-input",className:L.default.label,css:N.label,children:(0,n.jsxs)(B.Header,{css:N.title,level:1,variant:"headerDefault",children:["Hi ",null!=(a=null==(r=z.firstName)?void 0:r.trim())?a:"@"+z.username,", what do you want to make?"]})})}),(0,n.jsx)(M.default,{children:(0,n.jsx)(D.AiChatAttachmentsProvider,{children:(0,n.jsx)(_.AgentInputProvider,{classifier:ev,userType:t,children:(0,n.jsx)(m.default,{className:L.default.agentInput,inputRef:eg,persistenceKey:"start-with-ai-input-".concat(z.id),minHeight:84,disabled:H,onSubmit:function(e){return(0,i._)(function(){return(0,u._)(this,function(n){switch(n.label){case 0:return(0,O.track)(U.events.START_WITH_AI_USED,{action:"prompt_submitted",prompt:e.message,attachments_count:e.attachments.length,agent_stack_platform_type:e.agentStackPlatformType,time_taken:e.timeTaken,selected_stack:ea,used_auto_stack_fallback:e.usedAutoStackFallback}),[4,(0,i._)(function(){var n,r,t,i,a,l;return(0,u._)(this,function(u){return n=e.message,t=void 0===(r=e.attachments)?[]:r,i=e.initialBuildMode,a=(0,o._)(e,["message","attachments","initialBuildMode"]),l=null!=i?i:(0,y.isDesignMode)(ea.key)?p.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_DESIGN:void 0,ee((0,s._)({prompt:n,attachments:t,isPrivate:X,orgId:"Org"===Q.__typename?Q.id:void 0,initialBuildMode:l},a)),[2]})})()];case 1:return n.sent(),[2]}})})()},isPrivate:X,placeholderText:ec,status:"idle"!==en||Z.loading||"connecting"===er?"loading":"composing",isStarterPlanUser:!z.isSubscribed,isSubmitDisabled:!Z.hasAccess||"error"===er||"connecting"===er,submitDisabledReason:Z.loading?"Loading...":Z.hasAccess?null:Z.accessDeniedReason,onUpsell:q,overlay:em?(0,n.jsx)(f.AgentEntryPointOverlay,{agentAccessDeniedReason:Z.accessDeniedReason,owner:Q,usageInfo:K,currentUserId:z.id}):void 0,submitButtonText:eu,onFirstEdit:function(){(0,O.track)(U.events.START_WITH_AI_USED,{action:"agent_input_edited"})},selectedStack:ea,onSelectedStackChanged:es,isCreatingRepl:"idle"!==en})})})})]})}var q=e.i(58261),G=e.i(978486),H=e.i(164410),W=e.i(396776),$=e.i(940745),Y=e.i(883426),Q=(0,P.cssRecord)({loadingAndErrorWrapper:[F.rcss.display.flex,F.rcss.flex.growAndShrink(1),F.rcss.center,F.rcss.minHeight(200)]});function X(e){var i=e.initialPrompt,a=e.animateInitialPrompt,s=e.onUpsell,o=e.owner,l=(0,r.useStartWithAiQuery)(),u=l.data,c=l.loading,d=l.error;(0,q.useConnectorContext)(),(0,H.useIsModelfarmEnabled)();var p=(0,G.useGetAgentQueryPrompt)().aiPrompt;if(c)return(0,n.jsx)(V.View,{css:Q.loadingAndErrorWrapper,children:(0,n.jsx)($.default,{})});if(d||!u||!u.currentUser)return(0,n.jsx)(K,{message:"Something went wrong."});var g=u.currentUser;return(0,n.jsxs)(t.AiProvider,{currentUser:g,replId:null,hasAccessToAdvancedModel:!0,renderEmptyState:function(){return(0,n.jsx)("div",{style:{height:298}})},children:[o?(0,n.jsx)(V.View,{align:"center",className:Y.default.owner,children:o}):null,(0,n.jsx)(z,{initialPrompt:null!=i?i:""!==p?p:void 0,animateInitialPrompt:a,currentUser:g,onUpsell:s})]})}function K(e){var r=e.message;return(0,n.jsx)(V.View,{css:Q.loadingAndErrorWrapper,children:(0,n.jsx)(V.View,{children:(0,n.jsx)(W.StatusBanner,{colorway:"red",text:r})})})}e.s(["StartWithAi",()=>X],194234)},166404,e=>{e.v({appImage:"ShadesReplCard-module__iEL5tG__appImage",iconContainer:"ShadesReplCard-module__iEL5tG__iconContainer",overlayedClickTargets:"ShadesReplCard-module__iEL5tG__overlayedClickTargets",root:"ShadesReplCard-module__iEL5tG__root",smallIconContainer:"ShadesReplCard-module__iEL5tG__smallIconContainer",title:"ShadesReplCard-module__iEL5tG__title"})},603934,e=>{e.v({agentRunningPill:"ReplCard-module__E-1cRq__agentRunningPill",appImage:"ReplCard-module__E-1cRq__appImage",iconContainer:"ReplCard-module__E-1cRq__iconContainer",overlayedClickTargets:"ReplCard-module__E-1cRq__overlayedClickTargets","pulse-blurple":"ReplCard-module__E-1cRq__pulse-blurple",replTitle:"ReplCard-module__E-1cRq__replTitle",root:"ReplCard-module__E-1cRq__root",smallIconContainer:"ReplCard-module__E-1cRq__smallIconContainer"})},363734,e=>{e.v({bannerContainer:"HomeBanner-module__nN3Y9q__bannerContainer",collapsableSidebarFlag:"HomeBanner-module__nN3Y9q__collapsableSidebarFlag"})},542629,e=>{e.v({container:"SitewideBanner-module__D4pS8a__container"})},623136,732729,671214,582734,e=>{"use strict";var n=e.i(530658),r=e.i(276385),t=e.i(389959),i=e.i(878420),a=e.i(569384),s=e.i(973245),o=e.i(304277);e.i(566901);var l=e.i(183462);function u(){var e=(0,a._)(["\n  query GetOwnerPillOrgs {\n    currentUser {\n      id\n      ...OrgSwitcherCurrentUser\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var c={},d=(0,s.gql)(u(),l.OrgSwitcherCurrentUserFragmentDoc),p=e.i(968783),g=e.i(446530),f=e.i(613355),m=e.i(625484),h=e.i(652219),x=(0,g.cssRecord)({placeholder:[f.rcss.width(24),f.rcss.height(24),f.rcss.borderRadius("full"),f.rcss.backgroundColor.backgroundRoot,f.rcss.display.flex,f.rcss.align.center,f.rcss.justify.center,f.rcss.color.foregroundDefault]}),v=function(){return(0,r.jsx)(m.View,{css:x.placeholder,children:(0,r.jsx)(h.default,{size:12})})},_=e.i(783509),y=e.i(714165),j=e.i(140487),R=e.i(604963),w=e.i(346715),C=e.i(931849),T=e.i(368964),b=e.i(222342),k=e.i(230227),S=e.i(341126),I=e.i(480028),A=e.i(754873),O=e.i(960178),U=e.i(616278),D=[f.rcss.flex.row,f.rcss.align.center,A.interactive.listItem,f.rcss.px(8),f.rcss.py(4),{":not([disabled])":{":hover":{backgroundColor:I.tokens.backgroundHigher}}}],E=(0,g.cssRecord)({dropdownItemAndContainer:(0,w._)(D),orgNameText:[f.rcss.flex.grow(1)],dropdownAvatarAndName:[f.rcss.textAlign.left,f.rcss.rowWithGap(8),f.rcss.maxWidth("100%"),f.rcss.flex.growAndShrink(1)],sectionHeader:[f.rcss.fontWeight.medium,f.rcss.p(8),f.rcss.flex.row,f.rcss.align.center],workspaceDropdownContainer:[f.rcss.maxHeight("calc(100vh - 400px)"),f.rcss.overflowY("auto")],overflowIndicator:[f.rcss.position.absolute,f.rcss.bottom(0),f.rcss.left(0),f.rcss.right(0),f.rcss.height(36),f.rcss.backgroundColor.backgroundDefault,f.rcss.display.flex,f.rcss.justify.center,f.rcss.align.center,{background:"linear-gradient(transparent, ".concat(I.tokens.backgroundDefault," 50%, ").concat(I.tokens.backgroundHigher," 80%, ").concat(I.tokens.backgroundHighest," 100%)"),opacity:.7,pointerEvents:"none"}],workspaceContainerWrapper:[f.rcss.position.relative]}),P=(0,g.cssRecord)({self:[E.dropdownItemAndContainer,f.rcss.justify.spaceBetween,{backgroundColor:I.tokens.interactiveBackground,":not([disabled])":{":hover":{backgroundColor:I.tokens.backgroundHighest}}}]}),F=function(e){var n=e.currentUser,t=e.selected,i=e.onClick;return(0,r.jsxs)(m.View,{css:t?P.self:E.dropdownItemAndContainer,onClick:i,children:[(0,r.jsxs)(m.View,{css:E.dropdownAvatarAndName,align:"center",children:[(0,r.jsx)(y.Avatar,{src:n.image,username:n.username,fullName:n.fullName,size:20,isOrg:!1}),(0,r.jsx)(O.Text,{variant:"text",color:t?"default":"dimmer",multiline:!1,css:E.orgNameText,children:"Personal"})]}),(0,r.jsx)(m.View,{align:"center",row:!0,children:t?(0,r.jsx)(U.default,{size:16}):null})]})},B=function(e){var n,t=e.selected,i=e.org,a=e.orgContext,s=e.groupType,o=e.onRoute,l=(0,b.default)().showError,u=i.name,c=i.slug,d=a.switchOrg,p=function(e){e.currentUserRole?(d({type:T.OrgType.Team,id:e.id,slug:e.slug,orgRole:e.currentUserRole,orgDealContext:e.dealContext}),o()):l("Something went wrong, please try again.")},g=(0,S.orgLinks)({slug:c}).home,f=(0,C.useRouter)();return(0,r.jsxs)(m.View,{css:t?P.self:E.dropdownItemAndContainer,onClick:function(){p(i),f.push(g.href)},children:[(0,r.jsxs)(m.View,{css:E.dropdownAvatarAndName,align:"center",children:[(0,r.jsx)(y.Avatar,{src:null!=(n=i.image)?n:null,username:u,fullName:i.name,size:20}),(0,r.jsxs)(m.View,{row:!0,align:"center",gap:8,children:[(0,r.jsx)(O.Text,{variant:"text",color:t?"default":"dimmer",multiline:!1,translate:"no",css:E.orgNameText,children:u}),s?(0,r.jsx)(O.Text,{variant:"small",color:"dimmest",children:(0,_.orgGroupToDisplayName)(s)}):null]})]}),(0,r.jsx)(m.View,{align:"center",row:!0,children:t?(0,r.jsx)(U.default,{size:16}):null})]})},V=function(e){var i=e.currentUser,a=e.orgContext,s=e.loading,o=e.hasOrgs,l=e.onRoute,u=(0,C.useRouter)(),c=(0,t.useRef)(null),d=(0,n._)((0,t.useState)(!1),2),p=d[0],g=d[1],f=(0,k.usePersonalWorkspacesDisabled)().shouldHidePersonalWorkspace;return((0,t.useEffect)(function(){var e=function(){if(c.current){var e=c.current,n=e.scrollHeight,r=e.clientHeight,t=e.scrollTop;g(n>r&&!(t+r>=n-1))}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,t.useEffect)(function(){var e=function(){if(c.current){var e=c.current,n=e.scrollHeight,r=e.clientHeight,t=e.scrollTop;g(n>r&&!(t+r>=n-1))}},n=c.current;if(n)return n.addEventListener("scroll",e),function(){return n.removeEventListener("scroll",e)}},[]),(null==i?void 0:i.orgs)&&"CurrentUserOrganizationConnection"===i.orgs.__typename&&(void 0===s||!s)&&void 0!==o&&o)?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.View,{children:[(0,r.jsx)(O.Text,{variant:"small",color:"dimmest",css:E.sectionHeader,children:"Switch Workspace"}),(0,r.jsxs)(m.View,{css:E.workspaceContainerWrapper,children:[(0,r.jsxs)(m.View,{innerRef:c,css:E.workspaceDropdownContainer,children:[f?null:(0,r.jsx)(F,{currentUser:i,selected:void 0===a.orgId,onClick:function(){a.switchOrg({type:T.OrgType.Personal}),u.push("/home","/~",{shallow:!1})}}),i.orgs.items.map(function(e){var n=e.org,t=e.type;return(0,r.jsx)(B,{org:n,groupType:t,selected:n.id===a.orgId,orgContext:a,onRoute:l},n.id)})]}),p?(0,r.jsx)(m.View,{css:E.overflowIndicator}):null]})]})}):null},M=e.i(576073),L=e.i(462783);function N(e){var a,s,l,u=e.ownerName,g=e.image,f=e.currentOrgId,m=(0,n._)((0,t.useState)(!1),2),h=m[0],x=m[1],w=(a=(0,i._)({},c,void 0),o.useQuery(d,a)).data,C=(null==w||null==(s=w.currentUser)?void 0:s.orgs.__typename)==="CurrentUserOrganizationConnection"?w.currentUser.orgs.items:[],T=(0,p.useCurrentUserStoredOrgContext)();if(!C.length||!w||(null==(l=w.currentUser)?void 0:l.orgs.__typename)!=="CurrentUserOrganizationConnection")return null;var b=(0,r.jsx)(y.Avatar,{src:null!=g?g:null,username:u,size:24}),k=(0,_.getFormattedOrgWorkspaceName)({ownerName:u,isInOrg:!!f});return(0,r.jsxs)(R.PopoverTrigger,{isOpen:h,onOpenChange:x,placement:"bottom",label:"Switch Workspace",children:[(0,r.jsx)(j.Button,{style:{paddingLeft:4},borderRadius:"full",iconLeft:f?g?b:(0,r.jsx)(v,{}):b,iconRight:h?(0,r.jsx)(L.default,{}):(0,r.jsx)(M.default,{}),text:k}),(0,r.jsx)(V,{currentUser:w.currentUser,orgContext:T,loading:!1,hasOrgs:C.length>0,onRoute:function(){x(!1)}})]})}e.s(["OwnerPill",()=>N],623136),e.s(["AgentStatus",()=>ek,"RecentReplCard",()=>eC],732729);var z=e.i(721281),q=e.i(64386),G=e.i(886513),H=e.i(366492);e.i(925218);var W=e.i(267103),$=e.i(641555),Y=e.i(851231),Q=e.i(546833),X=e.i(46654),K=e.i(228108),Z=e.i(327516),J=e.i(379334),ee=e.i(928838),en=e.i(751273),er=e.i(503536),et=e.i(987154),ei=e.i(530310),ea=(0,g.cssRecord)({dim:[f.rcss.color.foregroundDimmer]});function es(e){var n,t,i=e.deployment,a=e.isPrivate,s=e.isOrg,o=e.small,l=void 0===o||o;if(!i)if(void 0!==a&&a)return(0,r.jsx)(en.Tooltip,{tooltip:void 0!==s&&s?"Internal to your organization":"Only you can see and edit this App",children:(0,r.jsxs)(m.View,{css:ea.dim,row:!0,gap:4,align:"center",children:[(0,r.jsx)(ei.default,{size:l?12:16}),(0,r.jsx)(O.Text,{variant:l?"small":void 0,multiline:!1,children:"Private"})]})});else return(0,r.jsx)(en.Tooltip,{tooltip:"Anyone on Replit can view and remix this App",children:(0,r.jsxs)(m.View,{css:ea.dim,row:!0,gap:4,align:"center",children:[(0,r.jsx)(et.default,{size:l?12:16}),(0,r.jsx)(O.Text,{variant:l?"small":void 0,multiline:!1,children:"Public"})]})});var u=i.currentBuild,c=ee.buildStatuses[u.status],d=c.title,p=c.color,g=(0,Z.default)(new Date(u.timeCreated),Date.now(),{addSuffix:!0}),f="Published ".concat(g," by ").concat(null!=(t=null==(n=u.user)?void 0:n.displayName)?t:J.DELETED_USER_DISPLAY_NAME),h=u.status===T.HostingBuildStatus.Success?"Published":d;return(0,r.jsx)(en.Tooltip,{tooltip:f,children:(0,r.jsxs)(m.View,{row:!0,gap:4,align:"center",children:[(0,r.jsx)(er.default,{size:l?12:16,color:p}),(0,r.jsx)(O.Text,{color:"dimmer",variant:l?"small":void 0,multiline:!1,children:h})]})})}var eo=e.i(826516),el=e.i(173703),eu=e.i(624782),ec=e.i(732955),ed=e.i(185591),ep=e.i(243914),eg=e.i(166404);function ef(e){var n=e.repl,t=e.isOrg,a=e.agentStatus,s=e.trackingContext,o=e.onDeleteRequested,l=(0,ed.replLinkProps)(n,{initialPaneType:null!=n.project?"project":void 0}),u=(0,eo.usePressedProps)();return(0,r.jsxs)(m.View,(0,q._)((0,i._)({tag:"li",clsx:[eg.default.root,Q.shades.button("halfElevated")]},u),{children:[(0,r.jsx)(em,{repl:n,agentStatus:a}),(0,r.jsxs)(m.View,{grow:!0,shrink:!0,gap:6,p:12,children:[(0,r.jsxs)(m.View,{row:!0,gap:8,align:"start",justify:"space-between",children:[(0,r.jsx)(m.View,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",children:(0,r.jsxs)(m.View,{grow:!0,shrink:!0,children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({},l),{clsx:eg.default.title,children:(0,r.jsx)(O.Text,{multiline:!1,translate:"no",children:n.title})})),(0,r.jsx)(O.Text,{multiline:!1,variant:"small",color:"dimmest",children:(0,X.ago)(n.timeUpdated)})]})}),(0,r.jsx)(m.View,{clsx:eg.default.overlayedClickTargets,children:(0,r.jsx)(ec.ReplActions,{repl:n,trackingContext:s,onDeleteRequested:o?function(){return o(n.id)}:void 0})})]}),(0,r.jsx)(eh,{repl:n,isOrg:void 0!==t&&t,agentStatus:a})]})]}))}function em(e){var n,t=e.repl,i=e.agentStatus,a=(0,$.useObservableMemo)(function(){return null==i?void 0:i.select(function(e){return null==e?void 0:e.appImageUrl})},[i])||t.latestAgentScreenshotUrl;return(0,r.jsx)(el.ShadesSurface,{clsx:eg.default.appImage,style:a?{backgroundImage:"url(".concat(a,")")}:void 0,border:!0,children:(0,r.jsx)(m.View,{align:"center",justify:"center",clsx:(n={},(0,z._)(n,eg.default.smallIconContainer,a),(0,z._)(n,eg.default.iconContainer,!a),n),children:(0,r.jsx)(K.ReplIconWithPlaceholder,{alt:t.title,size:a?24:64,iconUrl:t.iconUrl,isLoading:!t.iconUrl})})})}function eh(e){var n,t=e.repl,a=e.isOrg,s=(0,G._)(e,["repl","isOrg"]);return(0,r.jsxs)(m.View,{row:!0,gap:4,align:"center",justify:"space-between",children:[(null==(n=t.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({clsx:eg.default.overlayedClickTargets},(0,ed.replLinkProps)(t,{initialPaneType:"deployments"})),{children:(0,r.jsx)(es,{deployment:t.hostingDeployment,isPrivate:t.isPrivate,isOrg:a})})),(0,r.jsx)(m.View,{clsx:eg.default.overlayedClickTargets,children:(0,r.jsx)(Y.DeploymentSiteLink,{deployment:t.hostingDeployment,icon:(0,r.jsx)(ep.default,{})})})]}):(0,r.jsx)(es,{isPrivate:t.isPrivate,isOrg:a}),a&&"viewFileContents"in t.authorizations&&t.authorizations.viewFileContents.isAuthorized&&!t.authorizations.editFileContents.isAuthorized?(0,r.jsx)(en.Tooltip,{clsx:eg.default.overlayedClickTargets,tooltip:t.authorizations.editFileContents.code===T.ReplAuthorizationCode.InsufficientPermissions?"You don't have permission to edit this App. To open it in the Workspace, request permissions from the creator or an admin.":t.authorizations.editFileContents.message,children:(0,r.jsx)(eu.Pill,{colorway:"blurple",text:"Read-only"})}):(0,r.jsx)(r.Fragment,{children:s.agentStatus?(0,r.jsx)(ek,{agentStatus:s.agentStatus}):null})]})}var ex=e.i(845411),ev=e.i(703774),e_=e.i(696770),ey=e.i(929872),ej=e.i(369948),eR=e.i(42458),ew=e.i(603934);function eC(e){var n=(0,ex.useReplAgentStatus)(e.repl);return(0,e_.useShadesFlag)()?(0,r.jsx)(ef,(0,q._)((0,i._)({},e),{agentStatus:n})):(0,r.jsx)(eT,(0,q._)((0,i._)({},e),{agentStatus:n}))}function eT(e){var n=e.repl,t=e.isOrg,a=e.trackingContext,s=e.onDeleteRequested,o=e.agentStatus,l=(0,ed.replLinkProps)(n,{initialPaneType:null!=n.project?"project":void 0}),u=(0,C.useRouter)(),c=(0,ev.useTheme)().isDarkColorScheme;return(0,r.jsxs)(ey.Surface,{elevated:c,clsx:ew.default.root,tag:"li",onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u.push(l.href))},children:[(0,r.jsx)(eS,{repl:n,agentStatus:o}),(0,r.jsxs)(m.View,{grow:!0,shrink:!0,gap:6,p:12,children:[(0,r.jsxs)(m.View,{row:!0,gap:8,align:"start",justify:"space-between",children:[(0,r.jsx)(m.View,{grow:!0,shrink:!0,row:!0,gap:8,align:"center",children:(0,r.jsxs)(m.View,{grow:!0,shrink:!0,children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({},l),{clsx:ew.default.replTitle,children:(0,r.jsx)(O.Text,{multiline:!1,translate:"no",children:n.title})})),(0,r.jsx)(O.Text,{multiline:!1,variant:"small",color:"dimmest",children:(0,X.ago)(n.timeUpdated)})]})}),(0,r.jsx)(m.View,{clsx:ew.default.overlayedClickTargets,children:(0,r.jsx)(ec.ReplActions,{repl:n,trackingContext:a,onDeleteRequested:s?function(){return s(n.id)}:void 0})})]}),(0,r.jsx)(eb,{repl:n,isOrg:void 0!==t&&t,agentStatus:o})]})]})}function eb(e){var n,t=e.repl,a=e.isOrg,s=(0,G._)(e,["repl","isOrg"]);return(0,r.jsxs)(m.View,{row:!0,gap:4,align:"center",justify:"space-between",children:[(null==(n=t.hostingDeployment)?void 0:n.__typename)==="HostingDeployment"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.default,(0,q._)((0,i._)({clsx:ew.default.overlayedClickTargets},(0,ed.replLinkProps)(t,{initialPaneType:"deployments"})),{children:(0,r.jsx)(es,{deployment:t.hostingDeployment,isPrivate:t.isPrivate,isOrg:a})})),(0,r.jsx)(m.View,{clsx:ew.default.overlayedClickTargets,children:(0,r.jsx)(Y.DeploymentSiteLink,{deployment:t.hostingDeployment,icon:(0,r.jsx)(ep.default,{})})})]}):(0,r.jsx)(es,{isPrivate:t.isPrivate,isOrg:a}),a&&"viewFileContents"in t.authorizations&&t.authorizations.viewFileContents.isAuthorized&&!t.authorizations.editFileContents.isAuthorized?(0,r.jsx)(en.Tooltip,{clsx:ew.default.overlayedClickTargets,tooltip:t.authorizations.editFileContents.code===T.ReplAuthorizationCode.InsufficientPermissions?"You don't have permission to edit this App. To open it in the Workspace, request permissions from the creator or an admin.":t.authorizations.editFileContents.message,children:(0,r.jsx)(eu.Pill,{colorway:"blurple",text:"Read-only"})}):(0,r.jsx)(r.Fragment,{children:s.agentStatus?(0,r.jsx)(ek,{agentStatus:s.agentStatus}):null})]})}function ek(e){var n,t=(0,W.useObservable)(e.agentStatus);if(!t)return null;var i=null==t?void 0:t.label,a=I.tokens.foregroundDimmest,s=void 0;switch(null==t?void 0:t.status){case T.AgentStatusV2.Running:s="blurple";break;case T.AgentStatusV2.PausedWithRequest:s="primary",n=(0,r.jsx)(ej.default,{color:a,size:12});break;case T.AgentStatusV2.PausedWithError:s="red",a=I.tokens.foregroundDefault,n=(0,r.jsx)(eR.default,{color:a,size:12})}return(0,r.jsx)(eu.Pill,{colorway:s,text:i,iconRight:n,clsx:(null==t?void 0:t.status)===T.AgentStatusV2.Running?ew.default.agentRunningPill:void 0})}function eS(e){var n,t=e.repl,i=e.agentStatus,a=(0,$.useObservableMemo)(function(){return null==i?void 0:i.select(function(e){return null==e?void 0:e.appImageUrl})},[i])||t.latestAgentScreenshotUrl;return(0,r.jsx)(ey.Surface,{elevated:!0,clsx:ew.default.appImage,style:a?{backgroundImage:"url(".concat(a,")")}:void 0,children:(0,r.jsx)(m.View,{align:"center",justify:"center",clsx:(n={},(0,z._)(n,ew.default.smallIconContainer,a),(0,z._)(n,ew.default.iconContainer,!a),n),children:(0,r.jsx)(K.ReplIconWithPlaceholder,{alt:t.title,size:a?24:64,iconUrl:t.iconUrl,isLoading:!t.iconUrl})})})}var eI=e.i(993796),eA=e.i(761201),eO=e.i(929417);function eU(e){var n=e.orgDealType,t=e.orgContactEmail,i=n===T.OrgDealType.EnterpriseTrial?"Enterprise":"Teams";return(0,r.jsx)(eO.TopBanner,{colorway:"primary",text:"Your Replit ".concat(i," trial has ended. Contact ").concat(null!=t?t:eA.SALES_TEAM_CONTACT_EMAIL," to resume services.")})}var eD=e.i(882029),eE=e.i(780026);function eP(){return(0,r.jsx)(eO.TopBanner,{colorway:"warning",text:"Payment failed. Update to continue using Replit AI.",buttonLinkProps:{colorway:"warning",text:"Update Payment Method",href:"/account#billing"}})}var eF=e.i(297083),eB=e.i(817556),eV=e.i(781230);function eM(){var e=(0,a._)(["\n  query CurrentUserReferralBanner {\n    currentUser {\n      id\n      username\n      isSubscribed\n      referralsByTarget(input: { status: pending }) {\n        __typename\n        ... on CurrentUserReferralsByTargetResult {\n          referrals {\n            ... on Referrals {\n              id\n              sourceUser {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n      referralsBySource {\n        __typename\n        ... on CurrentUserReferralsBySourceResult {\n          referrals {\n            ... on Referrals {\n              id\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return eM=function(){return e},e}var eL={},eN=(0,s.gql)(eM()),ez=e.i(596139),eq=e.i(480809),eG=e.i(548733),eH=e.i(973519),eW=e.i(952521),e$=e.i(693188),eY=e.i(571073);function eQ(){var e,a,s,l,u,c,d,g,f,m,h,x,v,_,y,j=(0,p.useCurrentUserStoredOrgContext)().orgId,R=(0,eW.useMemoedDismissibleElement)("referral-program-banner"),w=R.isLoading,C=R.isDone,b=R.setAsDone,k=(0,eW.useMemoedDismissibleElement)("referral-pending-banner"),S=k.isLoading,I=k.isDone,A=k.setAsDone,O=(e=(0,i._)({},eL,void 0),o.useQuery(eN,e)),U=O.data,D=O.loading,E=(null==U||null==(s=U.currentUser)||null==(a=s.referralsByTarget)?void 0:a.__typename)==="CurrentUserReferralsByTargetResult"&&!!(null==U||null==(u=U.currentUser)||null==(l=u.referralsByTarget)?void 0:l.referrals)&&(null==U||null==(g=U.currentUser)||null==(d=g.referralsByTarget)||null==(c=d.referrals)?void 0:c.length)>0,P=((null==U||null==(m=U.currentUser)||null==(f=m.referralsBySource)?void 0:f.__typename)==="CurrentUserReferralsBySourceResult"&&!!(null==U||null==(x=U.currentUser)||null==(h=x.referralsBySource)?void 0:h.referrals)&&(null==U||null==(_=U.currentUser)||null==(v=_.referralsBySource)?void 0:v.referrals)||[]).filter(function(e){return e.status===T.ReferralsstatusEnumType.ReferrerCreditPending}),F=P.length>0,B=!!(null==U||null==(y=U.currentUser)?void 0:y.isSubscribed),V=(0,n._)((0,t.useState)(!1),2),M=V[0],L=V[1],N=(0,eH.useGlobalModal)().show,z=(0,eV.useIsSSR)();if(j||z||w||C||S||I||D)return null;if(F&&!B){var q=P.length*eq.REFERRAL_CREDIT_AMOUNT_USD;return(0,r.jsx)(eO.TopBanner,{colorway:"primary",text:"Upgrade to ".concat(ez.corePlanName," to claim your $").concat(q," in referral bonus credits."),buttonProps:{text:"Upgrade",iconLeft:(0,r.jsx)(e$.default,{}),colorway:"primary",onClick:function(){return(0,eF._)(function(){return(0,eB._)(this,function(e){switch(e.label){case 0:return[4,N("MembershipPurchaseModal",{analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},onPurchaseComplete:function(){return A()}})];case 1:return e.sent(),[2]}})})()}},onDismiss:function(){return A()}})}return E&&!B?(0,r.jsx)(eO.TopBanner,{colorway:"primary",text:"Upgrade to ".concat(ez.corePlanName," to claim your $").concat(eq.REFERRAL_CREDIT_AMOUNT_USD," in credits"),buttonProps:{text:"Upgrade",iconLeft:(0,r.jsx)(e$.default,{}),colorway:"primary",onClick:function(){return(0,eF._)(function(){return(0,eB._)(this,function(e){switch(e.label){case 0:return[4,N("MembershipPurchaseModal",{headingText:"Upgrade for credits",subHeadingText:"Upgrade to Replit ".concat(ez.corePlanName," to claim your $").concat(eq.REFERRAL_CREDIT_AMOUNT_USD," in referral bonus credits"),analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},onPurchaseComplete:function(){return A()}})];case 1:return e.sent(),[2]}})})()}},onDismiss:function(){return A()}}):B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eO.TopBanner,{colorway:"primary",text:"Need more credits?",buttonProps:{text:"Refer a friend",iconLeft:(0,r.jsx)(eY.default,{}),colorway:"primary",onClick:function(){return L(!0)}},onDismiss:function(){return b()}}),(0,r.jsx)(eG.ReferralLinkModal,{isOpen:M,onClose:function(){return L(!1)},trackingContext:"referral-banner"})]}):null}var eX=e.i(363734),eK=(0,t.memo)(function(e){var n,t,i=e.orgRole,a=e.orgDealContext,s=e.isUBBBanned,o=e.suspensionNotificationType;return i===T.SystemOrgGroupType.SystemAdmins&&((null==a?void 0:a.dealType)===T.OrgDealType.Trial||(null==a?void 0:a.dealType)===T.OrgDealType.EnterpriseTrial)&&s?(0,r.jsx)(eU,{orgDealType:null!=(n=null==a?void 0:a.dealType)?n:T.OrgDealType.Trial,orgContactEmail:null!=(t=null==a?void 0:a.salesContactEmail)?t:null}):o===T.Ubb_Suspension_Status_NotificationstypeEnumType.InGracePeriod?(0,r.jsx)(eP,{}):(0,r.jsx)(eQ,{})});function eZ(){var e=(0,p.useCurrentUserStoredOrgContext)(),n=e.orgId,t=e.orgRole,i=e.orgDealContext,a=e.loading,s=(0,eD.useIsUBBBanned)({orgId:n}),o=s.loading,l=s.isUBBBanned,u=(0,eE.useUBBSuspensionNotifications)(),c=u.suspensionNotification,d=u.suspensionNotificationsLoading;return a||d||o?(0,r.jsx)("div",{clsx:eX.default.bannerContainer}):(0,r.jsx)(eJ,{children:(0,r.jsx)(eK,{orgRole:t,orgDealContext:i,isUBBBanned:l,suspensionNotificationType:null==c?void 0:c.type})})}function eJ(e){var n=(0,eI.useFlag)({controlName:"flag-golden-global-traveler-toggle"});return(0,r.jsx)(m.View,{clsx:[eX.default.bannerContainer,(0,z._)({},eX.default.collapsableSidebarFlag,n)],children:e.children})}function e0(){var e=(0,a._)(["\n  query SitewideBanner {\n    siteBanner {\n      id\n      message\n    }\n  }\n"]);return e0=function(){return e},e}e.s(["BannerContainer",()=>eJ,"HomeBanner",()=>eZ],671214);var e1={},e2=(0,s.gql)(e0()),e5=e.i(542629);function e4(){var e,n,t,a=(null==(t=(e=(0,i._)({},e1,void 0),o.useQuery(e2,e)).data)||null==(n=t.siteBanner)?void 0:n.message)||null;return a?(0,r.jsx)(eJ,{children:(0,r.jsx)(m.View,{clsx:e5.default.container,row:!0,gap:8,p:12,children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:a}})})}):null}e.s(["SitewideBanner",()=>e4],582734)}]);

//# debugId=9f2a7729-d9ac-bba3-71cf-77c4cac39512
//# sourceMappingURL=b0502c72b1b682a0.js.map