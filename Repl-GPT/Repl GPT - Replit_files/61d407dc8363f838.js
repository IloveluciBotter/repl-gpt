;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f9652d2d-5c5b-1cb1-5c41-3260a8c9c5a2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,452412,e=>{"use strict";var t=e.i(276385),n=e.i(446530),r=e.i(613355),i=e.i(140487),s=e.i(960178),a=e.i(625484),o=e.i(940745),l=a.SpecializedView.form,c=(0,n.cssRecord)({content:[r.rcss.colWithGap(24)]});function u(e){var n;return(0,t.jsxs)(l,{css:c.content,onSubmit:function(t){t.preventDefault(),e.onConfirm()},children:[(0,t.jsx)(s.Header,{variant:"headerDefault",level:2,children:e.title}),"string"==typeof e.children?(0,t.jsx)(s.Text,{children:e.children}):e.children,(0,t.jsxs)(a.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(i.Button,{type:"button",onClick:e.onCancel,text:null!=(n=e.cancelLabel)?n:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",disabled:e.loading,iconLeft:e.loading?(0,t.jsx)(o.default,{}):e.confirmIcon,colorway:e.isDestructive?"negative":"primary",text:e.confirmLabel||"Confirm"})]})]})}e.s(["default",()=>u])},315801,e=>{"use strict";function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.root,i=n.rootMargin,s=n.threshold;if("undefined"==typeof IntersectionObserver)return function(){};var a=new WeakMap,o=new IntersectionObserver(function(e){e.forEach(function(e){var n=a.get(e.target);if(!!n!==e.isIntersecting)if(e.isIntersecting){var r=t(e);"function"==typeof r?a.set(e.target,r):o.unobserve(e.target)}else n&&(n(e),a.delete(e.target))})},{root:r,rootMargin:i,threshold:void 0===s?1:s});return o.observe(e),function(){return o.disconnect()}}e.s(["inView",()=>t])},315315,e=>{"use strict";var t=function(e){var t=new Date(e),r=t.getHours(),i=t.getMinutes(),s="AM";return r>=12&&(s="PM"),0==(r%=12)&&(r="12"),i<10&&(i="0"+i),n(e)+" ".concat(r,":").concat(i," ").concat(s)},n=function(e){var t=new Date(e),n=t.getMonth()+1,r=t.getDate(),i=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(i)};e.s(["formatDate",()=>n,"formatDateTime",()=>t])},491669,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(606867);function s(e){return(0,r.jsx)(i.default,(0,n._)((0,t._)({},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M20.715 11.137c-.176-4.908-4.971-8.783-9.59-8.355l-.02.002h-.02c-4.695.185-8.221 4.382-7.8 8.245l.002.022v.021c.2 3.94 4.078 6.949 7.686 6.553l.02-.003h.02c3.684-.204 6.304-3.525 5.923-6.413l-.003-.022-.002-.022c-.217-2.973-3.18-5.113-5.774-4.757l-.02.003-.02.002c-2.673.22-4.388 2.656-4.054 4.568l.004.023.002.023c.226 2.006 2.27 3.282 3.844 2.977l.02-.004.02-.003c1.668-.227 2.47-1.76 2.217-2.69l-.006-.022-.005-.024a1.634 1.634 0 0 0-.803-1.098c-.402-.23-.804-.251-1.042-.164a.75.75 0 1 1-.518-1.408c.744-.273 1.609-.128 2.304.269a3.134 3.134 0 0 1 1.524 2.076c.504 1.912-1.029 4.203-3.447 4.544-2.396.451-5.258-1.382-5.596-4.263-.484-2.866 1.96-6.003 5.392-6.297 3.401-.455 7.158 2.259 7.452 6.114.492 3.826-2.86 7.827-7.308 8.084-4.41.471-9.07-3.121-9.326-7.948-.508-4.795 3.752-9.658 9.215-9.883C16.42.797 21.99 5.26 22.213 11.062c.53 5.766-4.654 11.505-11.137 11.688a.75.75 0 1 1-.042-1.5c5.704-.16 10.14-5.236 9.684-10.07l-.003-.021v-.022Z",clipRule:"evenodd"})}))}e.s(["default",()=>s])},258941,e=>{"use strict";var t=e.i(276385),n=e.i(140487),r=e.i(960178),i=e.i(625484),s=e.i(940745);function a(e){var a=e.prompt,o=e.desc,l=e.confirmText,c=e.loading,u=void 0!==c&&c,d=e.onCancel,f=e.onConfirm,h=e.danger,m=e.icon;return(0,t.jsxs)(i.View,{gap:24,children:[(0,t.jsx)(r.Header,{level:3,variant:"headerDefault",children:a}),(0,t.jsx)(r.Text,{children:o}),(0,t.jsxs)(i.View,{row:!0,gap:12,justify:"end",children:[d?(0,t.jsx)(n.Button,{disabled:u,onClick:d,text:"Cancel"}):null,(0,t.jsx)(n.Button,{colorway:h?"negative":"primary",disabled:u,onClick:f,text:l||"Ok",iconLeft:u?(0,t.jsx)(s.default,{}):m})]})]})}e.s(["default",()=>a])},938024,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(606867);function s(e){return(0,r.jsxs)(i.default,(0,n._)((0,t._)({},e),{children:[(0,r.jsx)("path",{d:"M9.53 8.47a.75.75 0 0 0-1.06 1.06L10.94 12l-2.47 2.47a.75.75 0 1 0 1.06 1.06L12 13.06l2.47 2.47a.75.75 0 1 0 1.06-1.06L13.06 12l2.47-2.47a.75.75 0 0 0-1.06-1.06L12 10.94 9.53 8.47Z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 3.25a8.75 8.75 0 1 0 0 17.5 8.75 8.75 0 0 0 0-17.5ZM4.75 12a7.25 7.25 0 1 1 14.5 0 7.25 7.25 0 0 1-14.5 0Z",clipRule:"evenodd"})]}))}e.s(["default",()=>s])},352701,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(606867);function s(e){return(0,r.jsx)(i.default,(0,n._)((0,t._)({},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.25 12a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm7 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm7 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Z",clipRule:"evenodd"})}))}e.s(["default",()=>s])},598160,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(606867);function s(e){return(0,r.jsx)(i.default,(0,n._)((0,t._)({},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 3.75A3.25 3.25 0 0 0 8.75 7v.25h6.5V7A3.25 3.25 0 0 0 12 3.75Zm4.75 3.604V7a4.75 4.75 0 1 0-9.5 0v.354c-.444.125-.842.36-1.164.671L4.53 6.47a.75.75 0 0 0-1.06 1.06l1.85 1.85c-.046.2-.07.407-.07.62v3.25H3a.75.75 0 0 0 0 1.5h2.291a6.709 6.709 0 0 0 1.018 2.88l-1.84 1.84a.75.75 0 1 0 1.061 1.06l1.727-1.727A6.729 6.729 0 0 0 12 20.75a6.728 6.728 0 0 0 4.743-1.947l1.727 1.727a.75.75 0 1 0 1.06-1.06l-1.839-1.84a6.71 6.71 0 0 0 1.018-2.88H21a.75.75 0 0 0 0-1.5h-2.25V10c0-.213-.024-.42-.07-.62l1.85-1.85a.75.75 0 0 0-1.06-1.06l-1.556 1.555a2.747 2.747 0 0 0-1.164-.671Zm-5.5 1.396H8c-.69 0-1.25.56-1.25 1.25v4a5.251 5.251 0 0 0 4.5 5.197V8.75Zm1.5 10.447V8.75H16c.69 0 1.25.56 1.25 1.25v4a5.251 5.251 0 0 1-4.5 5.197Z",clipRule:"evenodd"})}))}e.s(["default",()=>s])},677202,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(606867);function s(e){return(0,r.jsx)(i.default,(0,n._)((0,t._)({},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",clipRule:"evenodd"})}))}e.s(["default",()=>s])},354429,e=>{"use strict";var t=/^[a-zA-Z_][a-zA-Z0-9_]*$/;e.s(["POSIX_ENV_VAR_ERROR",()=>"Use only letters, numbers, and underscores (must start with a letter or underscore)","POSIX_ENV_VAR_PATTERN",()=>t])},467951,e=>{"use strict";var t=e.i(530658),n=e.i(389959),r=e.i(315801);function i(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.root,a=i.margin,o=i.amount,l=i.once,c=void 0!==l&&l,u=(0,t._)((0,n.useState)(!1),2),d=u[0],f=u[1];return(0,n.useEffect)(function(){if(e.current&&(!c||!d)){var t;return(0,r.inView)(e.current,function(){return f(!0),c?void 0:function(){return f(!1)}},{root:null!=(t=null==s?void 0:s.current)?t:void 0,rootMargin:a,threshold:o})}},[s,e,a,c,o,d]),d}e.s(["useInView",()=>i])},448337,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),i=e.i(304277);e.i(566901);var s=e.i(951262);function a(){var e=(0,n._)(["\n  fragment SharedSecret on SharedSecret {\n    id\n    name\n    description\n    version\n    value\n    timeCreated\n    timeUpdated\n    links {\n      items {\n        id\n        resource {\n          __typename\n          ... on Repl {\n            id\n            url\n            title\n            iconUrl\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        nextCursor\n        previousCursor\n      }\n      totalCount\n    }\n    owner {\n      __typename\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,n._)(["\n  query AccountSecrets($secretsInput: SecretsInput) {\n    currentUser {\n      id\n      secrets(input: $secretsInput) {\n        ... on SharedSecretConnection {\n          items {\n            ...SharedSecret\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            nextCursor\n            previousCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function l(){var e=(0,n._)(["\n  mutation CreateSharedSecrets($input: CreateSharedSecretsInput!) {\n    createSharedSecrets(input: $input) {\n      __typename\n      ... on CreateSharedSecretsResult {\n        createdSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function c(){var e=(0,n._)(["\n  mutation UpdateSharedSecrets($input: UpdateSharedSecretsInput!) {\n    updateSharedSecrets(input: $input) {\n      __typename\n      ... on UpdateSharedSecretsResult {\n        updatedSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,n._)(["\n  mutation DeleteSharedSecret($id: ID!) {\n    deleteSharedSecret(id: $id) {\n      __typename\n      ... on DeleteSharedSecretResult {\n        __typename\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return u=function(){return e},e}var d={},f=(0,r.gql)(a()),h=(0,r.gql)(o(),f);function m(e){var n=(0,t._)({},d,e);return i.useQuery(h,n)}var p=(0,r.gql)(l(),f);function g(e){var n=(0,t._)({},d,e);return s.useMutation(p,n)}var v=(0,r.gql)(c(),f);function x(e){var n=(0,t._)({},d,e);return s.useMutation(v,n)}var S=(0,r.gql)(u());function y(e){var n=(0,t._)({},d,e);return s.useMutation(S,n)}e.s(["SharedSecretFragmentDoc",()=>f,"useAccountSecretsQuery",()=>m,"useCreateSharedSecretsMutation",()=>g,"useDeleteSharedSecretMutation",()=>y,"useUpdateSharedSecretsMutation",()=>x])},466640,e=>{"use strict";var t=e.i(297083),n=e.i(721281),r=e.i(878420),i=e.i(64386),s=e.i(530658),a=e.i(346715),o=e.i(817556),l=e.i(276385),c=e.i(366492),u=e.i(389959),d=e.i(906368),f=e.i(417751),h=e.i(15053),m=e.i(448337),p=e.i(368964),g=e.i(709485),v=e.i(47503),x=e.i(222342),S=e.i(858248),y=e.i(354429),k=e.i(967629),j=e.i(480028),w=e.i(877249),b=e.i(446530),_=e.i(613355),C=e.i(140487),D=e.i(258941),E=e.i(88619),R=e.i(939562),T=e.i(887877),V=e.i(136540),M=e.i(607278),P=e.i(818503),U=e.i(739521),I=e.i(604963),A=e.i(929872),F=e.i(960178),z=e.i(795581),H=e.i(625484),B=e.i(418944),K=e.i(283023),N=e.i(841691),O=e.i(90102),L=e.i(530310),W=e.i(952030),q=e.i(703505),Z=(0,b.cssRecord)({root:[_.rcss.gap(16)]}),$=(0,b.cssRecord)({root:[_.rcss.flex.column,_.rcss.p(8),_.rcss.colWithGap(8)],clickableText:[_.rcss.color.accentPrimaryStronger,_.rcss.display.flex,_.rcss.cursor.pointer],disclaimer:[_.rcss.gap(4)],list:[{li:[_.rcss.flex.row,_.rcss.align.center,_.rcss.gap(4)]}]}),Y=function(e){var t=e.name,n=e.links,r=e.isOpen,i=e.onClose,a=e.onDelete,o=e.isLoading,c=(0,s._)((0,u.useState)(!1),2),d=c[0],f=c[1];return(0,l.jsx)(U.Modal,{isOpen:r,onRequestClose:function(){return i()},css:Z.root,children:(0,l.jsx)(D.default,{prompt:"Delete ".concat(t,"?"),desc:(0,l.jsxs)(l.Fragment,{children:[n&&n.totalCount>0?(0,l.jsxs)(I.PopoverTrigger,{label:"affected-repls",isOpen:d,onOpenChange:f,children:[(0,l.jsxs)("div",{children:[n.totalCount," Repl",1===n.totalCount?"":"s"," ","will immediately lose access to this secret"]}),(0,l.jsx)(ee,{links:n})]}):"No Apps are currently using this secret",(0,l.jsx)("br",{}),"This action cannot be undone."]}),onConfirm:a,onCancel:i,confirmText:"Yes, delete this secret",icon:(0,l.jsx)(q.default,{}),danger:!0,loading:o})})},G=(0,k.css)([_.rcss.border({color:j.tokens.outlineDimmer,width:1,direction:"bottom"}),{"&:last-child":{borderBottom:"none"}}]),Q=(0,b.cssRecord)({titleWrapper:[_.rcss.align.baseline],section:[_.rcss.borderRadius(12),_.rcss.p(16),_.rcss.flex.column,_.rcss.gap(12),{'*[data-sensitive="true"]':{fontFamily:"text-security-disc"}}],secretList:[_.rcss.borderRadius(),_.rcss.overflow("hidden")],secretItem:[G,_.rcss.align.center,_.rcss.p(8),_.rcss.display.grid,(0,n._)({gridTemplateColumns:"1fr 1fr 140px 50px",minWidth:0,overflow:"hidden"},"@media (max-width: ".concat(w.BREAKPOINTS.mobileMax,"px)"),{gridTemplateColumns:"1fr 2fr auto",gridTemplateRows:"auto auto",gridTemplateAreas:'\n          "name name edit"\n          "value value timestamp"\n        ',gap:"8px"})],secretValue:[_.rcss.display.grid,_.rcss.gap(4),_.rcss.overflow("hidden"),(0,n._)({gridTemplateColumns:"min-content minmax(50px, 1fr) min-content",minWidth:0,width:"100%","& > span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",minWidth:0,display:"block",width:"100%"}},"@media (max-width: ".concat(w.BREAKPOINTS.mobileMax,"px)"),{gridArea:"value"})],secretValueWrapper:[_.rcss.overflow("hidden"),_.rcss.width("100%"),{textOverflow:"ellipsis",minWidth:0}],secretValueText:[_.rcss.overflow("hidden"),{textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",width:"100%",maxWidth:"100%",minWidth:0}],secretName:[_.rcss.overflow("hidden"),_.rcss.width("100%"),(0,n._)({textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",minWidth:0,maxWidth:"100%"},"@media (max-width: ".concat(w.BREAKPOINTS.mobileMax,"px)"),{gridArea:"name",fontWeight:500})],secretTimestamp:[_.rcss.color.foregroundDimmer,(0,n._)({},"@media (max-width: ".concat(w.BREAKPOINTS.mobileMax,"px)"),{gridArea:"timestamp",textAlign:"right",fontSize:"0.75rem",whiteSpace:"nowrap"})],emptyState:[_.rcss.center,_.rcss.border({color:j.tokens.outlineDefault,width:1,style:"dashed"}),_.rcss.borderRadius(4),_.rcss.py(24),_.rcss.px(12)],secretEditContainer:[(0,n._)({},"@media (max-width: ".concat(w.BREAKPOINTS.mobileMax,"px)"),{gridArea:"edit",justifySelf:"end"})]}),X=function(e){var t=e.value,n=(0,s._)((0,u.useState)(!1),2),r=n[0],i=n[1];return(0,l.jsxs)(H.View,{css:Q.secretValue,row:!0,align:"center","data-sensitive":!r,children:[(0,l.jsx)(E.CopyIconButton,{textToCopy:t}),(0,l.jsx)(H.View,{css:Q.secretValueWrapper,children:(0,l.jsx)("span",{css:Q.secretValueText,children:r?t:"****************"})}),(0,l.jsx)(V.IconButton,{onClick:function(){return i(!r)},alt:r?"Hide":"Show",children:r?(0,l.jsx)(O.default,{size:16}):(0,l.jsx)(N.default,{size:16})})]})},J=(0,b.cssRecord)({root:[_.rcss.display.flex,_.rcss.flex.column,_.rcss.p(8),_.rcss.gap(8),G,{borderBottomWidth:1,borderBottomStyle:"solid"}],formFields:[_.rcss.display.grid,_.rcss.gap(32),{gridTemplateColumns:"2fr 3fr"}],formField:[_.rcss.flex.column,_.rcss.gap(8)],formFieldLabel:[{label:[_.rcss.flex.row,_.rcss.align.center,_.rcss.gap(4)]}],disclaimer:[_.rcss.color.foregroundDimmer,{fontSize:j.tokens.fontSizeSmall,lineHeight:j.tokens.lineHeightSmall}],footer:[_.rcss.display.flex,_.rcss.flex.row,_.rcss.justify.spaceBetween],footerGroup:[_.rcss.display.flex,_.rcss.flex.row,_.rcss.gap(4)]}),ee=function(e){var t=e.links;return(0,l.jsxs)(H.View,{css:$.root,children:[(0,l.jsx)(F.Text,{children:"The following Apps will be affected:"}),(0,l.jsx)("ul",{css:$.list,children:t.items.map(function(e){return"Repl"===e.resource.__typename?(0,l.jsxs)("li",{children:[(0,l.jsx)(B.default,{size:16,iconUrl:e.resource.iconUrl,alt:e.resource.title}),(0,l.jsx)(c.default,{href:e.resource.url,target:"_blank",children:e.resource.title},e.id)]},e.id):null})}),(0,l.jsxs)(F.Text,{color:"dimmer",children:["Please refresh the App page, then Stop and Run the App",(0,l.jsx)("br",{})," to use the updated linked secrets."]})]})},et=function(e){var n=e.name,r=e.value,i=e.onSave,a=e.onCancel,c=e.onDelete,f=e.isNew,h=e.secrets,m=(0,u.useMemo)(function(){return h.find(function(e){return e.name===n})},[h,n]),p=null==m?void 0:m.links,g=(0,x.default)(),v=(0,s._)((0,u.useState)(n),2),S=v[0],k=v[1],j=(0,s._)((0,u.useState)(r),2),w=j[0],b=j[1],_=(0,s._)((0,u.useState)(!0),2),D=_[0],E=_[1],U=(0,s._)((0,u.useState)(!1),2),A=U[0],F=U[1],B=(0,s._)((0,u.useState)(!1),2),K=B[0],L=B[1],W=(0,s._)((0,u.useState)(!1),2),Z=W[0],G=W[1],Q=(0,u.useMemo)(function(){return null!==S.match(y.POSIX_ENV_VAR_PATTERN)},[S]),X=(0,u.useMemo)(function(){return!h.some(function(e){return e.name===S&&e.name!==n})},[n,S,h]),et=(0,s._)((0,u.useState)(!1),2),en=et[0],er=et[1],ei=(0,s._)((0,u.useState)(null),2),es=ei[0],ea=ei[1];(0,u.useEffect)(function(){X?!Q&&S?ea(y.POSIX_ENV_VAR_ERROR):ea(null):ea("Key must be unique")},[X,Q,S]);var eo=(0,u.useCallback)(function(){return(0,t._)(function(){var e;return(0,o._)(this,function(t){switch(t.label){case 0:G(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,c()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),d.captureException(e),g.showError("Something went wrong. Please try again."),[3,4];case 4:return G(!1),[2]}})})()},[c,g]),el=(0,u.useCallback)(function(){return(0,t._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:if(!X||!Q)return[2];F(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i({name:S,value:w})];case 2:return e.sent(),[3,4];case 3:return ea(e.sent().message),[3,4];case 4:return F(!1),[2]}})})()},[X,Q,S,w,i]);return(0,l.jsxs)(T.Form,{css:J.root,onSubmit:function(e){e.preventDefault(),el()},children:[(0,l.jsxs)(H.View,{css:J.formFields,children:[(0,l.jsx)(H.View,{css:J.formField,children:(0,l.jsxs)(z.TextField,{validate:function(){return X?!Q&&S?y.POSIX_ENV_VAR_ERROR:void 0:"Key must be unique"},validationBehavior:"aria",isRequired:!0,minLength:1,maxLength:128,name:"secretName",value:S,onChange:function(e){return k(e)},isInvalid:null!==es,children:[(0,l.jsx)(P.Label,{color:"dimmer",multiline:!1,css:J.formFieldLabel,children:"Key"}),(0,l.jsx)(M.Input,{autoFocus:!0,autoComplete:"off","data-1p-ignore":!0}),(0,l.jsx)(R.FieldError,{children:es})]})}),(0,l.jsx)(H.View,{css:J.formField,children:(0,l.jsxs)(z.TextField,{isRequired:!0,minLength:1,name:"secretValue",value:w,onChange:function(e){return b(e)},children:[(0,l.jsxs)(P.Label,{color:"dimmer",multiline:!1,css:J.formFieldLabel,children:["Value"," ",(0,l.jsx)(V.IconButton,{alt:D?"Hide":"Show",size:12,onClick:function(){return E(!D)},children:D?(0,l.jsx)(O.default,{}):(0,l.jsx)(N.default,{})})]}),(0,l.jsx)(M.Input,{"data-sensitive":D,autoComplete:"off"})]})})]}),(0,l.jsx)(H.View,{css:J.disclaimer,children:(0,l.jsx)(l.Fragment,{children:p&&p.totalCount>0?(0,l.jsxs)(H.View,{css:$.disclaimer,row:!0,align:"center",children:[(0,l.jsxs)(I.PopoverTrigger,{label:"affected-repls",isOpen:en,onOpenChange:er,placement:"bottom start",children:[(0,l.jsxs)("span",{css:$.clickableText,children:[p.totalCount," Repl",1===p.totalCount?"":"s"," "]}),(0,l.jsx)(ee,{links:p})]}),"will be affected by this change."]}):null})}),(0,l.jsxs)(H.View,{css:J.footer,children:[f?(0,l.jsx)("div",{}):(0,l.jsx)(C.Button,{text:"Delete",colorway:"negative",onClick:function(){return L(!0)},iconLeft:(0,l.jsx)(q.default,{})}),(0,l.jsxs)(H.View,{css:J.footerGroup,children:[(0,l.jsx)(C.Button,{text:"Cancel",onClick:a,disabled:A}),(0,l.jsx)(C.Button,{text:"Save",colorway:"primary",loading:A,disabled:!X||!Q||!S.length,onClick:el,type:"submit"})]})]}),(0,l.jsx)(Y,{name:n,links:p,isOpen:K,onClose:function(){return L(!1)},onDelete:eo,isLoading:Z})]})},en=function(){var e=(0,v.useCurrentUserId)(),t=(0,x.default)().showError,n=(0,s._)((0,m.useCreateSharedSecretsMutation)({update:function(n,s){var o,l=s.data;if((null==l||null==(o=l.createSharedSecrets)?void 0:o.__typename)==="CreateSharedSecretsResult"){var c=l.createSharedSecrets.createdSecrets;n.modify({id:n.identify({__typename:"CurrentUser",id:e}),fields:{secrets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=c.map(function(e){return n.writeFragment({data:e,fragment:m.SharedSecretFragmentDoc})});return(0,i._)((0,r._)({},e),{items:(0,a._)(t).concat((0,a._)(e.items))})}}})}else(null==l?void 0:l.createSharedSecrets)&&t(l.createSharedSecrets.message)},onError:function(e){t("Failed to create secret. Please try again."),d.captureException(e)}}),2);return[n[0],n[1]]},er=function(){var e=(0,v.useCurrentUserId)(),t=(0,x.default)().showError,n=(0,s._)((0,m.useUpdateSharedSecretsMutation)({update:function(n,s){var a,o=s.data;if((null==o||null==(a=o.updateSharedSecrets)?void 0:a.__typename)==="UpdateSharedSecretsResult"){var l=o.updateSharedSecrets.updatedSecrets;n.modify({id:n.identify({__typename:"CurrentUser",id:e}),fields:{secrets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=e.items.map(function(e){var t=l.find(function(t){return t.id===e.id});return t?n.writeFragment({data:t,fragment:m.SharedSecretFragmentDoc}):e});return(0,i._)((0,r._)({},e),{items:t})}}})}else(null==o?void 0:o.updateSharedSecrets)&&t(o.updateSharedSecrets.message)},onError:function(e){t("Failed to update secret. Please try again."),d.captureException(e)}}),2);return[n[0],n[1]]},ei=function(){var e=(0,v.useCurrentUserId)(),t=(0,x.default)().showError,n=(0,s._)((0,m.useDeleteSharedSecretMutation)({update:function(n,s,a){var o,l=s.data,c=a.variables,u=null==c?void 0:c.id;u&&(null==l||null==(o=l.deleteSharedSecret)?void 0:o.__typename)==="DeleteSharedSecretResult"?n.modify({id:n.identify({__typename:"CurrentUser",id:e}),fields:{secrets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=(arguments.length>1?arguments[1]:void 0).readField;return(0,i._)((0,r._)({},e),{items:e.items.filter(function(e){return t("id",e)!==u})})}}}):(null==l?void 0:l.deleteSharedSecret)&&"message"in l.deleteSharedSecret&&t(l.deleteSharedSecret.message)},onError:function(e){t("Failed to delete secret. Please try again."),d.captureException(e)}}),2);return[n[0],n[1]]},es=function(e){var n=e.id,a=e.name,c=e.value,d=e.timeUpdated,h=e.onRemoveSecret,m=e.secrets,v="0"===e.version,x=(0,s._)((0,u.useState)(v),2),y=x[0],k=x[1],j=(0,u.useRef)(null),w=(0,u.useCallback)(function(){setTimeout(function(){var e;return null==(e=j.current)?void 0:e.focus()},0)},[]),b=(0,s._)(en(),1)[0],_=(0,s._)(er(),1)[0],C=(0,s._)(ei(),1)[0],D=(0,u.useCallback)(function(e){return(0,t._)(function(){return(0,o._)(this,function(t){switch(t.label){case 0:if(!v)return[3,2];return[4,b({variables:{input:{ownerType:p.SharedSecretOwnerType.Account,secrets:[e]}}})];case 1:return t.sent(),(0,S.track)(g.events.SHARED_SECRETS_USED,{ownerType:"account",action:"create",source:"account"}),[3,4];case 2:return[4,_({variables:{input:{ownerType:p.SharedSecretOwnerType.Account,secrets:[(0,i._)((0,r._)({},e),{id:n})]}}})];case 3:t.sent(),(0,S.track)(g.events.SHARED_SECRETS_USED,{ownerType:"account",action:"update",source:"account"}),t.label=4;case 4:return k(!1),[2]}})})()},[b,n,v,_]),E=(0,u.useCallback)(function(){k(!1),v?h():w()},[v,h,w]);return y||!d?(0,l.jsx)(et,{secrets:m,isNew:v,name:a,value:c,onDelete:function(){return(0,t._)(function(){return(0,o._)(this,function(e){switch(e.label){case 0:return[4,C({variables:{id:n}})];case 1:return e.sent(),(0,S.track)(g.events.SHARED_SECRETS_USED,{ownerType:"account",action:"delete",source:"account"}),h(),[2]}})})()},onSave:D,onCancel:E}):(0,l.jsxs)(H.View,{css:Q.secretItem,children:[(0,l.jsx)(H.View,{css:Q.secretName,children:a}),(0,l.jsx)(X,{value:c}),(0,l.jsxs)(H.View,{css:Q.secretTimestamp,children:["Updated ",(0,f.format)(new Date(d),"MM/dd/yy")]}),(0,l.jsx)(H.View,{css:Q.secretEditContainer,align:"end",children:(0,l.jsx)(V.IconButton,{alt:"Edit",onClick:function(){return k(!0)},ref:j,children:(0,l.jsx)(K.default,{})})})]})};function ea(){var e,t,n,i=(0,m.useAccountSecretsQuery)().data,o=(0,s._)((0,u.useState)((null==i||null==(t=i.currentUser)||null==(e=t.secrets)?void 0:e.__typename)==="SharedSecretConnection"?i.currentUser.secrets.items:[]),2),c=o[0],d=o[1];(0,u.useEffect)(function(){var e,t;d((null==i||null==(t=i.currentUser)||null==(e=t.secrets)?void 0:e.__typename)==="SharedSecretConnection"?i.currentUser.secrets.items:[])},[null==i||null==(n=i.currentUser)?void 0:n.secrets]);var f=(0,u.useCallback)(function(){d(function(e){return[{__typename:"SharedSecret",id:"temp-".concat((0,h.v4)()),name:"",value:"",timeUpdated:new Date().toISOString(),timeCreated:new Date().toISOString(),version:"0"}].concat((0,a._)(e))})},[]),p=(0,u.useCallback)(function(e){d(function(t){return t.filter(function(t,n){return n!==e})})},[]);return(0,l.jsxs)(H.View,{gap:8,children:[(0,l.jsxs)(H.View,{row:!0,justify:"space-between",children:[(0,l.jsx)(H.View,{css:Q.titleWrapper,row:!0,gap:8,children:(0,l.jsx)(F.Text,{variant:"subheadBig",multiline:!1,children:"Account Secrets"})}),(0,l.jsx)(H.View,{align:"center",row:!0,gap:8,children:(0,l.jsx)(C.Button,{text:"New secret",iconLeft:(0,l.jsx)(W.default,{}),size:"small",colorway:"primary",onClick:f})})]}),(0,l.jsxs)(A.Surface,{elevated:!0,css:Q.section,children:["Add secrets to your account to access them in any of your Apps.",0===c.length?(0,l.jsxs)(H.View,{css:Q.emptyState,gap:8,children:[(0,l.jsx)(L.default,{size:24,color:j.tokens.foregroundDimmest}),(0,l.jsx)(F.Text,{color:"dimmer",children:"You haven't added any account secrets yet."})]}):(0,l.jsx)(A.Surface,{elevated:!0,css:Q.secretList,children:c.map(function(e,t){return(0,l.jsx)(es,(0,r._)({secrets:c,onRemoveSecret:function(){return p(t)}},e),e.id)})})]})]})}e.s(["default",()=>ea,"useCreateSharedSecretsWithCache",()=>en,"useUpdateSharedSecretsWithCache",()=>er])},824108,133783,e=>{"use strict";var t=e.i(276385),n=e.i(610357),r=e.i(480028),i=e.i(446530),s=e.i(613355),a=e.i(136540),o=e.i(929872),l=e.i(960178),c=e.i(625484),u=e.i(51606),d=(0,i.cssRecord)({root:[s.rcss.borderRadius(4),s.rcss.border({color:r.tokens.outlineDimmer,width:1,style:"solid"}),s.rcss.p(8),s.rcss.backgroundColor.backgroundDefault],body:[s.rcss.overflow("auto"),s.rcss.font.code,s.rcss.flex.growAndShrink(1),s.rcss.scrollbar.hidden]});function f(e){var r=e.code,i=e.header,s=e.multiline,f=e.onCopy;return(0,t.jsxs)(o.Surface,{tag:"pre",css:d.root,gap:4,children:[(0,t.jsxs)(c.View,{row:!0,justify:"space-between",children:[(0,t.jsx)(l.Text,{color:"dimmer",children:i}),(0,t.jsx)(a.IconButton,{onClick:function(){null==f||f(),(0,n.default)(r)},alt:"Copy",children:(0,t.jsx)(u.default,{})})]}),(0,t.jsx)(c.View,{children:(0,t.jsx)(l.Text,{multiline:s,css:d.body,maxLines:s?void 0:1,children:r})})]})}e.s(["default",()=>f],824108);var h=e.i(332441);function m(){return(0,h.useIsWindows)()?"%HOMEPATH%":"~"}e.s(["default",()=>m],133783)},811081,255614,e=>{"use strict";e.s(["SSH_KEY_LIMIT",()=>20],811081);var t=["ssh-rsa","ssh-dss","ecdsa-sha2-nistp256","sk-ecdsa-sha2-nistp256@openssh.com","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","ssh-ed25519","sk-ssh-ed25519@openssh.com"];function n(e){var n=e.trim();if(""===n)return"Key cannot be empty";var r=n.split(" ");if(r.length<3||r.length>4)return"Key must have either 3 or 4 separate components";var i=3===r.length?r[0]:r[1];return t.includes(i)?null:"".concat(i," is not a valid key type")}e.s(["VALID_KEY_TYPES",()=>t,"default",()=>n],255614)},903941,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),i=e.i(951262),s=e.i(304277);function a(){var e=(0,n._)(["\n  mutation AddSshKey($input: AddPublicSshKeyInput!) {\n    addPublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,n._)(["\n  mutation DeleteSshKey($input: DeletePublicSshKeyInput!) {\n    deletePublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=(0,n._)(["\n  query SshKeysCurrentUser {\n    currentUser {\n      id\n      __typename\n      publicSshKeys {\n        ... on PublicSshKeysOutput {\n          keys {\n            id\n            key\n            label\n            timeCreated\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}e.i(566901);var c={},u=(0,r.gql)(a());function d(e){var n=(0,t._)({},c,e);return i.useMutation(u,n)}var f=(0,r.gql)(o());function h(e){var n=(0,t._)({},c,e);return i.useMutation(f,n)}var m=(0,r.gql)(l());function p(e){var n=(0,t._)({},c,e);return s.useQuery(m,n)}e.s(["useAddSshKeyMutation",()=>d,"useDeleteSshKeyMutation",()=>h,"useSshKeysCurrentUserQuery",()=>p])},200004,948981,22866,961228,e=>{"use strict";var t=e.i(297083),n=e.i(530658),r=e.i(817556),i=e.i(276385),s=e.i(931849),a=e.i(903941),o=e.i(569910),l=e.i(255614),c=e.i(322823),u=e.i(222342),d=e.i(858248),f=e.i(709485),h=e.i(824108),m=e.i(133783),p=e.i(480028),g=e.i(446530),v=e.i(613355),x=e.i(428596),S=e.i(965153),y=e.i(140487),k=e.i(607278),j=e.i(960178),w=e.i(625484),b=e.i(616278),_=function(e){var l=e.onConfirm,p=(0,u.default)(),g=p.showConfirm,v=p.showError,_=(0,s.useRouter)(),C=(0,m.default)(),V=(0,x.useIdSeed)(),M=(0,c.useFormField)("",R),P=(0,c.useFormField)("",E),U=(0,n._)((0,a.useAddSshKeyMutation)({onCompleted:function(e){var t;switch(null==(t=e.addPublicSshKey)?void 0:t.__typename){case"UserError":case"UnauthorizedError":case"ServiceUnavailable":v(e.addPublicSshKey.message);break;case"CurrentUser":M.setValue(""),P.setValue(""),g("SSH key added"),l();break;case void 0:case null:v("An unkown error occurred. Please try again.");break;default:(0,o.default)(e.addPublicSshKey)}},onError:function(e){v("Error adding SSH key: ".concat(e.message))}}),2),I=U[0],A=U[1].loading,F="[ -s ".concat(C,"/.ssh/replit.pub ] || ssh-keygen -t ed25519 -f ").concat(C,'/.ssh/replit -q -N "" && cat ').concat(C,"/.ssh/replit.pub");return(0,i.jsxs)(w.View,{gap:16,children:[(0,i.jsx)(j.Text,{variant:"headerDefault",children:"Add a new SSH key"}),(0,i.jsxs)(w.View,{css:T.input,children:[(0,i.jsx)(w.View,{tag:"label",htmlFor:V("label-input"),children:"Label"}),(0,i.jsx)(k.Input,{id:V("label-input"),placeholder:"Enter a label to identify this SSH key...",value:P.value,onChange:function(e){return P.setValue(e.target.value,{preventValidation:!0})},onBlur:P.handleBlur}),P.error?(0,i.jsx)(j.Text,{multiline:!1,variant:"small",css:T.inputErrorMessage,children:P.error.message}):null]}),(0,i.jsxs)(w.View,{css:T.input,children:[(0,i.jsx)(w.View,{tag:"label",htmlFor:V("key-input"),children:"Key"}),(0,i.jsx)(k.MultiLineInput,{autoSize:!0,id:V("key-input"),placeholder:D,value:M.value,css:T.keyInput,onChange:function(e){return M.setValue(e.target.value,{preventValidation:!0})},onBlur:M.handleBlur}),M.error?(0,i.jsx)(j.Text,{multiline:!1,variant:"small",css:T.inputErrorMessage,children:M.error.message}):null]}),(0,i.jsx)(S.AccordionItem,{headerContent:(0,i.jsx)(j.Text,{color:"dimmer",children:"Learn how to generate an SSH key"}),headerProps:{style:{justifyContent:"start"}},children:(0,i.jsxs)(w.View,{px:6,gap:4,children:[(0,i.jsx)(j.Text,{color:"dimmer",children:"To generate an SSH key, run this shell command locally on your machine. The value it returns can be pasted into the key field."}),(0,i.jsx)(h.default,{code:F,header:"Shell command",multiline:!0})]})}),(0,i.jsx)(w.View,{row:!0,children:(0,i.jsx)(y.Button,{disabled:A||!!M.error||!!P.error,colorway:"primary",text:"Add SSH key",type:"submit",iconLeft:(0,i.jsx)(b.default,{}),onClick:function(){return(0,t._)(function(){var e,t;return(0,r._)(this,function(n){switch(n.label){case 0:return[4,M.validate()];case 1:return e=n.sent(),[4,P.validate()];case 2:if(t=n.sent(),e)return v(e.message),[2];if(t)return v(t.message),[2];return(0,d.track)(f.events.WORKSPACE,{action:"ssh_key_added",path:_.pathname}),[4,I({variables:{input:{key:M.value.trim(),label:P.value.trim()}}})];case 3:return n.sent(),[2]}})})()}})})]})},C=l.VALID_KEY_TYPES.map(function(e){return"'".concat(e,"'")}),D="Begins with ".concat(C.slice(0,-1).join(", "),", or ").concat(C[C.length-1]),E=function(e){return""===e.trim()?{message:"Label cannot be empty",severity:"error"}:null},R=function(e){var t=(0,l.default)(e);return t?{message:t,severity:"error"}:null},T=(0,g.cssRecord)({input:[v.rcss.colWithGap(8)],keyInput:[v.rcss.height(p.tokens.space128)],inputErrorMessage:[v.rcss.color.accentNegativeDefault]});e.s(["AddSshKeyDialog",()=>_],200004);var V="https://docs.replit.com/replit-workspace/ssh";e.s(["SSH_AUTHORIZED_KEYS_FILE_PATH",()=>".config/ssh/.authorized_keys","SSH_DOCS_HREF",()=>V],948981);var M=e.i(91720),P=e.i(442060),U=function(){return(0,i.jsx)(M.ButtonLink,{href:V,target:"_blank",rel:"noopener",text:"Need help? Read the docs",variant:"underlinedOnHover",colorway:"primary",iconLeft:(0,i.jsx)(P.default,{})})};e.s(["SshKeyTip",()=>U],22866);var I=e.i(389959),A=e.i(968323),F=e.i(610357),z=e.i(739521),H=e.i(396776),B=e.i(42458),K=function(e){var t=e.onClose,n=e.onConfirm,r=e.keyId;return(0,i.jsx)(z.Modal,{centered:!0,isOpen:null!==r,onRequestClose:t,children:(0,i.jsxs)(w.View,{gap:16,children:[(0,i.jsx)(j.Text,{variant:"headerDefault",children:"Delete SSH key"}),(0,i.jsx)(H.StatusBanner,{icon:(0,i.jsx)(B.default,{}),colorway:"warning",text:"Are you sure you want to permanently delete this SSH key?"}),(0,i.jsx)(j.Text,{multiline:!0,children:"This action cannot be undone. If you want to use this key again in the future, you can add it again."}),(0,i.jsxs)(w.View,{row:!0,gap:16,justify:"start",children:[(0,i.jsx)(y.Button,{text:"Cancel",onClick:t}),(0,i.jsx)(y.Button,{colorway:"negative",text:"Confirm and delete SSH key",onClick:null!==r?function(){return n(r)}:function(){}})]})]})})},N=e.i(136540),O=e.i(929872),L=e.i(51606),W=e.i(216373),q=e.i(703505),Z=function(e){var t=e.keys,r=(0,s.useRouter)(),l=(0,u.default)(),c=l.showConfirm,h=l.showError,m=(0,n._)((0,I.useState)(null),2),g=m[0],v=m[1],x=(0,n._)((0,a.useDeleteSshKeyMutation)({onCompleted:function(e){if(!e.deletePublicSshKey)throw Error("Expected response");switch(e.deletePublicSshKey.__typename){case"UnauthorizedError":case"ServiceUnavailable":case"NotFoundError":h(e.deletePublicSshKey.message);break;case"CurrentUser":c("SSH key deleted");break;default:(0,o.default)(e.deletePublicSshKey)}},onError:function(e){h("Something unexpected happened while deleting the SSH key")}}),2),S=x[0],y=x[1].loading;return 0===t.length?(0,i.jsxs)(w.View,{css:G.emptyState,gap:8,children:[(0,i.jsx)(W.default,{size:24,color:p.tokens.foregroundDimmest}),(0,i.jsx)(j.Text,{color:"dimmer",children:"You haven't added any SSH keys yet."})]}):(0,i.jsxs)(w.View,{tag:"ul",gap:8,children:[t.map(function(e){var t=e.timeCreated,n=e.label,r=e.key,s=e.id;return(0,i.jsxs)(O.Surface,{elevated:!0,p:8,gap:4,tag:"li",children:[(0,i.jsxs)(w.View,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,i.jsx)(j.Text,{variant:"small",css:G.keyLabelText,children:n}),(0,i.jsxs)(w.View,{row:!0,gap:4,children:[(0,i.jsx)(N.IconButton,{alt:"Copy",onClick:function(){(0,F.default)(r)},children:(0,i.jsx)(L.default,{size:16})}),(0,i.jsx)(N.IconButton,{alt:"Delete public SSH key",disabled:y,onClick:function(){v(s)},children:(0,i.jsx)(q.default,{size:16})})]})]}),(0,i.jsxs)(w.View,{row:!0,gap:8,align:"center",children:[(0,i.jsx)(W.default,{css:G.keyIcon}),(0,i.jsx)($,{sshKey:r})]}),(0,i.jsx)(w.View,{css:G.keyTime,tag:"time",dateTime:t,children:(0,i.jsxs)(j.Text,{variant:"small",color:"dimmer",children:["Added on"," ",new Date(t).toLocaleDateString(void 0,{dateStyle:"long"})]})})]},s)}),(0,i.jsx)(K,{keyId:g,onClose:function(){return v(null)},onConfirm:function(e){(0,d.track)(f.events.WORKSPACE,{action:"ssh_key_removed",path:r.pathname}),S({variables:{input:{id:e}}}),v(null)}})]})},$=function(e){var t=e.sshKey,r=Y(t),s=(0,n._)(r.ok?["".concat(r.value.keyType," ").concat(r.value.encodedKey.slice(0,-8)),"".concat(r.value.encodedKey.slice(-8)," ").concat(r.value.comment)]:[t.slice(0,-8),t.slice(-8)],2),a=s[0],o=s[1];return(0,i.jsxs)(w.View,{shrink:!0,row:!0,gap:0,children:[(0,i.jsx)(j.Text,{variant:"small",color:"dimmer",maxLines:1,css:G.keyValuePrefix,children:a}),(0,i.jsx)(j.Text,{variant:"small",color:"dimmer",maxLines:1,css:G.keyValueSuffix,children:o})]})},Y=function(e){var t=e.split(" ");return t.length<3?A.default.Err("Key is in an unexpected format"):A.default.Ok({keyType:t[0],encodedKey:t[1],comment:t[2]})},G=(0,g.cssRecord)({keyIcon:[v.rcss.color.foregroundDimmer],keyTime:[v.rcss.color.foregroundDimmer],keyLabelText:[v.rcss.fontWeight.medium],keyValuePrefix:[v.rcss.flex.shrink(1),{whiteSpace:"nowrap"},v.rcss.truncate,v.rcss.font.code],keyValueSuffix:[{whiteSpace:"nowrap"},v.rcss.truncate,v.rcss.font.code],emptyState:[v.rcss.center,v.rcss.border({color:p.tokens.outlineDefault,width:1,style:"dashed"}),v.rcss.borderRadius(4),v.rcss.py(24),v.rcss.px(12)]});e.s(["UserSshKeyList",()=>Z],961228)},316599,e=>{"use strict";var t=e.i(276385),n=e.i(960178);function r(e){var r=e.last4,i=e.fluent;return(0,t.jsx)(n.Text,{multiline:!1,children:i?"Card ending in ".concat(r):"路路路路".concat(r)})}e.s(["CardLastFour",()=>r])},843136,e=>{"use strict";var t=e.i(530658),n=e.i(346715),r=e.i(389959);function i(e){var i=(0,t._)((0,r.useState)(e),2),s=i[0],a=i[1],o=(0,t._)((0,r.useState)([]),2),l=o[0],c=o[1],u=(0,r.useCallback)(function(e){c((0,n._)(l).concat([s])),a(e)},[l,c,s,a]);return{currentStep:s,goTo:u,goBack:(0,r.useCallback)(function(){var e=l.pop();c(l),e&&a(e)},[l,c,a]),canGoBack:l.length>0}}e.s(["usePaymentSteps",()=>i])},32629,527640,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),i=e.i(304277);function s(){var e=(0,n._)(["\n  fragment UserPaymentMethod on PaymentMethod {\n    id\n    last4\n  }\n"]);return s=function(){return e},e}e.i(566901);var a=(0,r.gql)(s());function o(){var e=(0,n._)(["\n  query UserPaymentMethod {\n    currentUser {\n      id\n      paymentMethod {\n        ... on PaymentMethod {\n          ...UserPaymentMethod\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}e.s(["UserPaymentMethodFragmentDoc",()=>a],527640);var l={},c=(0,r.gql)(o(),a);function u(){var e,n,r,s,a,o,u=(e=(0,t._)({},l,void 0),i.useQuery(c,e)),d=u.data;return u.loading?{paymentMethod:null,loading:!0,error:null}:(null==d||null==(r=d.currentUser)||null==(n=r.paymentMethod)?void 0:n.__typename)==="PaymentMethod"?{paymentMethod:{last4:null==d?void 0:d.currentUser.paymentMethod.last4},loading:!1,error:null}:(null==d||null==(a=d.currentUser)||null==(s=a.paymentMethod)?void 0:s.__typename)==="UnauthorizedError"?{paymentMethod:null,loading:!1,error:d.currentUser.paymentMethod.message}:(null==d||null==(o=d.currentUser)?void 0:o.paymentMethod)===null?{paymentMethod:null,loading:!1,error:null}:{paymentMethod:null,loading:!1,error:"Unknown error"}}e.s(["useUserPaymentMethod",()=>u],32629)},681953,e=>{"use strict";var t=e.i(276385),n=e.i(389959),r=e.i(596139),i=e.i(316599),s=e.i(911928),a=e.i(32629),o=e.i(446530),l=e.i(613355),c=e.i(140487),u=e.i(136540),d=e.i(396776),f=e.i(625484),h=e.i(283023),m=e.i(363201),p=e.i(940745),g=e.i(952030),v=(0,o.cssRecord)({loadingContainer:[l.rcss.minHeight(80)]});function x(e){var o=e.goToNewPaymentMethodForm,l=(0,s.useIsOnTrialPlan)(),x=l.loading,S=l.isOnTrialPlan,y=l.trialWillCancel,k=(0,a.useUserPaymentMethod)(),j=k.paymentMethod,w=k.loading,b=k.error,_=(0,n.useMemo)(function(){return S&&!y?(0,t.jsx)(d.StatusBanner,{colorway:"primary",icon:(0,t.jsx)(m.default,{}),text:(0,t.jsxs)(t.Fragment,{children:["Adding a payment method will set your Replit ",r.corePlanName," ","membership to auto-renew at the end of the trial."]})}):(0,t.jsx)(d.StatusBanner,{colorway:"primary",icon:(0,t.jsx)(m.default,{}),text:"Add a payment method to enable additional resource usage."})},[S,y]);return w||x||null!=b?(0,t.jsx)(f.View,{css:v.loadingContainer,justify:"center",align:"center",children:(0,t.jsx)(p.default,{})}):(0,t.jsxs)(f.View,{gap:16,children:[null!=j?(0,t.jsx)(f.View,{gap:16,children:(0,t.jsxs)(f.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(u.IconButton,{alt:"Update Payment Method",onClick:o,children:(0,t.jsx)(h.default,{})}),(0,t.jsx)(i.CardLastFour,{last4:j.last4})]})}):null," ",null==j?(0,t.jsxs)(f.View,{gap:6,children:[_,(0,t.jsx)(c.Button,{text:"Add Payment Method",iconLeft:(0,t.jsx)(g.default,{}),onClick:o})]}):null]})}var S=e.i(845228),y=e.i(843136),k=e.i(960178),j=e.i(352767);function w(){var e=(0,y.usePaymentSteps)({step:"card_preferences"}),n=e.currentStep,r=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,t.jsx)(x,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})}});case"new_payment_method_form":return(0,t.jsxs)(f.View,{gap:16,children:[(0,t.jsxs)(f.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(u.IconButton,{alt:"Back",onClick:r,children:(0,t.jsx)(j.default,{})}),(0,t.jsx)(k.Text,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,t.jsx)(S.NewPaymentMethodForm,{onClose:r,context:"account_page"})]})}}e.s(["AccountPaymentMethodFlow",()=>w],681953)},371375,e=>{"use strict";var t=e.i(480028);let n={fontFamily:{"sans-serif":t.tokens.fontFamilyDefault,serif:t.tokens.fontFamilyDefault,monospace:t.tokens.fontFamilyCode},fontWeight:{light:t.tokens.fontWeightRegular,regular:t.tokens.fontWeightRegular,medium:t.tokens.fontWeightMedium,bold:t.tokens.fontWeightBold},levels:{1:t.tokens.fontSizeHeaderBig,2:t.tokens.fontSizeHeaderBig,3:t.tokens.fontSizeHeaderDefault,4:t.tokens.fontSizeSubheadBig,5:t.tokens.fontSizeSubheadDefault,6:t.tokens.fontSizeSmall},foreground:{1:t.tokens.foregroundDefault,2:t.tokens.foregroundDimmer,3:t.tokens.foregroundDimmest,4:t.tokens.foregroundDimmest,"transparent-1":t.tokens.foregroundDimmest,"transparent-2":t.tokens.foregroundDimmest},background:{1:t.tokens.backgroundDefault,2:t.tokens.backgroundRoot,3:t.tokens.backgroundRoot},lineHeight:{xxsmall:t.tokens.lineHeightSmall,xsmall:t.tokens.lineHeightSmall,small:t.tokens.lineHeightDefault,medium:t.tokens.lineHeightSubheadDefault,large:t.tokens.lineHeightSubheadDefault,xlarge:t.tokens.lineHeightHeaderDefault,xxlarge:t.tokens.lineHeightHeaderDefault},fontSize:{xxsmall:t.tokens.fontSizeSmall,xsmall:t.tokens.fontSizeSmall,small:t.tokens.fontSizeDefault,medium:t.tokens.fontSizeSubheadDefault,large:t.tokens.fontSizeSubheadDefault,xlarge:t.tokens.fontSizeHeaderDefault,xxlarge:t.tokens.fontSizeHeaderDefault},spacing:{half:t.tokens.space4,1:t.tokens.space8,2:t.tokens.space16,3:t.tokens.space24,4:t.tokens.space32,5:t.tokens.space48,6:t.tokens.space48,7:t.tokens.space64,8:t.tokens.space64,9:t.tokens.space64,10:t.tokens.space64,11:t.tokens.space64,12:t.tokens.space128}};e.s(["default",0,n])},352758,e=>{"use strict";var t=e.i(276385),n=e.i(371375),r=function(e){return"number"==typeof e&&e>0&&e in n.default.spacing?n.default.spacing[e]:e};e.s(["default",0,function(e){var n=e.size,i=e.width,s=e.height,a=n&&r(n);return(0,t.jsx)("div",{style:{width:a||r(void 0===i?1:i),height:a||r(void 0===s?1:s),userSelect:"none",pointerEvents:"none"}})},"getSpacing",()=>r])},964269,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(886513),i=e.i(276385),s=e.i(967629),a=e.i(352758),o=function(e){return"start"===e||"end"===e?"flex-".concat(e):e},l=function(e){var l=e.dir,c=void 0===l?"row":l,u=e.spacing,d=void 0===u?0:u,f=e.align,h=e.justify,m=e.isInline,p=e.isReversed,g=void 0!==p&&p,v=e.wrap,x=e.constrainWidth,S=e.tag,y=e.className,k=e.children,j=(0,r._)(e,["dir","spacing","align","justify","isInline","isReversed","wrap","constrainWidth","tag","className","children"]),w="row"===c;return(0,i.jsx)(void 0===S?"div":S,(0,n._)((0,t._)({clsx:[y,{"h-stack":w,"v-stack":!w,"constrain-width":void 0!==x&&x}]},j),{css:(0,s.css)("display:",void 0!==m&&m?"inline-flex":"flex",";flex-direction:",g?"".concat(c,"-reverse"):c,";align-items:",o(void 0===f?"start":f),";justify-content:",o(void 0===h?"start":h),";flex-wrap:",void 0===v?"wrap":v,";&.h-stack > *{margin-",g?"left":"right",":",(0,a.getSpacing)(d),";}&.h-stack > *:last-child{margin-",g?"left":"right",":0;}&.v-stack > *{margin-",g?"top":"bottom",":",(0,a.getSpacing)(d),";}&.v-stack > *:last-child{margin-",g?"top":"bottom",":0;}&.constrain-width{max-width:100%;}"),children:k}))},c=function(e){return(0,i.jsx)(l,(0,n._)((0,t._)({},e),{dir:"row"}))},u=function(e){return(0,i.jsx)(l,(0,n._)((0,t._)({},e),{dir:"column"}))};e.s(["HStack",()=>c,"VStack",()=>u])},524101,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(371375);function s(e){var s=e.size,a=e.tag,o=e.fontFamily,l=e.fontWeight,c=e.foreground,u=e.align,d=e.truncate,f=e.className,h=e.children,m=e.onClick,p={fontSize:i.default.fontSize[void 0===s?"medium":s],fontFamily:i.default.fontFamily[void 0===o?"sans-serif":o],fontWeight:i.default.fontWeight[void 0===l?"regular":l],color:i.default.foreground[void 0===c?1:c],textAlign:void 0===u?"left":u,transition:"opacity 0.1s"};return void 0!==d&&d&&(p=(0,n._)((0,t._)({},p),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"})),(0,r.jsx)(void 0===a?"span":a,{onClick:m,className:void 0===f?"":f,style:p,children:h})}e.s(["default",()=>s])},448600,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(886513),i=e.i(530658),s=e.i(276385),a=e.i(389959),o=e.i(967629),l=e.i(480028),c=e.i(428596),u=e.i(352758),d=e.i(964269),f=e.i(524101),h=e.i(616278),m=e.i(363201),p=e.i(940745),g=e.i(677202),v=e.i(42458),x={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},S=(0,a.forwardRef)(function(e,g){var S,k,j,w=e.label,b=e.description,_=e.icon,C=e.id,D=e.onChange,E=e.large,R=e.placeholder,T=e.validationResults,V=e.onValidationError,M=e.dataCy,P=(0,r._)(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError","dataCy"]),U=(0,c.useIdSeed)(),I=C||U("input"),A=b?U("input-description"):void 0,F=(0,i._)((0,a.useState)(!1),2),z=F[0],H=F[1];(null==T?void 0:T.some(function(e){return"loading"===e.state}))?(S="loading",k=(0,s.jsx)(p.default,{size:16})):(null==T?void 0:T.some(function(e){return"error"===e.state}))?(S="error",j=l.tokens.accentNegativeDefault,k=(0,s.jsx)(v.default,{}),z&&(null==V||V())):(null==T?void 0:T.some(function(e){return"warning"===e.state}))?(S="warning",j=l.tokens.foregroundDimmest,k=(0,s.jsx)(m.default,{})):(null==T?void 0:T.every(function(e){return"success"===e.state}))?(S="success",j=l.tokens.accentPositiveDefault,k=(0,s.jsx)(h.default,{})):S="default";var B=x[S],K=E?l.tokens.fontSizeSubheadDefault:l.tokens.fontSizeDefault;return(0,s.jsxs)("div",{css:(0,o.css)("display:flex;position:relative;flex-direction:column;width:100%;.required{color:",l.tokens.accentNegativeDefault,";font-size:",l.tokens.fontSizeSmall,";}.spacer.row{width:",l.tokens.space4,";}.spacer.col{height:",l.tokens.space4,";}.input-container{position:relative;}.icon-container{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);background-color:",l.tokens.backgroundDefault,";border-radius:100%;padding:",l.tokens.space4,";}.icon-container.right{right:",l.tokens.space8,";color:",j,";}.icon-container.left{left:",l.tokens.space4,";background-color:transparent;color:",l.tokens.foregroundDimmest,";}input{font-size:",K,";font-family:",P.monospace?l.tokens.fontFamilyCode:l.tokens.fontFamilyDefault,";line-height:",K,";background-color:",l.tokens.backgroundDefault,";color:",l.tokens.foregroundDefault,";padding:",l.tokens.space8,";padding-left:",_?l.tokens.space24:"auto",";border:1px solid ",l.tokens.outlineDimmest,";border-radius:",l.tokens.borderRadius4,";outline:none;width:100%;box-sizing:border-box;transition:color 0.1s,background-color 0.1s;}input:disabled{opacity:0.5;}input.default:hover{border-color:",l.tokens.accentPrimaryDimmer,";}input.success{border-color:",l.tokens.accentPositiveStronger,";}input.success:hover{border-color:",l.tokens.accentPositiveDimmer,";}input.negative{border-color:",l.tokens.accentNegativeDefault,";}input.negative:hover{border-color:",l.tokens.accentNegativeDimmer,";}input:active,input:focus{border-color:",l.tokens.accentPrimaryDefault,";}"),children:[w?(0,s.jsxs)(s.Fragment,{children:[P.required?(0,s.jsxs)(d.HStack,{spacing:"2px",children:[(0,s.jsx)(f.default,{tag:"label",foreground:z?1:2,size:E?"small":"xsmall",htmlFor:I,children:w}),(0,s.jsx)("span",{className:"required",children:"*"})]}):(0,s.jsx)(f.default,{tag:"label",foreground:z?1:2,size:E?"small":"xsmall",htmlFor:I,children:w}),(0,s.jsx)(u.default,{height:"4px"})]}):null,(0,s.jsxs)("div",{className:"input-container",children:[_?(0,s.jsx)("div",{className:"icon-container left",children:_}):null,(0,s.jsx)("input",(0,n._)((0,t._)({id:I,ref:g,required:P.required||!1,onChange:D,placeholder:void 0===R?"":R,"aria-busy":"loading"===S,"aria-invalid":"error"===S,"aria-describedby":A,"data-cy":M},P),{onFocus:function(e){H(!0),P.onFocus&&P.onFocus(e)},onBlur:function(e){H(!1),P.onBlur&&P.onBlur(e)},clsx:[B,P.className]})),k?(0,s.jsx)("div",{className:"icon-container right",onMouseEnter:function(){return H(!0)},onMouseLeave:function(){return H(!1)},children:k}):null]}),b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.default,{height:"4px"}),(0,s.jsx)(f.default,{id:A,tag:"span",foreground:3,size:E?"medium":"small",children:b})]}):null,(null==T?void 0:T.some(function(e){return!!e.message}))&&z?(0,s.jsx)(y,{validationResults:T}):null]})}),y=function(e){var t=e.validationResults;return(0,s.jsx)("div",{"aria-live":"polite",css:(0,o.css)("width:100%;display:flex;flex-direction:column;position:absolute;top:calc(100% + ",l.tokens.space4,");background-color:",l.tokens.backgroundDefault,";padding:",l.tokens.space8,";border-radius:",l.tokens.borderRadius4,";z-index:9999;box-shadow:",l.tokens.shadow2,";.validation-row{display:flex;align-items:flex-start;width:100%;padding-bottom:",l.tokens.space4,";}.validation-icon-container{flex-shrink:0;padding-right:",l.tokens.space4,";}"),children:t.map(function(e,t){var n;switch(e.state){case"success":n=(0,s.jsx)(h.default,{color:l.tokens.accentPositiveDefault});break;case"error":n=(0,s.jsx)(v.default,{color:l.tokens.accentNegativeDefault});break;case"warning":n=(0,s.jsx)(m.default,{color:l.tokens.foregroundDimmest});break;default:n=(0,s.jsx)(g.default,{color:l.tokens.foregroundDimmest})}return(0,s.jsxs)("div",{className:"validation-row",children:[(0,s.jsx)("div",{className:"validation-icon-container",children:n}),(0,s.jsx)(u.default,{width:"4px"}),(0,s.jsx)(f.default,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})})};e.s(["default",0,S])}]);

//# debugId=f9652d2d-5c5b-1cb1-5c41-3260a8c9c5a2
//# sourceMappingURL=08b253bb95545b91.js.map